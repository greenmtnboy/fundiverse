"use strict";const jt=require("electron"),Ur=require("node:path"),Rr=require("path"),Hc=require("util"),ba=require("fs"),Yu=require("crypto"),Qu=require("assert"),Zu=require("events"),Bc=require("os"),xu=require("http"),Wc=require("child_process");var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ed(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oa={exports:{}},td=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const dr=td,rd=new Set(["__proto__","prototype","constructor"]),nd=e=>!e.some(t=>rd.has(t));function qn(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let s=t[n];for(;s[s.length-1]==="\\"&&t[n+1]!==void 0;)s=s.slice(0,-1)+".",s+=t[++n];r.push(s)}return nd(r)?r:[]}var sd={get(e,t,r){if(!dr(e)||typeof t!="string")return r===void 0?e:r;const n=qn(t);if(n.length!==0){for(let s=0;s<n.length;s++)if(e=e[n[s]],e==null){if(s!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!dr(e)||typeof t!="string")return e;const n=e,s=qn(t);for(let a=0;a<s.length;a++){const i=s[a];dr(e[i])||(e[i]={}),a===s.length-1&&(e[i]=r),e=e[i]}return n},delete(e,t){if(!dr(e)||typeof t!="string")return!1;const r=qn(t);for(let n=0;n<r.length;n++){const s=r[n];if(n===r.length-1)return delete e[s],!0;if(e=e[s],!dr(e))return!1}},has(e,t){if(!dr(e)||typeof t!="string")return!1;const r=qn(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(dr(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},Pa={exports:{}},Na={exports:{}},Oa={exports:{}},Ra={exports:{}};const Xc=ba;Ra.exports=e=>new Promise(t=>{Xc.access(e,r=>{t(!r)})});Ra.exports.sync=e=>{try{return Xc.accessSync(e),!0}catch{return!1}};var ad=Ra.exports,Ta={exports:{}},Ia={exports:{}};const Jc=(e,...t)=>new Promise(r=>{r(e(...t))});Ia.exports=Jc;Ia.exports.default=Jc;var od=Ia.exports;const id=od,Yc=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},s=(u,c,...l)=>{r++;const d=id(u,...l);c(d),d.then(n,n)},a=(u,c,...l)=>{r<e?s(u,c,...l):t.push(s.bind(null,u,c,...l))},i=(u,...c)=>new Promise(l=>a(u,l,...c));return Object.defineProperties(i,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),i};Ta.exports=Yc;Ta.exports.default=Yc;var cd=Ta.exports;const Ri=cd;class Qc extends Error{constructor(t){super(),this.value=t}}const ld=(e,t)=>Promise.resolve(e).then(t),ud=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new Qc(t[0])));var dd=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=Ri(r.concurrency),s=[...e].map(i=>[i,n(ld,i,t)]),a=Ri(r.preserveOrder?1:1/0);return Promise.all(s.map(i=>a(ud,i))).then(()=>{}).catch(i=>i instanceof Qc?i.value:Promise.reject(i))};const Zc=Rr,xc=ad,fd=dd;Oa.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),fd(e,r=>xc(Zc.resolve(t.cwd,r)),t));Oa.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(xc.sync(Zc.resolve(t.cwd,r)))return r};var hd=Oa.exports;const rr=Rr,el=hd;Na.exports=(e,t={})=>{const r=rr.resolve(t.cwd||""),{root:n}=rr.parse(r),s=[].concat(e);return new Promise(a=>{(function i(u){el(s,{cwd:u}).then(c=>{c?a(rr.join(u,c)):u===n?a(null):i(rr.dirname(u))})})(r)})};Na.exports.sync=(e,t={})=>{let r=rr.resolve(t.cwd||"");const{root:n}=rr.parse(r),s=[].concat(e);for(;;){const a=el.sync(s,{cwd:r});if(a)return rr.join(r,a);if(r===n)return null;r=rr.dirname(r)}};var md=Na.exports;const tl=md;Pa.exports=async({cwd:e}={})=>tl("package.json",{cwd:e});Pa.exports.sync=({cwd:e}={})=>tl.sync("package.json",{cwd:e});var pd=Pa.exports,Aa={exports:{}};const Pe=Rr,rl=Bc,tr=rl.homedir(),Ca=rl.tmpdir(),{env:Vr}=process,$d=e=>{const t=Pe.join(tr,"Library");return{data:Pe.join(t,"Application Support",e),config:Pe.join(t,"Preferences",e),cache:Pe.join(t,"Caches",e),log:Pe.join(t,"Logs",e),temp:Pe.join(Ca,e)}},yd=e=>{const t=Vr.APPDATA||Pe.join(tr,"AppData","Roaming"),r=Vr.LOCALAPPDATA||Pe.join(tr,"AppData","Local");return{data:Pe.join(r,e,"Data"),config:Pe.join(t,e,"Config"),cache:Pe.join(r,e,"Cache"),log:Pe.join(r,e,"Log"),temp:Pe.join(Ca,e)}},vd=e=>{const t=Pe.basename(tr);return{data:Pe.join(Vr.XDG_DATA_HOME||Pe.join(tr,".local","share"),e),config:Pe.join(Vr.XDG_CONFIG_HOME||Pe.join(tr,".config"),e),cache:Pe.join(Vr.XDG_CACHE_HOME||Pe.join(tr,".cache"),e),log:Pe.join(Vr.XDG_STATE_HOME||Pe.join(tr,".local","state"),e),temp:Pe.join(Ca,t,e)}},nl=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?$d(e):process.platform==="win32"?yd(e):vd(e)};Aa.exports=nl;Aa.exports.default=nl;var gd=Aa.exports,It={},$e={};Object.defineProperty($e,"__esModule",{value:!0});$e.NOOP=$e.LIMIT_FILES_DESCRIPTORS=$e.LIMIT_BASENAME_LENGTH=$e.IS_USER_ROOT=$e.IS_POSIX=$e.DEFAULT_TIMEOUT_SYNC=$e.DEFAULT_TIMEOUT_ASYNC=$e.DEFAULT_WRITE_OPTIONS=$e.DEFAULT_READ_OPTIONS=$e.DEFAULT_FOLDER_MODE=$e.DEFAULT_FILE_MODE=$e.DEFAULT_ENCODING=void 0;const _d="utf8";$e.DEFAULT_ENCODING=_d;const Ed=438;$e.DEFAULT_FILE_MODE=Ed;const wd=511;$e.DEFAULT_FOLDER_MODE=wd;const Sd={};$e.DEFAULT_READ_OPTIONS=Sd;const bd={};$e.DEFAULT_WRITE_OPTIONS=bd;const Pd=5e3;$e.DEFAULT_TIMEOUT_ASYNC=Pd;const Nd=100;$e.DEFAULT_TIMEOUT_SYNC=Nd;const Od=!!process.getuid;$e.IS_POSIX=Od;const Rd=process.getuid?!process.getuid():!1;$e.IS_USER_ROOT=Rd;const Td=128;$e.LIMIT_BASENAME_LENGTH=Td;const Id=1e4;$e.LIMIT_FILES_DESCRIPTORS=Id;const Ad=()=>{};$e.NOOP=Ad;var Ps={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.attemptifySync=Hr.attemptifyAsync=void 0;const sl=$e,Cd=(e,t=sl.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};Hr.attemptifyAsync=Cd;const jd=(e,t=sl.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};Hr.attemptifySync=jd;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});const Dd=$e,al={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!Dd.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!al.isChangeErrorOk(e))throw e}};ja.default=al;var Br={},Da={};Object.defineProperty(Da,"__esModule",{value:!0});const kd=$e,ge={interval:25,intervalId:void 0,limit:kd.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{ge.intervalId||(ge.intervalId=setInterval(ge.tick,ge.interval))},reset:()=>{ge.intervalId&&(clearInterval(ge.intervalId),delete ge.intervalId)},add:e=>{ge.queueWaiting.add(e),ge.queueActive.size<ge.limit/2?ge.tick():ge.init()},remove:e=>{ge.queueWaiting.delete(e),ge.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>ge.remove(r),r=()=>e(t);ge.add(r)}),tick:()=>{if(!(ge.queueActive.size>=ge.limit)){if(!ge.queueWaiting.size)return ge.reset();for(const e of ge.queueWaiting){if(ge.queueActive.size>=ge.limit)break;ge.queueWaiting.delete(e),ge.queueActive.add(e),e()}}}};Da.default=ge;Object.defineProperty(Br,"__esModule",{value:!0});Br.retryifySync=Br.retryifyAsync=void 0;const Md=Da,Ld=(e,t)=>function(r){return function n(){return Md.default.schedule().then(s=>e.apply(void 0,arguments).then(a=>(s(),a),a=>{if(s(),Date.now()>=r)throw a;if(t(a)){const i=Math.round(100+400*Math.random());return new Promise(c=>setTimeout(c,i)).then(()=>n.apply(void 0,arguments))}throw a}))}};Br.retryifyAsync=Ld;const Fd=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(s){if(Date.now()>r)throw s;if(t(s))return n.apply(void 0,arguments);throw s}}};Br.retryifySync=Fd;Object.defineProperty(Ps,"__esModule",{value:!0});const ye=ba,Ke=Hc,He=Hr,Ce=ja,Ye=Br,Vd={chmodAttempt:He.attemptifyAsync(Ke.promisify(ye.chmod),Ce.default.onChangeError),chownAttempt:He.attemptifyAsync(Ke.promisify(ye.chown),Ce.default.onChangeError),closeAttempt:He.attemptifyAsync(Ke.promisify(ye.close)),fsyncAttempt:He.attemptifyAsync(Ke.promisify(ye.fsync)),mkdirAttempt:He.attemptifyAsync(Ke.promisify(ye.mkdir)),realpathAttempt:He.attemptifyAsync(Ke.promisify(ye.realpath)),statAttempt:He.attemptifyAsync(Ke.promisify(ye.stat)),unlinkAttempt:He.attemptifyAsync(Ke.promisify(ye.unlink)),closeRetry:Ye.retryifyAsync(Ke.promisify(ye.close),Ce.default.isRetriableError),fsyncRetry:Ye.retryifyAsync(Ke.promisify(ye.fsync),Ce.default.isRetriableError),openRetry:Ye.retryifyAsync(Ke.promisify(ye.open),Ce.default.isRetriableError),readFileRetry:Ye.retryifyAsync(Ke.promisify(ye.readFile),Ce.default.isRetriableError),renameRetry:Ye.retryifyAsync(Ke.promisify(ye.rename),Ce.default.isRetriableError),statRetry:Ye.retryifyAsync(Ke.promisify(ye.stat),Ce.default.isRetriableError),writeRetry:Ye.retryifyAsync(Ke.promisify(ye.write),Ce.default.isRetriableError),chmodSyncAttempt:He.attemptifySync(ye.chmodSync,Ce.default.onChangeError),chownSyncAttempt:He.attemptifySync(ye.chownSync,Ce.default.onChangeError),closeSyncAttempt:He.attemptifySync(ye.closeSync),mkdirSyncAttempt:He.attemptifySync(ye.mkdirSync),realpathSyncAttempt:He.attemptifySync(ye.realpathSync),statSyncAttempt:He.attemptifySync(ye.statSync),unlinkSyncAttempt:He.attemptifySync(ye.unlinkSync),closeSyncRetry:Ye.retryifySync(ye.closeSync,Ce.default.isRetriableError),fsyncSyncRetry:Ye.retryifySync(ye.fsyncSync,Ce.default.isRetriableError),openSyncRetry:Ye.retryifySync(ye.openSync,Ce.default.isRetriableError),readFileSyncRetry:Ye.retryifySync(ye.readFileSync,Ce.default.isRetriableError),renameSyncRetry:Ye.retryifySync(ye.renameSync,Ce.default.isRetriableError),statSyncRetry:Ye.retryifySync(ye.statSync,Ce.default.isRetriableError),writeSyncRetry:Ye.retryifySync(ye.writeSync,Ce.default.isRetriableError)};Ps.default=Vd;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});const Ud={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};ka.default=Ud;var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});const Gn={},ia={next:e=>{const t=Gn[e];if(!t)return;t.shift();const r=t[0];r?r(()=>ia.next(e)):delete Gn[e]},schedule:e=>new Promise(t=>{let r=Gn[e];r||(r=Gn[e]=[]),r.push(t),!(r.length>1)&&t(()=>ia.next(e))})};Ma.default=ia;var La={};Object.defineProperty(La,"__esModule",{value:!0});const zd=Rr,Ti=$e,Ii=Ps,rt={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",s=`.${n}${r}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=rt.truncate(t(e));return n in rt.store?rt.get(e,t,r):(rt.store[n]=r,[n,()=>delete rt.store[n]])},purge:e=>{rt.store[e]&&(delete rt.store[e],Ii.default.unlinkAttempt(e))},purgeSync:e=>{rt.store[e]&&(delete rt.store[e],Ii.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in rt.store)rt.purgeSync(e)},truncate:e=>{const t=zd.basename(e);if(t.length<=Ti.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Ti.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",rt.purgeSyncAll);La.default=rt;Object.defineProperty(It,"__esModule",{value:!0});It.writeFileSync=It.writeFile=It.readFileSync=It.readFile=void 0;const ol=Rr,Fe=$e,pe=Ps,nt=ka,qd=Ma,nr=La;function il(e,t=Fe.DEFAULT_READ_OPTIONS){var r;if(nt.default.isString(t))return il(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Fe.DEFAULT_TIMEOUT_ASYNC);return pe.default.readFileRetry(n)(e,t)}It.readFile=il;function cl(e,t=Fe.DEFAULT_READ_OPTIONS){var r;if(nt.default.isString(t))return cl(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Fe.DEFAULT_TIMEOUT_SYNC);return pe.default.readFileSyncRetry(n)(e,t)}It.readFileSync=cl;const ll=(e,t,r,n)=>{if(nt.default.isFunction(r))return ll(e,t,Fe.DEFAULT_WRITE_OPTIONS,r);const s=ul(e,t,r);return n&&s.then(n,n),s};It.writeFile=ll;const ul=async(e,t,r=Fe.DEFAULT_WRITE_OPTIONS)=>{var n;if(nt.default.isString(r))return ul(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Fe.DEFAULT_TIMEOUT_ASYNC);let a=null,i=null,u=null,c=null,l=null;try{r.schedule&&(a=await r.schedule(e)),i=await qd.default.schedule(e),e=await pe.default.realpathAttempt(e)||e,[c,u]=nr.default.get(e,r.tmpCreate||nr.default.create,r.tmpPurge!==!1);const d=Fe.IS_POSIX&&nt.default.isUndefined(r.chown),h=nt.default.isUndefined(r.mode);if(d||h){const g=await pe.default.statAttempt(e);g&&(r={...r},d&&(r.chown={uid:g.uid,gid:g.gid}),h&&(r.mode=g.mode))}const R=ol.dirname(e);await pe.default.mkdirAttempt(R,{mode:Fe.DEFAULT_FOLDER_MODE,recursive:!0}),l=await pe.default.openRetry(s)(c,"w",r.mode||Fe.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(c),nt.default.isString(t)?await pe.default.writeRetry(s)(l,t,0,r.encoding||Fe.DEFAULT_ENCODING):nt.default.isUndefined(t)||await pe.default.writeRetry(s)(l,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await pe.default.fsyncRetry(s)(l):pe.default.fsyncAttempt(l)),await pe.default.closeRetry(s)(l),l=null,r.chown&&await pe.default.chownAttempt(c,r.chown.uid,r.chown.gid),r.mode&&await pe.default.chmodAttempt(c,r.mode);try{await pe.default.renameRetry(s)(c,e)}catch(g){if(g.code!=="ENAMETOOLONG")throw g;await pe.default.renameRetry(s)(c,nr.default.truncate(e))}u(),c=null}finally{l&&await pe.default.closeAttempt(l),c&&nr.default.purge(c),a&&a(),i&&i()}},dl=(e,t,r=Fe.DEFAULT_WRITE_OPTIONS)=>{var n;if(nt.default.isString(r))return dl(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Fe.DEFAULT_TIMEOUT_SYNC);let a=null,i=null,u=null;try{e=pe.default.realpathSyncAttempt(e)||e,[i,a]=nr.default.get(e,r.tmpCreate||nr.default.create,r.tmpPurge!==!1);const c=Fe.IS_POSIX&&nt.default.isUndefined(r.chown),l=nt.default.isUndefined(r.mode);if(c||l){const h=pe.default.statSyncAttempt(e);h&&(r={...r},c&&(r.chown={uid:h.uid,gid:h.gid}),l&&(r.mode=h.mode))}const d=ol.dirname(e);pe.default.mkdirSyncAttempt(d,{mode:Fe.DEFAULT_FOLDER_MODE,recursive:!0}),u=pe.default.openSyncRetry(s)(i,"w",r.mode||Fe.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(i),nt.default.isString(t)?pe.default.writeSyncRetry(s)(u,t,0,r.encoding||Fe.DEFAULT_ENCODING):nt.default.isUndefined(t)||pe.default.writeSyncRetry(s)(u,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?pe.default.fsyncSyncRetry(s)(u):pe.default.fsyncAttempt(u)),pe.default.closeSyncRetry(s)(u),u=null,r.chown&&pe.default.chownSyncAttempt(i,r.chown.uid,r.chown.gid),r.mode&&pe.default.chmodSyncAttempt(i,r.mode);try{pe.default.renameSyncRetry(s)(i,e)}catch(h){if(h.code!=="ENAMETOOLONG")throw h;pe.default.renameSyncRetry(s)(i,nr.default.truncate(e))}a(),i=null}finally{u&&pe.default.closeSyncAttempt(u),i&&nr.default.purge(i)}};It.writeFileSync=dl;var ca={exports:{}},fl={},mt={},Wr={},Rn={},le={},Nn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((w,I)=>`${w}${I}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((w,I)=>(I instanceof r&&(w[I.str]=(w[I.str]||0)+1),w),{})}}e._Code=n,e.nil=new n("");function s(m,...E){const w=[m[0]];let I=0;for(;I<E.length;)u(w,E[I]),w.push(m[++I]);return new n(w)}e._=s;const a=new n("+");function i(m,...E){const w=[g(m[0])];let I=0;for(;I<E.length;)w.push(a),u(w,E[I]),w.push(a,g(m[++I]));return c(w),new n(w)}e.str=i;function u(m,E){E instanceof n?m.push(...E._items):E instanceof r?m.push(E):m.push(h(E))}e.addCodeArg=u;function c(m){let E=1;for(;E<m.length-1;){if(m[E]===a){const w=l(m[E-1],m[E+1]);if(w!==void 0){m.splice(E-1,3,w);continue}m[E++]="+"}E++}}function l(m,E){if(E==='""')return m;if(m==='""')return E;if(typeof m=="string")return E instanceof r||m[m.length-1]!=='"'?void 0:typeof E!="string"?`${m.slice(0,-1)}${E}"`:E[0]==='"'?m.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(m instanceof r))return`"${m}${E.slice(1)}`}function d(m,E){return E.emptyStr()?m:m.emptyStr()?E:i`${m}${E}`}e.strConcat=d;function h(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:g(Array.isArray(m)?m.join(","):m)}function R(m){return new n(g(m))}e.stringify=R;function g(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function y(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=y;function S(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=S;function $(m){return new n(m.toString())}e.regexpCode=$})(Nn);var la={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Nn;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:l,parent:d}={}){this._names={},this._prefixes=l,this._parent=d}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const d=this._names[l]||this._nameGroup(l);return`${l}${d.index++}`}_nameGroup(l){var d,h;if(!((h=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||h===void 0)&&h.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=s;class a extends t.Name{constructor(l,d){super(d),this.prefix=l}setValue(l,{property:d,itemIndex:h}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(d)}[${h}]`}}e.ValueScopeName=a;const i=(0,t._)`\n`;class u extends s{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?i:t.nil}}get(){return this._scope}name(l){return new a(l,this._newName(l))}value(l,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const R=this.toName(l),{prefix:g}=R,y=(h=d.key)!==null&&h!==void 0?h:d.ref;let S=this._values[g];if(S){const E=S.get(y);if(E)return E}else S=this._values[g]=new Map;S.set(y,R);const $=this._scope[g]||(this._scope[g]=[]),m=$.length;return $[m]=d.ref,R.setValue(d,{property:g,itemIndex:m}),R}getValue(l,d){const h=this._values[l];if(h)return h.get(d)}scopeRefs(l,d=this._values){return this._reduceValues(d,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${l}${h.scopePath}`})}scopeCode(l=this._values,d,h){return this._reduceValues(l,R=>{if(R.value===void 0)throw new Error(`CodeGen: name "${R}" has no value`);return R.value.code},d,h)}_reduceValues(l,d,h={},R){let g=t.nil;for(const y in l){const S=l[y];if(!S)continue;const $=h[y]=h[y]||new Map;S.forEach(m=>{if($.has(m))return;$.set(m,n.Started);let E=d(m);if(E){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;g=(0,t._)`${g}${w} ${m} = ${E};${this.opts._n}`}else if(E=R==null?void 0:R(m))g=(0,t._)`${g}${E}${this.opts._n}`;else throw new r(m);$.set(m,n.Completed)})}return g}}e.ValueScope=u})(la);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Nn,r=la;var n=Nn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=la;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(o,f){return this}}class i extends a{constructor(o,f,O){super(),this.varKind=o,this.name=f,this.rhs=O}render({es5:o,_n:f}){const O=o?r.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${O} ${this.name}${V};`+f}optimizeNames(o,f){if(o[this.name.str])return this.rhs&&(this.rhs=q(this.rhs,o,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(o,f,O){super(),this.lhs=o,this.rhs=f,this.sideEffects=O}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,f){if(!(this.lhs instanceof t.Name&&!o[this.lhs.str]&&!this.sideEffects))return this.rhs=q(this.rhs,o,f),this}get names(){const o=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(o,this.rhs)}}class c extends u{constructor(o,f,O,V){super(o,O,V),this.op=f}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class l extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class d extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class h extends a{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class R extends a{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,f){return this.code=q(this.code,o,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class g extends a{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((f,O)=>f+O.render(o),"")}optimizeNodes(){const{nodes:o}=this;let f=o.length;for(;f--;){const O=o[f].optimizeNodes();Array.isArray(O)?o.splice(f,1,...O):O?o[f]=O:o.splice(f,1)}return o.length>0?this:void 0}optimizeNames(o,f){const{nodes:O}=this;let V=O.length;for(;V--;){const U=O[V];U.optimizeNames(o,f)||(W(o,U.names),O.splice(V,1))}return O.length>0?this:void 0}get names(){return this.nodes.reduce((o,f)=>H(o,f.names),{})}}class y extends g{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class S extends g{}class $ extends y{}$.kind="else";class m extends y{constructor(o,f){super(f),this.condition=o}render(o){let f=`if(${this.condition})`+super.render(o);return this.else&&(f+="else "+this.else.render(o)),f}optimizeNodes(){super.optimizeNodes();const o=this.condition;if(o===!0)return this.nodes;let f=this.else;if(f){const O=f.optimizeNodes();f=this.else=Array.isArray(O)?new $(O):O}if(f)return o===!1?f instanceof m?f:f.nodes:this.nodes.length?this:new m(Y(o),f instanceof m?[f]:f.nodes);if(!(o===!1||!this.nodes.length))return this}optimizeNames(o,f){var O;if(this.else=(O=this.else)===null||O===void 0?void 0:O.optimizeNames(o,f),!!(super.optimizeNames(o,f)||this.else))return this.condition=q(this.condition,o,f),this}get names(){const o=super.names;return K(o,this.condition),this.else&&H(o,this.else.names),o}}m.kind="if";class E extends y{}E.kind="for";class w extends E{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,f){if(super.optimizeNames(o,f))return this.iteration=q(this.iteration,o,f),this}get names(){return H(super.names,this.iteration.names)}}class I extends E{constructor(o,f,O,V){super(),this.varKind=o,this.name=f,this.from=O,this.to=V}render(o){const f=o.es5?r.varKinds.var:this.varKind,{name:O,from:V,to:U}=this;return`for(${f} ${O}=${V}; ${O}<${U}; ${O}++)`+super.render(o)}get names(){const o=K(super.names,this.from);return K(o,this.to)}}class D extends E{constructor(o,f,O,V){super(),this.loop=o,this.varKind=f,this.name=O,this.iterable=V}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,f){if(super.optimizeNames(o,f))return this.iterable=q(this.iterable,o,f),this}get names(){return H(super.names,this.iterable.names)}}class _ extends y{constructor(o,f,O){super(),this.name=o,this.args=f,this.async=O}render(o){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(o)}}_.kind="func";class b extends g{render(o){return"return "+super.render(o)}}b.kind="return";class j extends y{render(o){let f="try"+super.render(o);return this.catch&&(f+=this.catch.render(o)),this.finally&&(f+=this.finally.render(o)),f}optimizeNodes(){var o,f;return super.optimizeNodes(),(o=this.catch)===null||o===void 0||o.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(o,f){var O,V;return super.optimizeNames(o,f),(O=this.catch)===null||O===void 0||O.optimizeNames(o,f),(V=this.finally)===null||V===void 0||V.optimizeNames(o,f),this}get names(){const o=super.names;return this.catch&&H(o,this.catch.names),this.finally&&H(o,this.finally.names),o}}class F extends y{constructor(o){super(),this.error=o}render(o){return`catch(${this.error})`+super.render(o)}}F.kind="catch";class G extends y{render(o){return"finally"+super.render(o)}}G.kind="finally";class Q{constructor(o,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?`
`:""},this._extScope=o,this._scope=new r.Scope({parent:o}),this._nodes=[new S]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,f){const O=this._extScope.value(o,f);return(this._values[O.prefix]||(this._values[O.prefix]=new Set)).add(O),O}getScopeValue(o,f){return this._extScope.getValue(o,f)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,f,O,V){const U=this._scope.toName(f);return O!==void 0&&V&&(this._constants[U.str]=O),this._leafNode(new i(o,U,O)),U}const(o,f,O){return this._def(r.varKinds.const,o,f,O)}let(o,f,O){return this._def(r.varKinds.let,o,f,O)}var(o,f,O){return this._def(r.varKinds.var,o,f,O)}assign(o,f,O){return this._leafNode(new u(o,f,O))}add(o,f){return this._leafNode(new c(o,e.operators.ADD,f))}code(o){return typeof o=="function"?o():o!==t.nil&&this._leafNode(new R(o)),this}object(...o){const f=["{"];for(const[O,V]of o)f.length>1&&f.push(","),f.push(O),(O!==V||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,V));return f.push("}"),new t._Code(f)}if(o,f,O){if(this._blockNode(new m(o)),f&&O)this.code(f).else().code(O).endIf();else if(f)this.code(f).endIf();else if(O)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new m(o))}else(){return this._elseNode(new $)}endIf(){return this._endBlockNode(m,$)}_for(o,f){return this._blockNode(o),f&&this.code(f).endFor(),this}for(o,f){return this._for(new w(o),f)}forRange(o,f,O,V,U=this.opts.es5?r.varKinds.var:r.varKinds.let){const J=this._scope.toName(o);return this._for(new I(U,J,f,O),()=>V(J))}forOf(o,f,O,V=r.varKinds.const){const U=this._scope.toName(o);if(this.opts.es5){const J=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${J}.length`,X=>{this.var(U,(0,t._)`${J}[${X}]`),O(U)})}return this._for(new D("of",V,U,f),()=>O(U))}forIn(o,f,O,V=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(o,(0,t._)`Object.keys(${f})`,O);const U=this._scope.toName(o);return this._for(new D("in",V,U,f),()=>O(U))}endFor(){return this._endBlockNode(E)}label(o){return this._leafNode(new l(o))}break(o){return this._leafNode(new d(o))}return(o){const f=new b;if(this._blockNode(f),this.code(o),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(o,f,O){if(!f&&!O)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new j;if(this._blockNode(V),this.code(o),f){const U=this.name("e");this._currNode=V.catch=new F(U),f(U)}return O&&(this._currNode=V.finally=new G,this.code(O)),this._endBlockNode(F,G)}throw(o){return this._leafNode(new h(o))}block(o,f){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(f),this}endBlock(o){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const O=this._nodes.length-f;if(O<0||o!==void 0&&O!==o)throw new Error(`CodeGen: wrong number of nodes: ${O} vs ${o} expected`);return this._nodes.length=f,this}func(o,f=t.nil,O,V){return this._blockNode(new _(o,f,O)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,f){const O=this._currNode;if(O instanceof o||f&&O instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${o.kind}/${f.kind}`:o.kind}"`)}_elseNode(o){const f=this._currNode;if(!(f instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const f=this._nodes;f[f.length-1]=o}}e.CodeGen=Q;function H(v,o){for(const f in o)v[f]=(v[f]||0)+(o[f]||0);return v}function K(v,o){return o instanceof t._CodeOrName?H(v,o.names):v}function q(v,o,f){if(v instanceof t.Name)return O(v);if(!V(v))return v;return new t._Code(v._items.reduce((U,J)=>(J instanceof t.Name&&(J=O(J)),J instanceof t._Code?U.push(...J._items):U.push(J),U),[]));function O(U){const J=f[U.str];return J===void 0||o[U.str]!==1?U:(delete o[U.str],J)}function V(U){return U instanceof t._Code&&U._items.some(J=>J instanceof t.Name&&o[J.str]===1&&f[J.str]!==void 0)}}function W(v,o){for(const f in o)v[f]=(v[f]||0)-(o[f]||0)}function Y(v){return typeof v=="boolean"||typeof v=="number"||v===null?!v:(0,t._)`!${T(v)}`}e.not=Y;const B=p(e.operators.AND);function k(...v){return v.reduce(B)}e.and=k;const z=p(e.operators.OR);function N(...v){return v.reduce(z)}e.or=N;function p(v){return(o,f)=>o===t.nil?f:f===t.nil?o:(0,t._)`${T(o)} ${v} ${T(f)}`}function T(v){return v instanceof t.Name?v:(0,t._)`(${v})`}})(le);var fe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=le,r=Nn;function n(_){const b={};for(const j of _)b[j]=!0;return b}e.toHash=n;function s(_,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(a(_,b),!i(b,_.self.RULES.all))}e.alwaysValidSchema=s;function a(_,b=_.schema){const{opts:j,self:F}=_;if(!j.strictSchema||typeof b=="boolean")return;const G=F.RULES.keywords;for(const Q in b)G[Q]||D(_,`unknown keyword: "${Q}"`)}e.checkUnknownRules=a;function i(_,b){if(typeof _=="boolean")return!_;for(const j in _)if(b[j])return!0;return!1}e.schemaHasRules=i;function u(_,b){if(typeof _=="boolean")return!_;for(const j in _)if(j!=="$ref"&&b.all[j])return!0;return!1}e.schemaHasRulesButRef=u;function c({topSchemaRef:_,schemaPath:b},j,F,G){if(!G){if(typeof j=="number"||typeof j=="boolean")return j;if(typeof j=="string")return(0,t._)`${j}`}return(0,t._)`${_}${b}${(0,t.getProperty)(F)}`}e.schemaRefOrVal=c;function l(_){return R(decodeURIComponent(_))}e.unescapeFragment=l;function d(_){return encodeURIComponent(h(_))}e.escapeFragment=d;function h(_){return typeof _=="number"?`${_}`:_.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=h;function R(_){return _.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=R;function g(_,b){if(Array.isArray(_))for(const j of _)b(j);else b(_)}e.eachItem=g;function y({mergeNames:_,mergeToName:b,mergeValues:j,resultToName:F}){return(G,Q,H,K)=>{const q=H===void 0?Q:H instanceof t.Name?(Q instanceof t.Name?_(G,Q,H):b(G,Q,H),H):Q instanceof t.Name?(b(G,H,Q),Q):j(Q,H);return K===t.Name&&!(q instanceof t.Name)?F(G,q):q}}e.mergeEvaluated={props:y({mergeNames:(_,b,j)=>_.if((0,t._)`${j} !== true && ${b} !== undefined`,()=>{_.if((0,t._)`${b} === true`,()=>_.assign(j,!0),()=>_.assign(j,(0,t._)`${j} || {}`).code((0,t._)`Object.assign(${j}, ${b})`))}),mergeToName:(_,b,j)=>_.if((0,t._)`${j} !== true`,()=>{b===!0?_.assign(j,!0):(_.assign(j,(0,t._)`${j} || {}`),$(_,j,b))}),mergeValues:(_,b)=>_===!0?!0:{..._,...b},resultToName:S}),items:y({mergeNames:(_,b,j)=>_.if((0,t._)`${j} !== true && ${b} !== undefined`,()=>_.assign(j,(0,t._)`${b} === true ? true : ${j} > ${b} ? ${j} : ${b}`)),mergeToName:(_,b,j)=>_.if((0,t._)`${j} !== true`,()=>_.assign(j,b===!0?!0:(0,t._)`${j} > ${b} ? ${j} : ${b}`)),mergeValues:(_,b)=>_===!0?!0:Math.max(_,b),resultToName:(_,b)=>_.var("items",b)})};function S(_,b){if(b===!0)return _.var("props",!0);const j=_.var("props",(0,t._)`{}`);return b!==void 0&&$(_,j,b),j}e.evaluatedPropsToName=S;function $(_,b,j){Object.keys(j).forEach(F=>_.assign((0,t._)`${b}${(0,t.getProperty)(F)}`,!0))}e.setEvaluated=$;const m={};function E(_,b){return _.scopeValue("func",{ref:b,code:m[b.code]||(m[b.code]=new r._Code(b.code))})}e.useFunc=E;var w;(function(_){_[_.Num=0]="Num",_[_.Str=1]="Str"})(w=e.Type||(e.Type={}));function I(_,b,j){if(_ instanceof t.Name){const F=b===w.Num;return j?F?(0,t._)`"[" + ${_} + "]"`:(0,t._)`"['" + ${_} + "']"`:F?(0,t._)`"/" + ${_}`:(0,t._)`"/" + ${_}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return j?(0,t.getProperty)(_).toString():"/"+h(_)}e.getErrorPath=I;function D(_,b,j=_.opts.strictSchema){if(j){if(b=`strict mode: ${b}`,j===!0)throw new Error(b);_.self.logger.warn(b)}}e.checkStrictMode=D})(fe);var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});const ze=le,Gd={data:new ze.Name("data"),valCxt:new ze.Name("valCxt"),instancePath:new ze.Name("instancePath"),parentData:new ze.Name("parentData"),parentDataProperty:new ze.Name("parentDataProperty"),rootData:new ze.Name("rootData"),dynamicAnchors:new ze.Name("dynamicAnchors"),vErrors:new ze.Name("vErrors"),errors:new ze.Name("errors"),this:new ze.Name("this"),self:new ze.Name("self"),scope:new ze.Name("scope"),json:new ze.Name("json"),jsonPos:new ze.Name("jsonPos"),jsonLen:new ze.Name("jsonLen"),jsonPart:new ze.Name("jsonPart")};Dt.default=Gd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=le,r=fe,n=Dt;e.keywordError={message:({keyword:$})=>(0,t.str)`must pass "${$}" keyword validation`},e.keyword$DataError={message:({keyword:$,schemaType:m})=>m?(0,t.str)`"${$}" keyword must be ${m} ($data)`:(0,t.str)`"${$}" keyword is invalid ($data)`};function s($,m=e.keywordError,E,w){const{it:I}=$,{gen:D,compositeRule:_,allErrors:b}=I,j=h($,m,E);w??(_||b)?c(D,j):l(I,(0,t._)`[${j}]`)}e.reportError=s;function a($,m=e.keywordError,E){const{it:w}=$,{gen:I,compositeRule:D,allErrors:_}=w,b=h($,m,E);c(I,b),D||_||l(w,n.default.vErrors)}e.reportExtraError=a;function i($,m){$.assign(n.default.errors,m),$.if((0,t._)`${n.default.vErrors} !== null`,()=>$.if(m,()=>$.assign((0,t._)`${n.default.vErrors}.length`,m),()=>$.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function u({gen:$,keyword:m,schemaValue:E,data:w,errsCount:I,it:D}){if(I===void 0)throw new Error("ajv implementation error");const _=$.name("err");$.forRange("i",I,n.default.errors,b=>{$.const(_,(0,t._)`${n.default.vErrors}[${b}]`),$.if((0,t._)`${_}.instancePath === undefined`,()=>$.assign((0,t._)`${_}.instancePath`,(0,t.strConcat)(n.default.instancePath,D.errorPath))),$.assign((0,t._)`${_}.schemaPath`,(0,t.str)`${D.errSchemaPath}/${m}`),D.opts.verbose&&($.assign((0,t._)`${_}.schema`,E),$.assign((0,t._)`${_}.data`,w))})}e.extendErrors=u;function c($,m){const E=$.const("err",m);$.if((0,t._)`${n.default.vErrors} === null`,()=>$.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),$.code((0,t._)`${n.default.errors}++`)}function l($,m){const{gen:E,validateName:w,schemaEnv:I}=$;I.$async?E.throw((0,t._)`new ${$.ValidationError}(${m})`):(E.assign((0,t._)`${w}.errors`,m),E.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h($,m,E){const{createErrors:w}=$.it;return w===!1?(0,t._)`{}`:R($,m,E)}function R($,m,E={}){const{gen:w,it:I}=$,D=[g(I,E),y($,E)];return S($,m,D),w.object(...D)}function g({errorPath:$},{instancePath:m}){const E=m?(0,t.str)`${$}${(0,r.getErrorPath)(m,r.Type.Str)}`:$;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function y({keyword:$,it:{errSchemaPath:m}},{schemaPath:E,parentSchema:w}){let I=w?m:(0,t.str)`${m}/${$}`;return E&&(I=(0,t.str)`${I}${(0,r.getErrorPath)(E,r.Type.Str)}`),[d.schemaPath,I]}function S($,{params:m,message:E},w){const{keyword:I,data:D,schemaValue:_,it:b}=$,{opts:j,propertyName:F,topSchemaRef:G,schemaPath:Q}=b;w.push([d.keyword,I],[d.params,typeof m=="function"?m($):m||(0,t._)`{}`]),j.messages&&w.push([d.message,typeof E=="function"?E($):E]),j.verbose&&w.push([d.schema,_],[d.parentSchema,(0,t._)`${G}${Q}`],[n.default.data,D]),F&&w.push([d.propertyName,F])}})(Rn);Object.defineProperty(Wr,"__esModule",{value:!0});Wr.boolOrEmptySchema=Wr.topBoolOrEmptySchema=void 0;const Kd=Rn,Hd=le,Bd=Dt,Wd={message:"boolean schema is false"};function Xd(e){const{gen:t,schema:r,validateName:n}=e;r===!1?hl(e,!1):typeof r=="object"&&r.$async===!0?t.return(Bd.default.data):(t.assign((0,Hd._)`${n}.errors`,null),t.return(!0))}Wr.topBoolOrEmptySchema=Xd;function Jd(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),hl(e)):r.var(t,!0)}Wr.boolOrEmptySchema=Jd;function hl(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Kd.reportError)(s,Wd,void 0,t)}var Tn={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.getRules=Sr.isJSONType=void 0;const Yd=["string","number","integer","boolean","null","object","array"],Qd=new Set(Yd);function Zd(e){return typeof e=="string"&&Qd.has(e)}Sr.isJSONType=Zd;function xd(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Sr.getRules=xd;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.shouldUseRule=Bt.shouldUseGroup=Bt.schemaHasRulesForType=void 0;function ef({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&ml(e,n)}Bt.schemaHasRulesForType=ef;function ml(e,t){return t.rules.some(r=>pl(e,r))}Bt.shouldUseGroup=ml;function pl(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Bt.shouldUseRule=pl;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Sr,r=Bt,n=Rn,s=le,a=fe;var i;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(i=e.DataType||(e.DataType={}));function u(w){const I=c(w.type);if(I.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!I.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&I.push("null")}return I}e.getSchemaTypes=u;function c(w){const I=Array.isArray(w)?w:w?[w]:[];if(I.every(t.isJSONType))return I;throw new Error("type must be JSONType or JSONType[]: "+I.join(","))}e.getJSONTypes=c;function l(w,I){const{gen:D,data:_,opts:b}=w,j=h(I,b.coerceTypes),F=I.length>0&&!(j.length===0&&I.length===1&&(0,r.schemaHasRulesForType)(w,I[0]));if(F){const G=S(I,_,b.strictNumbers,i.Wrong);D.if(G,()=>{j.length?R(w,I,j):m(w)})}return F}e.coerceAndCheckDataType=l;const d=new Set(["string","number","integer","boolean","null"]);function h(w,I){return I?w.filter(D=>d.has(D)||I==="array"&&D==="array"):[]}function R(w,I,D){const{gen:_,data:b,opts:j}=w,F=_.let("dataType",(0,s._)`typeof ${b}`),G=_.let("coerced",(0,s._)`undefined`);j.coerceTypes==="array"&&_.if((0,s._)`${F} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>_.assign(b,(0,s._)`${b}[0]`).assign(F,(0,s._)`typeof ${b}`).if(S(I,b,j.strictNumbers),()=>_.assign(G,b))),_.if((0,s._)`${G} !== undefined`);for(const H of D)(d.has(H)||H==="array"&&j.coerceTypes==="array")&&Q(H);_.else(),m(w),_.endIf(),_.if((0,s._)`${G} !== undefined`,()=>{_.assign(b,G),g(w,G)});function Q(H){switch(H){case"string":_.elseIf((0,s._)`${F} == "number" || ${F} == "boolean"`).assign(G,(0,s._)`"" + ${b}`).elseIf((0,s._)`${b} === null`).assign(G,(0,s._)`""`);return;case"number":_.elseIf((0,s._)`${F} == "boolean" || ${b} === null
              || (${F} == "string" && ${b} && ${b} == +${b})`).assign(G,(0,s._)`+${b}`);return;case"integer":_.elseIf((0,s._)`${F} === "boolean" || ${b} === null
              || (${F} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(G,(0,s._)`+${b}`);return;case"boolean":_.elseIf((0,s._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(G,!1).elseIf((0,s._)`${b} === "true" || ${b} === 1`).assign(G,!0);return;case"null":_.elseIf((0,s._)`${b} === "" || ${b} === 0 || ${b} === false`),_.assign(G,null);return;case"array":_.elseIf((0,s._)`${F} === "string" || ${F} === "number"
              || ${F} === "boolean" || ${b} === null`).assign(G,(0,s._)`[${b}]`)}}}function g({gen:w,parentData:I,parentDataProperty:D},_){w.if((0,s._)`${I} !== undefined`,()=>w.assign((0,s._)`${I}[${D}]`,_))}function y(w,I,D,_=i.Correct){const b=_===i.Correct?s.operators.EQ:s.operators.NEQ;let j;switch(w){case"null":return(0,s._)`${I} ${b} null`;case"array":j=(0,s._)`Array.isArray(${I})`;break;case"object":j=(0,s._)`${I} && typeof ${I} == "object" && !Array.isArray(${I})`;break;case"integer":j=F((0,s._)`!(${I} % 1) && !isNaN(${I})`);break;case"number":j=F();break;default:return(0,s._)`typeof ${I} ${b} ${w}`}return _===i.Correct?j:(0,s.not)(j);function F(G=s.nil){return(0,s.and)((0,s._)`typeof ${I} == "number"`,G,D?(0,s._)`isFinite(${I})`:s.nil)}}e.checkDataType=y;function S(w,I,D,_){if(w.length===1)return y(w[0],I,D,_);let b;const j=(0,a.toHash)(w);if(j.array&&j.object){const F=(0,s._)`typeof ${I} != "object"`;b=j.null?F:(0,s._)`!${I} || ${F}`,delete j.null,delete j.array,delete j.object}else b=s.nil;j.number&&delete j.integer;for(const F in j)b=(0,s.and)(b,y(F,I,D,_));return b}e.checkDataTypes=S;const $={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:I})=>typeof w=="string"?(0,s._)`{type: ${w}}`:(0,s._)`{type: ${I}}`};function m(w){const I=E(w);(0,n.reportError)(I,$)}e.reportTypeError=m;function E(w){const{gen:I,data:D,schema:_}=w,b=(0,a.schemaRefOrVal)(w,_,"type");return{gen:I,keyword:"type",data:D,schema:_.type,schemaCode:b,schemaValue:b,parentSchema:_,params:{},it:w}}})(Tn);var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.assignDefaults=void 0;const Ar=le,tf=fe;function rf(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)Ai(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>Ai(e,a,s.default))}Ns.assignDefaults=rf;function Ai(e,t,r){const{gen:n,compositeRule:s,data:a,opts:i}=e;if(r===void 0)return;const u=(0,Ar._)`${a}${(0,Ar.getProperty)(t)}`;if(s){(0,tf.checkStrictMode)(e,`default is ignored for: ${u}`);return}let c=(0,Ar._)`${u} === undefined`;i.useDefaults==="empty"&&(c=(0,Ar._)`${c} || ${u} === null || ${u} === ""`),n.if(c,(0,Ar._)`${u} = ${(0,Ar.stringify)(r)}`)}var At={},ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.validateUnion=ie.validateArray=ie.usePattern=ie.callValidateCode=ie.schemaProperties=ie.allSchemaProperties=ie.noPropertyInData=ie.propertyInData=ie.isOwnProperty=ie.hasPropFunc=ie.reportMissingProp=ie.checkMissingProp=ie.checkReportMissingProp=void 0;const Ee=le,Fa=fe,Qt=Dt,nf=fe;function sf(e,t){const{gen:r,data:n,it:s}=e;r.if(Ua(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ee._)`${t}`},!0),e.error()})}ie.checkReportMissingProp=sf;function af({gen:e,data:t,it:{opts:r}},n,s){return(0,Ee.or)(...n.map(a=>(0,Ee.and)(Ua(e,t,a,r.ownProperties),(0,Ee._)`${s} = ${a}`)))}ie.checkMissingProp=af;function of(e,t){e.setParams({missingProperty:t},!0),e.error()}ie.reportMissingProp=of;function $l(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ee._)`Object.prototype.hasOwnProperty`})}ie.hasPropFunc=$l;function Va(e,t,r){return(0,Ee._)`${$l(e)}.call(${t}, ${r})`}ie.isOwnProperty=Va;function cf(e,t,r,n){const s=(0,Ee._)`${t}${(0,Ee.getProperty)(r)} !== undefined`;return n?(0,Ee._)`${s} && ${Va(e,t,r)}`:s}ie.propertyInData=cf;function Ua(e,t,r,n){const s=(0,Ee._)`${t}${(0,Ee.getProperty)(r)} === undefined`;return n?(0,Ee.or)(s,(0,Ee.not)(Va(e,t,r))):s}ie.noPropertyInData=Ua;function yl(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ie.allSchemaProperties=yl;function lf(e,t){return yl(t).filter(r=>!(0,Fa.alwaysValidSchema)(e,t[r]))}ie.schemaProperties=lf;function uf({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:i},u,c,l){const d=l?(0,Ee._)`${e}, ${t}, ${n}${s}`:t,h=[[Qt.default.instancePath,(0,Ee.strConcat)(Qt.default.instancePath,a)],[Qt.default.parentData,i.parentData],[Qt.default.parentDataProperty,i.parentDataProperty],[Qt.default.rootData,Qt.default.rootData]];i.opts.dynamicRef&&h.push([Qt.default.dynamicAnchors,Qt.default.dynamicAnchors]);const R=(0,Ee._)`${d}, ${r.object(...h)}`;return c!==Ee.nil?(0,Ee._)`${u}.call(${c}, ${R})`:(0,Ee._)`${u}(${R})`}ie.callValidateCode=uf;const df=(0,Ee._)`new RegExp`;function ff({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,Ee._)`${s.code==="new RegExp"?df:(0,nf.useFunc)(e,s)}(${r}, ${n})`})}ie.usePattern=ff;function hf(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const u=t.let("valid",!0);return i(()=>t.assign(u,!1)),u}return t.var(a,!0),i(()=>t.break()),a;function i(u){const c=t.const("len",(0,Ee._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:Fa.Type.Num},a),t.if((0,Ee.not)(a),u)})}}ie.validateArray=hf;function mf(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Fa.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const i=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((c,l)=>{const d=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},u);t.assign(i,(0,Ee._)`${i} || ${u}`),e.mergeValidEvaluated(d,u)||t.if((0,Ee.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}ie.validateUnion=mf;Object.defineProperty(At,"__esModule",{value:!0});At.validateKeywordUsage=At.validSchemaType=At.funcKeywordCode=At.macroKeywordCode=void 0;const Be=le,pr=Dt,pf=ie,$f=Rn;function yf(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:i}=e,u=t.macro.call(i.self,s,a,i),c=vl(r,n,u);i.opts.validateSchema!==!1&&i.self.validateSchema(u,!0);const l=r.name("valid");e.subschema({schema:u,schemaPath:Be.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}At.macroKeywordCode=yf;function vf(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:i,$data:u,it:c}=e;_f(c,t);const l=!u&&t.compile?t.compile.call(c.self,a,i,c):t.validate,d=vl(n,s,l),h=n.let("valid");e.block$data(h,R),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function R(){if(t.errors===!1)S(),t.modifying&&Ci(e),$(()=>e.error());else{const m=t.async?g():y();t.modifying&&Ci(e),$(()=>gf(e,m))}}function g(){const m=n.let("ruleErrs",null);return n.try(()=>S((0,Be._)`await `),E=>n.assign(h,!1).if((0,Be._)`${E} instanceof ${c.ValidationError}`,()=>n.assign(m,(0,Be._)`${E}.errors`),()=>n.throw(E))),m}function y(){const m=(0,Be._)`${d}.errors`;return n.assign(m,null),S(Be.nil),m}function S(m=t.async?(0,Be._)`await `:Be.nil){const E=c.opts.passContext?pr.default.this:pr.default.self,w=!("compile"in t&&!u||t.schema===!1);n.assign(h,(0,Be._)`${m}${(0,pf.callValidateCode)(e,d,E,w)}`,t.modifying)}function $(m){var E;n.if((0,Be.not)((E=t.valid)!==null&&E!==void 0?E:h),m)}}At.funcKeywordCode=vf;function Ci(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Be._)`${n.parentData}[${n.parentDataProperty}]`))}function gf(e,t){const{gen:r}=e;r.if((0,Be._)`Array.isArray(${t})`,()=>{r.assign(pr.default.vErrors,(0,Be._)`${pr.default.vErrors} === null ? ${t} : ${pr.default.vErrors}.concat(${t})`).assign(pr.default.errors,(0,Be._)`${pr.default.vErrors}.length`),(0,$f.extendErrors)(e)},()=>e.error())}function _f({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function vl(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Be.stringify)(r)})}function Ef(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}At.validSchemaType=Ef;function wf({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const i=s.dependencies;if(i!=null&&i.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}At.validateKeywordUsage=wf;var or={};Object.defineProperty(or,"__esModule",{value:!0});or.extendSubschemaMode=or.extendSubschemaData=or.getSubschema=void 0;const Rt=le,gl=fe;function Sf(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,Rt._)`${e.schemaPath}${(0,Rt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,Rt._)`${e.schemaPath}${(0,Rt.getProperty)(t)}${(0,Rt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,gl.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}or.getSubschema=Sf;function bf(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:l,dataPathArr:d,opts:h}=t,R=u.let("data",(0,Rt._)`${t.data}${(0,Rt.getProperty)(r)}`,!0);c(R),e.errorPath=(0,Rt.str)`${l}${(0,gl.getErrorPath)(r,n,h.jsPropertySyntax)}`,e.parentDataProperty=(0,Rt._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(s!==void 0){const l=s instanceof Rt.Name?s:u.let("data",s,!0);c(l),i!==void 0&&(e.propertyName=i)}a&&(e.dataTypes=a);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}or.extendSubschemaData=bf;function Pf(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}or.extendSubschemaMode=Pf;var Ve={},Os=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var i=a[s];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r},_l={exports:{}},sr=_l.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};ss(t,n,s,e,"",e)};sr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};sr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};sr.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};sr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ss(e,t,r,n,s,a,i,u,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,i,u,c,l);for(var d in n){var h=n[d];if(Array.isArray(h)){if(d in sr.arrayKeywords)for(var R=0;R<h.length;R++)ss(e,t,r,h[R],s+"/"+d+"/"+R,a,s,d,n,R)}else if(d in sr.propsKeywords){if(h&&typeof h=="object")for(var g in h)ss(e,t,r,h[g],s+"/"+d+"/"+Nf(g),a,s,d,n,g)}else(d in sr.keywords||e.allKeys&&!(d in sr.skipKeywords))&&ss(e,t,r,h,s+"/"+d,a,s,d,n)}r(n,s,a,i,u,c,l)}}function Nf(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Of=_l.exports;Object.defineProperty(Ve,"__esModule",{value:!0});Ve.getSchemaRefs=Ve.resolveUrl=Ve.normalizeId=Ve._getFullPath=Ve.getFullPath=Ve.inlineRef=void 0;const Rf=fe,Tf=Os,If=Of,Af=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Cf(e,t=!0){return typeof e=="boolean"?!0:t===!0?!ua(e):t?El(e)<=t:!1}Ve.inlineRef=Cf;const jf=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ua(e){for(const t in e){if(jf.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(ua)||typeof r=="object"&&ua(r))return!0}return!1}function El(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Af.has(r)&&(typeof e[r]=="object"&&(0,Rf.eachItem)(e[r],n=>t+=El(n)),t===1/0))return 1/0}return t}function wl(e,t="",r){r!==!1&&(t=zr(t));const n=e.parse(t);return Sl(e,n)}Ve.getFullPath=wl;function Sl(e,t){return e.serialize(t).split("#")[0]+"#"}Ve._getFullPath=Sl;const Df=/#\/?$/;function zr(e){return e?e.replace(Df,""):""}Ve.normalizeId=zr;function kf(e,t,r){return r=zr(r),e.resolve(t,r)}Ve.resolveUrl=kf;const Mf=/^[a-z_][-a-z0-9._]*$/i;function Lf(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=zr(e[r]||t),a={"":s},i=wl(n,s,!1),u={},c=new Set;return If(e,{allKeys:!0},(h,R,g,y)=>{if(y===void 0)return;const S=i+R;let $=a[y];typeof h[r]=="string"&&($=m.call(this,h[r])),E.call(this,h.$anchor),E.call(this,h.$dynamicAnchor),a[R]=$;function m(w){const I=this.opts.uriResolver.resolve;if(w=zr($?I($,w):w),c.has(w))throw d(w);c.add(w);let D=this.refs[w];return typeof D=="string"&&(D=this.refs[D]),typeof D=="object"?l(h,D.schema,w):w!==zr(S)&&(w[0]==="#"?(l(h,u[w],w),u[w]=h):this.refs[w]=S),w}function E(w){if(typeof w=="string"){if(!Mf.test(w))throw new Error(`invalid anchor "${w}"`);m.call(this,`#${w}`)}}}),u;function l(h,R,g){if(R!==void 0&&!Tf(h,R))throw d(g)}function d(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Ve.getSchemaRefs=Lf;Object.defineProperty(mt,"__esModule",{value:!0});mt.getData=mt.KeywordCxt=mt.validateFunctionCode=void 0;const bl=Wr,ji=Tn,za=Bt,hs=Tn,Ff=Ns,pn=At,qs=or,Z=le,re=Dt,Vf=Ve,Wt=fe,an=Rn;function Uf(e){if(Ol(e)&&(Rl(e),Nl(e))){Gf(e);return}Pl(e,()=>(0,bl.topBoolOrEmptySchema)(e))}mt.validateFunctionCode=Uf;function Pl({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,Z._)`${re.default.data}, ${re.default.valCxt}`,n.$async,()=>{e.code((0,Z._)`"use strict"; ${Di(r,s)}`),qf(e,s),e.code(a)}):e.func(t,(0,Z._)`${re.default.data}, ${zf(s)}`,n.$async,()=>e.code(Di(r,s)).code(a))}function zf(e){return(0,Z._)`{${re.default.instancePath}="", ${re.default.parentData}, ${re.default.parentDataProperty}, ${re.default.rootData}=${re.default.data}${e.dynamicRef?(0,Z._)`, ${re.default.dynamicAnchors}={}`:Z.nil}}={}`}function qf(e,t){e.if(re.default.valCxt,()=>{e.var(re.default.instancePath,(0,Z._)`${re.default.valCxt}.${re.default.instancePath}`),e.var(re.default.parentData,(0,Z._)`${re.default.valCxt}.${re.default.parentData}`),e.var(re.default.parentDataProperty,(0,Z._)`${re.default.valCxt}.${re.default.parentDataProperty}`),e.var(re.default.rootData,(0,Z._)`${re.default.valCxt}.${re.default.rootData}`),t.dynamicRef&&e.var(re.default.dynamicAnchors,(0,Z._)`${re.default.valCxt}.${re.default.dynamicAnchors}`)},()=>{e.var(re.default.instancePath,(0,Z._)`""`),e.var(re.default.parentData,(0,Z._)`undefined`),e.var(re.default.parentDataProperty,(0,Z._)`undefined`),e.var(re.default.rootData,re.default.data),t.dynamicRef&&e.var(re.default.dynamicAnchors,(0,Z._)`{}`)})}function Gf(e){const{schema:t,opts:r,gen:n}=e;Pl(e,()=>{r.$comment&&t.$comment&&Il(e),Xf(e),n.let(re.default.vErrors,null),n.let(re.default.errors,0),r.unevaluated&&Kf(e),Tl(e),Qf(e)})}function Kf(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Z._)`${r}.evaluated`),t.if((0,Z._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Z._)`${e.evaluated}.props`,(0,Z._)`undefined`)),t.if((0,Z._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Z._)`${e.evaluated}.items`,(0,Z._)`undefined`))}function Di(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Z._)`/*# sourceURL=${r} */`:Z.nil}function Hf(e,t){if(Ol(e)&&(Rl(e),Nl(e))){Bf(e,t);return}(0,bl.boolOrEmptySchema)(e,t)}function Nl({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Ol(e){return typeof e.schema!="boolean"}function Bf(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&Il(e),Jf(e),Yf(e);const a=n.const("_errs",re.default.errors);Tl(e,a),n.var(t,(0,Z._)`${a} === ${re.default.errors}`)}function Rl(e){(0,Wt.checkUnknownRules)(e),Wf(e)}function Tl(e,t){if(e.opts.jtd)return ki(e,[],!1,t);const r=(0,ji.getSchemaTypes)(e.schema),n=(0,ji.coerceAndCheckDataType)(e,r);ki(e,r,!n,t)}function Wf(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Wt.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Xf(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Wt.checkStrictMode)(e,"default is ignored in the schema root")}function Jf(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Vf.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Yf(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Il({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,Z._)`${re.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const i=(0,Z.str)`${n}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,Z._)`${re.default.self}.opts.$comment(${a}, ${i}, ${u}.schema)`)}}function Qf(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,Z._)`${re.default.errors} === 0`,()=>t.return(re.default.data),()=>t.throw((0,Z._)`new ${s}(${re.default.vErrors})`)):(t.assign((0,Z._)`${n}.errors`,re.default.vErrors),a.unevaluated&&Zf(e),t.return((0,Z._)`${re.default.errors} === 0`))}function Zf({gen:e,evaluated:t,props:r,items:n}){r instanceof Z.Name&&e.assign((0,Z._)`${t}.props`,r),n instanceof Z.Name&&e.assign((0,Z._)`${t}.items`,n)}function ki(e,t,r,n){const{gen:s,schema:a,data:i,allErrors:u,opts:c,self:l}=e,{RULES:d}=l;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,Wt.schemaHasRulesButRef)(a,d))){s.block(()=>jl(e,"$ref",d.all.$ref.definition));return}c.jtd||xf(e,t),s.block(()=>{for(const R of d.rules)h(R);h(d.post)});function h(R){(0,za.shouldUseGroup)(a,R)&&(R.type?(s.if((0,hs.checkDataType)(R.type,i,c.strictNumbers)),Mi(e,R),t.length===1&&t[0]===R.type&&r&&(s.else(),(0,hs.reportTypeError)(e)),s.endIf()):Mi(e,R),u||s.if((0,Z._)`${re.default.errors} === ${n||0}`))}}function Mi(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,Ff.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,za.shouldUseRule)(n,a)&&jl(e,a.keyword,a.definition,t.type)})}function xf(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(eh(e,t),e.opts.allowUnionTypes||th(e,t),rh(e,e.dataTypes))}function eh(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Al(e.dataTypes,r)||qa(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),sh(e,t)}}function th(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&qa(e,"use allowUnionTypes to allow union type keyword")}function rh(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,za.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(i=>nh(t,i))&&qa(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function nh(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Al(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function sh(e,t){const r=[];for(const n of e.dataTypes)Al(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function qa(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Wt.checkStrictMode)(e,t,e.opts.strictTypes)}let Cl=class{constructor(t,r,n){if((0,pn.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Wt.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Dl(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,pn.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",re.default.errors))}result(t,r,n){this.failResult((0,Z.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Z.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,Z._)`${r} !== undefined && (${(0,Z.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?an.reportExtraError:an.reportError)(this,this.def.error,r)}$dataError(){(0,an.reportError)(this,this.def.$dataError||an.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,an.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Z.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Z.nil,r=Z.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:i}=this;n.if((0,Z.or)((0,Z._)`${s} === undefined`,r)),t!==Z.nil&&n.assign(t,!0),(a.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Z.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,Z.or)(i(),u());function i(){if(n.length){if(!(r instanceof Z.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,Z._)`${(0,hs.checkDataTypes)(c,r,a.opts.strictNumbers,hs.DataType.Wrong)}`}return Z.nil}function u(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,Z._)`!${c}(${r})`}return Z.nil}}subschema(t,r){const n=(0,qs.getSubschema)(this.it,t);(0,qs.extendSubschemaData)(n,this.it,t),(0,qs.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return Hf(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Wt.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Wt.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,Z.Name)),!0}};mt.KeywordCxt=Cl;function jl(e,t,r,n){const s=new Cl(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,pn.funcKeywordCode)(s,r):"macro"in r?(0,pn.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,pn.funcKeywordCode)(s,r)}const ah=/^\/(?:[^~]|~0|~1)*$/,oh=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Dl(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return re.default.rootData;if(e[0]==="/"){if(!ah.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=re.default.rootData}else{const l=oh.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+l[1];if(s=l[2],s==="#"){if(d>=t)throw new Error(c("property/index",d));return n[t-d]}if(d>t)throw new Error(c("data",d));if(a=r[t-d],!s)return a}let i=a;const u=s.split("/");for(const l of u)l&&(a=(0,Z._)`${a}${(0,Z.getProperty)((0,Wt.unescapeJsonPointer)(l))}`,i=(0,Z._)`${i} && ${a}`);return i;function c(l,d){return`Cannot access ${l} ${d} levels up, current level is ${t}`}}mt.getData=Dl;var In={};Object.defineProperty(In,"__esModule",{value:!0});let ih=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};In.default=ih;var An={};Object.defineProperty(An,"__esModule",{value:!0});const Gs=Ve;let ch=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Gs.resolveUrl)(t,r,n),this.missingSchema=(0,Gs.normalizeId)((0,Gs.getFullPath)(t,this.missingRef))}};An.default=ch;var xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.resolveSchema=xe.getCompilingSchema=xe.resolveRef=xe.compileSchema=xe.SchemaEnv=void 0;const it=le,lh=In,fr=Dt,ft=Ve,Li=fe,uh=mt;let Rs=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,ft.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};xe.SchemaEnv=Rs;function Ga(e){const t=kl.call(this,e);if(t)return t;const r=(0,ft.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,i=new it.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let u;e.$async&&(u=i.scopeValue("Error",{ref:lh.default,code:(0,it._)`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");e.validateName=c;const l={gen:i,allErrors:this.opts.allErrors,data:fr.default.data,parentData:fr.default.parentData,parentDataProperty:fr.default.parentDataProperty,dataNames:[fr.default.data],dataPathArr:[it.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,it.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:it.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,it._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,uh.validateFunctionCode)(l),i.optimize(this.opts.code.optimize);const h=i.toString();d=`${i.scopeRefs(fr.default.scope)}return ${h}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const g=new Function(`${fr.default.self}`,`${fr.default.scope}`,d)(this,this.scope.get());if(this.scope.value(c,{ref:g}),g.errors=null,g.schema=e.schema,g.schemaEnv=e,e.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:c,validateCode:h,scopeValues:i._values}),this.opts.unevaluated){const{props:y,items:S}=l;g.evaluated={props:y instanceof it.Name?void 0:y,items:S instanceof it.Name?void 0:S,dynamicProps:y instanceof it.Name,dynamicItems:S instanceof it.Name},g.source&&(g.source.evaluated=(0,it.stringify)(g.evaluated))}return e.validate=g,e}catch(h){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),h}finally{this._compilations.delete(e)}}xe.compileSchema=Ga;function dh(e,t,r){var n;r=(0,ft.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=mh.call(this,e,r);if(a===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;i&&(a=new Rs({schema:i,schemaId:u,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=fh.call(this,a)}xe.resolveRef=dh;function fh(e){return(0,ft.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Ga.call(this,e)}function kl(e){for(const t of this._compilations)if(hh(t,e))return t}xe.getCompilingSchema=kl;function hh(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function mh(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Ts.call(this,e,t)}function Ts(e,t){const r=this.opts.uriResolver.parse(t),n=(0,ft._getFullPath)(this.opts.uriResolver,r);let s=(0,ft.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return Ks.call(this,r,e);const a=(0,ft.normalizeId)(n),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){const u=Ts.call(this,e,i);return typeof(u==null?void 0:u.schema)!="object"?void 0:Ks.call(this,r,u)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||Ga.call(this,i),a===(0,ft.normalizeId)(t)){const{schema:u}=i,{schemaId:c}=this.opts,l=u[c];return l&&(s=(0,ft.resolveUrl)(this.opts.uriResolver,s,l)),new Rs({schema:u,schemaId:c,root:e,baseId:s})}return Ks.call(this,r,i)}}xe.resolveSchema=Ts;const ph=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ks(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Li.unescapeFragment)(u)];if(c===void 0)return;r=c;const l=typeof r=="object"&&r[this.opts.schemaId];!ph.has(u)&&l&&(t=(0,ft.resolveUrl)(this.opts.uriResolver,t,l))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Li.schemaHasRulesButRef)(r,this.RULES)){const u=(0,ft.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=Ts.call(this,n,u)}const{schemaId:i}=this.opts;if(a=a||new Rs({schema:r,schemaId:i,root:n,baseId:t}),a.schema!==a.root.schema)return a}const $h="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",yh="Meta-schema for $data reference (JSON AnySchema extension proposal)",vh="object",gh=["$data"],_h={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Eh=!1,wh={$id:$h,description:yh,type:vh,required:gh,properties:_h,additionalProperties:Eh};var Ka={},da={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(fn,function(r){function n(){for(var A=arguments.length,P=Array(A),C=0;C<A;C++)P[C]=arguments[C];if(P.length>1){P[0]=P[0].slice(0,-1);for(var L=P.length-1,M=1;M<L;++M)P[M]=P[M].slice(1,-1);return P[L]=P[L].slice(1),P.join("")}else return P[0]}function s(A){return"(?:"+A+")"}function a(A){return A===void 0?"undefined":A===null?"null":Object.prototype.toString.call(A).split(" ").pop().split("]").shift().toLowerCase()}function i(A){return A.toUpperCase()}function u(A){return A!=null?A instanceof Array?A:typeof A.length!="number"||A.split||A.setInterval||A.call?[A]:Array.prototype.slice.call(A):[]}function c(A,P){var C=A;if(P)for(var L in P)C[L]=P[L];return C}function l(A){var P="[A-Za-z]",C="[0-9]",L=n(C,"[A-Fa-f]"),M=s(s("%[EFef]"+L+"%"+L+L+"%"+L+L)+"|"+s("%[89A-Fa-f]"+L+"%"+L+L)+"|"+s("%"+L+L)),ee="[\\:\\/\\?\\#\\[\\]\\@]",te="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",de=n(ee,te),_e=A?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ne=A?"[\\uE000-\\uF8FF]":"[]",ue=n(P,C,"[\\-\\.\\_\\~]",_e);s(P+n(P,C,"[\\+\\-\\.]")+"*"),s(s(M+"|"+n(ue,te,"[\\:]"))+"*");var ve=s(s("25[0-5]")+"|"+s("2[0-4]"+C)+"|"+s("1"+C+C)+"|"+s("0?[1-9]"+C)+"|0?0?"+C),Oe=s(ve+"\\."+ve+"\\."+ve+"\\."+ve),se=s(L+"{1,4}"),Se=s(s(se+"\\:"+se)+"|"+Oe),Ie=s(s(se+"\\:")+"{6}"+Se),be=s("\\:\\:"+s(se+"\\:")+"{5}"+Se),Yt=s(s(se)+"?\\:\\:"+s(se+"\\:")+"{4}"+Se),bt=s(s(s(se+"\\:")+"{0,1}"+se)+"?\\:\\:"+s(se+"\\:")+"{3}"+Se),Pt=s(s(s(se+"\\:")+"{0,2}"+se)+"?\\:\\:"+s(se+"\\:")+"{2}"+Se),Ir=s(s(s(se+"\\:")+"{0,3}"+se)+"?\\:\\:"+se+"\\:"+Se),lr=s(s(s(se+"\\:")+"{0,4}"+se)+"?\\:\\:"+Se),st=s(s(s(se+"\\:")+"{0,5}"+se)+"?\\:\\:"+se),Nt=s(s(s(se+"\\:")+"{0,6}"+se)+"?\\:\\:"),ur=s([Ie,be,Yt,bt,Pt,Ir,lr,st,Nt].join("|")),Gt=s(s(ue+"|"+M)+"+");s("[vV]"+L+"+\\."+n(ue,te,"[\\:]")+"+"),s(s(M+"|"+n(ue,te))+"*");var nn=s(M+"|"+n(ue,te,"[\\:\\@]"));return s(s(M+"|"+n(ue,te,"[\\@]"))+"+"),s(s(nn+"|"+n("[\\/\\?]",Ne))+"*"),{NOT_SCHEME:new RegExp(n("[^]",P,C,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",ue,te),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",ue,te),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",ue,te),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",ue,te),"g"),NOT_QUERY:new RegExp(n("[^\\%]",ue,te,"[\\:\\@\\/\\?]",Ne),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",ue,te,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",ue,te),"g"),UNRESERVED:new RegExp(ue,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",ue,de),"g"),PCT_ENCODED:new RegExp(M,"g"),IPV4ADDRESS:new RegExp("^("+Oe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ur+")"+s(s("\\%25|\\%(?!"+L+"{2})")+"("+Gt+")")+"?\\]?$")}}var d=l(!1),h=l(!0),R=function(){function A(P,C){var L=[],M=!0,ee=!1,te=void 0;try{for(var de=P[Symbol.iterator](),_e;!(M=(_e=de.next()).done)&&(L.push(_e.value),!(C&&L.length===C));M=!0);}catch(Ne){ee=!0,te=Ne}finally{try{!M&&de.return&&de.return()}finally{if(ee)throw te}}return L}return function(P,C){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return A(P,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(A){if(Array.isArray(A)){for(var P=0,C=Array(A.length);P<A.length;P++)C[P]=A[P];return C}else return Array.from(A)},y=2147483647,S=36,$=1,m=26,E=38,w=700,I=72,D=128,_="-",b=/^xn--/,j=/[^\0-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,G={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Q=S-$,H=Math.floor,K=String.fromCharCode;function q(A){throw new RangeError(G[A])}function W(A,P){for(var C=[],L=A.length;L--;)C[L]=P(A[L]);return C}function Y(A,P){var C=A.split("@"),L="";C.length>1&&(L=C[0]+"@",A=C[1]),A=A.replace(F,".");var M=A.split("."),ee=W(M,P).join(".");return L+ee}function B(A){for(var P=[],C=0,L=A.length;C<L;){var M=A.charCodeAt(C++);if(M>=55296&&M<=56319&&C<L){var ee=A.charCodeAt(C++);(ee&64512)==56320?P.push(((M&1023)<<10)+(ee&1023)+65536):(P.push(M),C--)}else P.push(M)}return P}var k=function(P){return String.fromCodePoint.apply(String,g(P))},z=function(P){return P-48<10?P-22:P-65<26?P-65:P-97<26?P-97:S},N=function(P,C){return P+22+75*(P<26)-((C!=0)<<5)},p=function(P,C,L){var M=0;for(P=L?H(P/w):P>>1,P+=H(P/C);P>Q*m>>1;M+=S)P=H(P/Q);return H(M+(Q+1)*P/(P+E))},T=function(P){var C=[],L=P.length,M=0,ee=D,te=I,de=P.lastIndexOf(_);de<0&&(de=0);for(var _e=0;_e<de;++_e)P.charCodeAt(_e)>=128&&q("not-basic"),C.push(P.charCodeAt(_e));for(var Ne=de>0?de+1:0;Ne<L;){for(var ue=M,ve=1,Oe=S;;Oe+=S){Ne>=L&&q("invalid-input");var se=z(P.charCodeAt(Ne++));(se>=S||se>H((y-M)/ve))&&q("overflow"),M+=se*ve;var Se=Oe<=te?$:Oe>=te+m?m:Oe-te;if(se<Se)break;var Ie=S-Se;ve>H(y/Ie)&&q("overflow"),ve*=Ie}var be=C.length+1;te=p(M-ue,be,ue==0),H(M/be)>y-ee&&q("overflow"),ee+=H(M/be),M%=be,C.splice(M++,0,ee)}return String.fromCodePoint.apply(String,C)},v=function(P){var C=[];P=B(P);var L=P.length,M=D,ee=0,te=I,de=!0,_e=!1,Ne=void 0;try{for(var ue=P[Symbol.iterator](),ve;!(de=(ve=ue.next()).done);de=!0){var Oe=ve.value;Oe<128&&C.push(K(Oe))}}catch(sn){_e=!0,Ne=sn}finally{try{!de&&ue.return&&ue.return()}finally{if(_e)throw Ne}}var se=C.length,Se=se;for(se&&C.push(_);Se<L;){var Ie=y,be=!0,Yt=!1,bt=void 0;try{for(var Pt=P[Symbol.iterator](),Ir;!(be=(Ir=Pt.next()).done);be=!0){var lr=Ir.value;lr>=M&&lr<Ie&&(Ie=lr)}}catch(sn){Yt=!0,bt=sn}finally{try{!be&&Pt.return&&Pt.return()}finally{if(Yt)throw bt}}var st=Se+1;Ie-M>H((y-ee)/st)&&q("overflow"),ee+=(Ie-M)*st,M=Ie;var Nt=!0,ur=!1,Gt=void 0;try{for(var nn=P[Symbol.iterator](),bi;!(Nt=(bi=nn.next()).done);Nt=!0){var Pi=bi.value;if(Pi<M&&++ee>y&&q("overflow"),Pi==M){for(var Vn=ee,Un=S;;Un+=S){var zn=Un<=te?$:Un>=te+m?m:Un-te;if(Vn<zn)break;var Ni=Vn-zn,Oi=S-zn;C.push(K(N(zn+Ni%Oi,0))),Vn=H(Ni/Oi)}C.push(K(N(Vn,0))),te=p(ee,st,Se==se),ee=0,++Se}}}catch(sn){ur=!0,Gt=sn}finally{try{!Nt&&nn.return&&nn.return()}finally{if(ur)throw Gt}}++ee,++M}return C.join("")},o=function(P){return Y(P,function(C){return b.test(C)?T(C.slice(4).toLowerCase()):C})},f=function(P){return Y(P,function(C){return j.test(C)?"xn--"+v(C):C})},O={version:"2.1.0",ucs2:{decode:B,encode:k},decode:T,encode:v,toASCII:f,toUnicode:o},V={};function U(A){var P=A.charCodeAt(0),C=void 0;return P<16?C="%0"+P.toString(16).toUpperCase():P<128?C="%"+P.toString(16).toUpperCase():P<2048?C="%"+(P>>6|192).toString(16).toUpperCase()+"%"+(P&63|128).toString(16).toUpperCase():C="%"+(P>>12|224).toString(16).toUpperCase()+"%"+(P>>6&63|128).toString(16).toUpperCase()+"%"+(P&63|128).toString(16).toUpperCase(),C}function J(A){for(var P="",C=0,L=A.length;C<L;){var M=parseInt(A.substr(C+1,2),16);if(M<128)P+=String.fromCharCode(M),C+=3;else if(M>=194&&M<224){if(L-C>=6){var ee=parseInt(A.substr(C+4,2),16);P+=String.fromCharCode((M&31)<<6|ee&63)}else P+=A.substr(C,6);C+=6}else if(M>=224){if(L-C>=9){var te=parseInt(A.substr(C+4,2),16),de=parseInt(A.substr(C+7,2),16);P+=String.fromCharCode((M&15)<<12|(te&63)<<6|de&63)}else P+=A.substr(C,9);C+=9}else P+=A.substr(C,3),C+=3}return P}function X(A,P){function C(L){var M=J(L);return M.match(P.UNRESERVED)?M:L}return A.scheme&&(A.scheme=String(A.scheme).replace(P.PCT_ENCODED,C).toLowerCase().replace(P.NOT_SCHEME,"")),A.userinfo!==void 0&&(A.userinfo=String(A.userinfo).replace(P.PCT_ENCODED,C).replace(P.NOT_USERINFO,U).replace(P.PCT_ENCODED,i)),A.host!==void 0&&(A.host=String(A.host).replace(P.PCT_ENCODED,C).toLowerCase().replace(P.NOT_HOST,U).replace(P.PCT_ENCODED,i)),A.path!==void 0&&(A.path=String(A.path).replace(P.PCT_ENCODED,C).replace(A.scheme?P.NOT_PATH:P.NOT_PATH_NOSCHEME,U).replace(P.PCT_ENCODED,i)),A.query!==void 0&&(A.query=String(A.query).replace(P.PCT_ENCODED,C).replace(P.NOT_QUERY,U).replace(P.PCT_ENCODED,i)),A.fragment!==void 0&&(A.fragment=String(A.fragment).replace(P.PCT_ENCODED,C).replace(P.NOT_FRAGMENT,U).replace(P.PCT_ENCODED,i)),A}function ae(A){return A.replace(/^0*(.*)/,"$1")||"0"}function De(A,P){var C=A.match(P.IPV4ADDRESS)||[],L=R(C,2),M=L[1];return M?M.split(".").map(ae).join("."):A}function vt(A,P){var C=A.match(P.IPV6ADDRESS)||[],L=R(C,3),M=L[1],ee=L[2];if(M){for(var te=M.toLowerCase().split("::").reverse(),de=R(te,2),_e=de[0],Ne=de[1],ue=Ne?Ne.split(":").map(ae):[],ve=_e.split(":").map(ae),Oe=P.IPV4ADDRESS.test(ve[ve.length-1]),se=Oe?7:8,Se=ve.length-se,Ie=Array(se),be=0;be<se;++be)Ie[be]=ue[be]||ve[Se+be]||"";Oe&&(Ie[se-1]=De(Ie[se-1],P));var Yt=Ie.reduce(function(st,Nt,ur){if(!Nt||Nt==="0"){var Gt=st[st.length-1];Gt&&Gt.index+Gt.length===ur?Gt.length++:st.push({index:ur,length:1})}return st},[]),bt=Yt.sort(function(st,Nt){return Nt.length-st.length})[0],Pt=void 0;if(bt&&bt.length>1){var Ir=Ie.slice(0,bt.index),lr=Ie.slice(bt.index+bt.length);Pt=Ir.join(":")+"::"+lr.join(":")}else Pt=Ie.join(":");return ee&&(Pt+="%"+ee),Pt}else return A}var Mt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Lt="".match(/(){0}/)[1]===void 0;function ke(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C={},L=P.iri!==!1?h:d;P.reference==="suffix"&&(A=(P.scheme?P.scheme+":":"")+"//"+A);var M=A.match(Mt);if(M){Lt?(C.scheme=M[1],C.userinfo=M[3],C.host=M[4],C.port=parseInt(M[5],10),C.path=M[6]||"",C.query=M[7],C.fragment=M[8],isNaN(C.port)&&(C.port=M[5])):(C.scheme=M[1]||void 0,C.userinfo=A.indexOf("@")!==-1?M[3]:void 0,C.host=A.indexOf("//")!==-1?M[4]:void 0,C.port=parseInt(M[5],10),C.path=M[6]||"",C.query=A.indexOf("?")!==-1?M[7]:void 0,C.fragment=A.indexOf("#")!==-1?M[8]:void 0,isNaN(C.port)&&(C.port=A.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?M[4]:void 0)),C.host&&(C.host=vt(De(C.host,L),L)),C.scheme===void 0&&C.userinfo===void 0&&C.host===void 0&&C.port===void 0&&!C.path&&C.query===void 0?C.reference="same-document":C.scheme===void 0?C.reference="relative":C.fragment===void 0?C.reference="absolute":C.reference="uri",P.reference&&P.reference!=="suffix"&&P.reference!==C.reference&&(C.error=C.error||"URI is not a "+P.reference+" reference.");var ee=V[(P.scheme||C.scheme||"").toLowerCase()];if(!P.unicodeSupport&&(!ee||!ee.unicodeSupport)){if(C.host&&(P.domainHost||ee&&ee.domainHost))try{C.host=O.toASCII(C.host.replace(L.PCT_ENCODED,J).toLowerCase())}catch(te){C.error=C.error||"Host's domain name can not be converted to ASCII via punycode: "+te}X(C,d)}else X(C,L);ee&&ee.parse&&ee.parse(C,P)}else C.error=C.error||"URI can not be parsed.";return C}function Ft(A,P){var C=P.iri!==!1?h:d,L=[];return A.userinfo!==void 0&&(L.push(A.userinfo),L.push("@")),A.host!==void 0&&L.push(vt(De(String(A.host),C),C).replace(C.IPV6ADDRESS,function(M,ee,te){return"["+ee+(te?"%25"+te:"")+"]"})),(typeof A.port=="number"||typeof A.port=="string")&&(L.push(":"),L.push(String(A.port))),L.length?L.join(""):void 0}var gt=/^\.\.?\//,_t=/^\/\.(\/|$)/,Et=/^\/\.\.(\/|$)/,Vt=/^\/?(?:.|\n)*?(?=\/|$)/;function Je(A){for(var P=[];A.length;)if(A.match(gt))A=A.replace(gt,"");else if(A.match(_t))A=A.replace(_t,"/");else if(A.match(Et))A=A.replace(Et,"/"),P.pop();else if(A==="."||A==="..")A="";else{var C=A.match(Vt);if(C){var L=C[0];A=A.slice(L.length),P.push(L)}else throw new Error("Unexpected dot segment condition")}return P.join("")}function Ae(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=P.iri?h:d,L=[],M=V[(P.scheme||A.scheme||"").toLowerCase()];if(M&&M.serialize&&M.serialize(A,P),A.host&&!C.IPV6ADDRESS.test(A.host)){if(P.domainHost||M&&M.domainHost)try{A.host=P.iri?O.toUnicode(A.host):O.toASCII(A.host.replace(C.PCT_ENCODED,J).toLowerCase())}catch(de){A.error=A.error||"Host's domain name can not be converted to "+(P.iri?"Unicode":"ASCII")+" via punycode: "+de}}X(A,C),P.reference!=="suffix"&&A.scheme&&(L.push(A.scheme),L.push(":"));var ee=Ft(A,P);if(ee!==void 0&&(P.reference!=="suffix"&&L.push("//"),L.push(ee),A.path&&A.path.charAt(0)!=="/"&&L.push("/")),A.path!==void 0){var te=A.path;!P.absolutePath&&(!M||!M.absolutePath)&&(te=Je(te)),ee===void 0&&(te=te.replace(/^\/\//,"/%2F")),L.push(te)}return A.query!==void 0&&(L.push("?"),L.push(A.query)),A.fragment!==void 0&&(L.push("#"),L.push(A.fragment)),L.join("")}function wt(A,P){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},L=arguments[3],M={};return L||(A=ke(Ae(A,C),C),P=ke(Ae(P,C),C)),C=C||{},!C.tolerant&&P.scheme?(M.scheme=P.scheme,M.userinfo=P.userinfo,M.host=P.host,M.port=P.port,M.path=Je(P.path||""),M.query=P.query):(P.userinfo!==void 0||P.host!==void 0||P.port!==void 0?(M.userinfo=P.userinfo,M.host=P.host,M.port=P.port,M.path=Je(P.path||""),M.query=P.query):(P.path?(P.path.charAt(0)==="/"?M.path=Je(P.path):((A.userinfo!==void 0||A.host!==void 0||A.port!==void 0)&&!A.path?M.path="/"+P.path:A.path?M.path=A.path.slice(0,A.path.lastIndexOf("/")+1)+P.path:M.path=P.path,M.path=Je(M.path)),M.query=P.query):(M.path=A.path,P.query!==void 0?M.query=P.query:M.query=A.query),M.userinfo=A.userinfo,M.host=A.host,M.port=A.port),M.scheme=A.scheme),M.fragment=P.fragment,M}function Ut(A,P,C){var L=c({scheme:"null"},C);return Ae(wt(ke(A,L),ke(P,L),L,!0),L)}function tt(A,P){return typeof A=="string"?A=Ae(ke(A,P),P):a(A)==="object"&&(A=ke(Ae(A,P),P)),A}function zt(A,P,C){return typeof A=="string"?A=Ae(ke(A,C),C):a(A)==="object"&&(A=Ae(A,C)),typeof P=="string"?P=Ae(ke(P,C),C):a(P)==="object"&&(P=Ae(P,C)),A===P}function cr(A,P){return A&&A.toString().replace(!P||!P.iri?d.ESCAPE:h.ESCAPE,U)}function Ge(A,P){return A&&A.toString().replace(!P||!P.iri?d.PCT_ENCODED:h.PCT_ENCODED,J)}var qt={scheme:"http",domainHost:!0,parse:function(P,C){return P.host||(P.error=P.error||"HTTP URIs must have a host."),P},serialize:function(P,C){var L=String(P.scheme).toLowerCase()==="https";return(P.port===(L?443:80)||P.port==="")&&(P.port=void 0),P.path||(P.path="/"),P}},$i={scheme:"https",domainHost:qt.domainHost,parse:qt.parse,serialize:qt.serialize};function yi(A){return typeof A.secure=="boolean"?A.secure:String(A.scheme).toLowerCase()==="wss"}var rn={scheme:"ws",domainHost:!0,parse:function(P,C){var L=P;return L.secure=yi(L),L.resourceName=(L.path||"/")+(L.query?"?"+L.query:""),L.path=void 0,L.query=void 0,L},serialize:function(P,C){if((P.port===(yi(P)?443:80)||P.port==="")&&(P.port=void 0),typeof P.secure=="boolean"&&(P.scheme=P.secure?"wss":"ws",P.secure=void 0),P.resourceName){var L=P.resourceName.split("?"),M=R(L,2),ee=M[0],te=M[1];P.path=ee&&ee!=="/"?ee:void 0,P.query=te,P.resourceName=void 0}return P.fragment=void 0,P}},vi={scheme:"wss",domainHost:rn.domainHost,parse:rn.parse,serialize:rn.serialize},Vu={},gi="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",St="[0-9A-Fa-f]",Uu=s(s("%[EFef]"+St+"%"+St+St+"%"+St+St)+"|"+s("%[89A-Fa-f]"+St+"%"+St+St)+"|"+s("%"+St+St)),zu="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",qu="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Gu=n(qu,'[\\"\\\\]'),Ku="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Hu=new RegExp(gi,"g"),Tr=new RegExp(Uu,"g"),Bu=new RegExp(n("[^]",zu,"[\\.]",'[\\"]',Gu),"g"),_i=new RegExp(n("[^]",gi,Ku),"g"),Wu=_i;function zs(A){var P=J(A);return P.match(Hu)?P:A}var Ei={scheme:"mailto",parse:function(P,C){var L=P,M=L.to=L.path?L.path.split(","):[];if(L.path=void 0,L.query){for(var ee=!1,te={},de=L.query.split("&"),_e=0,Ne=de.length;_e<Ne;++_e){var ue=de[_e].split("=");switch(ue[0]){case"to":for(var ve=ue[1].split(","),Oe=0,se=ve.length;Oe<se;++Oe)M.push(ve[Oe]);break;case"subject":L.subject=Ge(ue[1],C);break;case"body":L.body=Ge(ue[1],C);break;default:ee=!0,te[Ge(ue[0],C)]=Ge(ue[1],C);break}}ee&&(L.headers=te)}L.query=void 0;for(var Se=0,Ie=M.length;Se<Ie;++Se){var be=M[Se].split("@");if(be[0]=Ge(be[0]),C.unicodeSupport)be[1]=Ge(be[1],C).toLowerCase();else try{be[1]=O.toASCII(Ge(be[1],C).toLowerCase())}catch(Yt){L.error=L.error||"Email address's domain name can not be converted to ASCII via punycode: "+Yt}M[Se]=be.join("@")}return L},serialize:function(P,C){var L=P,M=u(P.to);if(M){for(var ee=0,te=M.length;ee<te;++ee){var de=String(M[ee]),_e=de.lastIndexOf("@"),Ne=de.slice(0,_e).replace(Tr,zs).replace(Tr,i).replace(Bu,U),ue=de.slice(_e+1);try{ue=C.iri?O.toUnicode(ue):O.toASCII(Ge(ue,C).toLowerCase())}catch(Se){L.error=L.error||"Email address's domain name can not be converted to "+(C.iri?"Unicode":"ASCII")+" via punycode: "+Se}M[ee]=Ne+"@"+ue}L.path=M.join(",")}var ve=P.headers=P.headers||{};P.subject&&(ve.subject=P.subject),P.body&&(ve.body=P.body);var Oe=[];for(var se in ve)ve[se]!==Vu[se]&&Oe.push(se.replace(Tr,zs).replace(Tr,i).replace(_i,U)+"="+ve[se].replace(Tr,zs).replace(Tr,i).replace(Wu,U));return Oe.length&&(L.query=Oe.join("&")),L}},Xu=/^([^\:]+)\:(.*)/,wi={scheme:"urn",parse:function(P,C){var L=P.path&&P.path.match(Xu),M=P;if(L){var ee=C.scheme||M.scheme||"urn",te=L[1].toLowerCase(),de=L[2],_e=ee+":"+(C.nid||te),Ne=V[_e];M.nid=te,M.nss=de,M.path=void 0,Ne&&(M=Ne.parse(M,C))}else M.error=M.error||"URN can not be parsed.";return M},serialize:function(P,C){var L=C.scheme||P.scheme||"urn",M=P.nid,ee=L+":"+(C.nid||M),te=V[ee];te&&(P=te.serialize(P,C));var de=P,_e=P.nss;return de.path=(M||C.nid)+":"+_e,de}},Ju=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Si={scheme:"urn:uuid",parse:function(P,C){var L=P;return L.uuid=L.nss,L.nss=void 0,!C.tolerant&&(!L.uuid||!L.uuid.match(Ju))&&(L.error=L.error||"UUID is not valid."),L},serialize:function(P,C){var L=P;return L.nss=(P.uuid||"").toLowerCase(),L}};V[qt.scheme]=qt,V[$i.scheme]=$i,V[rn.scheme]=rn,V[vi.scheme]=vi,V[Ei.scheme]=Ei,V[wi.scheme]=wi,V[Si.scheme]=Si,r.SCHEMES=V,r.pctEncChar=U,r.pctDecChars=J,r.parse=ke,r.removeDotSegments=Je,r.serialize=Ae,r.resolveComponents=wt,r.resolve=Ut,r.normalize=tt,r.equal=zt,r.escapeComponent=cr,r.unescapeComponent=Ge,Object.defineProperty(r,"__esModule",{value:!0})})})(da,da.exports);var Ml=da.exports;Object.defineProperty(Ka,"__esModule",{value:!0});const Ll=Ml;Ll.code='require("ajv/dist/runtime/uri").default';Ka.default=Ll;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=mt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=le;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=In,s=An,a=Sr,i=xe,u=le,c=Ve,l=Tn,d=fe,h=wh,R=Ka,g=(N,p)=>new RegExp(N,p);g.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],S=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),$={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function w(N){var p,T,v,o,f,O,V,U,J,X,ae,De,vt,Mt,Lt,ke,Ft,gt,_t,Et,Vt,Je,Ae,wt,Ut;const tt=N.strict,zt=(p=N.code)===null||p===void 0?void 0:p.optimize,cr=zt===!0||zt===void 0?1:zt||0,Ge=(v=(T=N.code)===null||T===void 0?void 0:T.regExp)!==null&&v!==void 0?v:g,qt=(o=N.uriResolver)!==null&&o!==void 0?o:R.default;return{strictSchema:(O=(f=N.strictSchema)!==null&&f!==void 0?f:tt)!==null&&O!==void 0?O:!0,strictNumbers:(U=(V=N.strictNumbers)!==null&&V!==void 0?V:tt)!==null&&U!==void 0?U:!0,strictTypes:(X=(J=N.strictTypes)!==null&&J!==void 0?J:tt)!==null&&X!==void 0?X:"log",strictTuples:(De=(ae=N.strictTuples)!==null&&ae!==void 0?ae:tt)!==null&&De!==void 0?De:"log",strictRequired:(Mt=(vt=N.strictRequired)!==null&&vt!==void 0?vt:tt)!==null&&Mt!==void 0?Mt:!1,code:N.code?{...N.code,optimize:cr,regExp:Ge}:{optimize:cr,regExp:Ge},loopRequired:(Lt=N.loopRequired)!==null&&Lt!==void 0?Lt:E,loopEnum:(ke=N.loopEnum)!==null&&ke!==void 0?ke:E,meta:(Ft=N.meta)!==null&&Ft!==void 0?Ft:!0,messages:(gt=N.messages)!==null&&gt!==void 0?gt:!0,inlineRefs:(_t=N.inlineRefs)!==null&&_t!==void 0?_t:!0,schemaId:(Et=N.schemaId)!==null&&Et!==void 0?Et:"$id",addUsedSchema:(Vt=N.addUsedSchema)!==null&&Vt!==void 0?Vt:!0,validateSchema:(Je=N.validateSchema)!==null&&Je!==void 0?Je:!0,validateFormats:(Ae=N.validateFormats)!==null&&Ae!==void 0?Ae:!0,unicodeRegExp:(wt=N.unicodeRegExp)!==null&&wt!==void 0?wt:!0,int32range:(Ut=N.int32range)!==null&&Ut!==void 0?Ut:!0,uriResolver:qt}}class I{constructor(p={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,p=this.opts={...p,...w(p)};const{es5:T,lines:v}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:S,es5:T,lines:v}),this.logger=H(p.logger);const o=p.validateFormats;p.validateFormats=!1,this.RULES=(0,a.getRules)(),D.call(this,$,p,"NOT SUPPORTED"),D.call(this,m,p,"DEPRECATED","warn"),this._metaOpts=G.call(this),p.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),p.keywords&&F.call(this,p.keywords),typeof p.meta=="object"&&this.addMetaSchema(p.meta),b.call(this),p.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:p,meta:T,schemaId:v}=this.opts;let o=h;v==="id"&&(o={...h},o.id=o.$id,delete o.$id),T&&p&&this.addMetaSchema(o,o[v],!1)}defaultMeta(){const{meta:p,schemaId:T}=this.opts;return this.opts.defaultMeta=typeof p=="object"?p[T]||p:void 0}validate(p,T){let v;if(typeof p=="string"){if(v=this.getSchema(p),!v)throw new Error(`no schema with key or ref "${p}"`)}else v=this.compile(p);const o=v(T);return"$async"in v||(this.errors=v.errors),o}compile(p,T){const v=this._addSchema(p,T);return v.validate||this._compileSchemaEnv(v)}compileAsync(p,T){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:v}=this.opts;return o.call(this,p,T);async function o(X,ae){await f.call(this,X.$schema);const De=this._addSchema(X,ae);return De.validate||O.call(this,De)}async function f(X){X&&!this.getSchema(X)&&await o.call(this,{$ref:X},!0)}async function O(X){try{return this._compileSchemaEnv(X)}catch(ae){if(!(ae instanceof s.default))throw ae;return V.call(this,ae),await U.call(this,ae.missingSchema),O.call(this,X)}}function V({missingSchema:X,missingRef:ae}){if(this.refs[X])throw new Error(`AnySchema ${X} is loaded but ${ae} cannot be resolved`)}async function U(X){const ae=await J.call(this,X);this.refs[X]||await f.call(this,ae.$schema),this.refs[X]||this.addSchema(ae,X,T)}async function J(X){const ae=this._loading[X];if(ae)return ae;try{return await(this._loading[X]=v(X))}finally{delete this._loading[X]}}}addSchema(p,T,v,o=this.opts.validateSchema){if(Array.isArray(p)){for(const O of p)this.addSchema(O,void 0,v,o);return this}let f;if(typeof p=="object"){const{schemaId:O}=this.opts;if(f=p[O],f!==void 0&&typeof f!="string")throw new Error(`schema ${O} must be string`)}return T=(0,c.normalizeId)(T||f),this._checkUnique(T),this.schemas[T]=this._addSchema(p,v,T,o,!0),this}addMetaSchema(p,T,v=this.opts.validateSchema){return this.addSchema(p,T,!0,v),this}validateSchema(p,T){if(typeof p=="boolean")return!0;let v;if(v=p.$schema,v!==void 0&&typeof v!="string")throw new Error("$schema must be a string");if(v=v||this.opts.defaultMeta||this.defaultMeta(),!v)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate(v,p);if(!o&&T){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return o}getSchema(p){let T;for(;typeof(T=_.call(this,p))=="string";)p=T;if(T===void 0){const{schemaId:v}=this.opts,o=new i.SchemaEnv({schema:{},schemaId:v});if(T=i.resolveSchema.call(this,o,p),!T)return;this.refs[p]=T}return T.validate||this._compileSchemaEnv(T)}removeSchema(p){if(p instanceof RegExp)return this._removeAllSchemas(this.schemas,p),this._removeAllSchemas(this.refs,p),this;switch(typeof p){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const T=_.call(this,p);return typeof T=="object"&&this._cache.delete(T.schema),delete this.schemas[p],delete this.refs[p],this}case"object":{const T=p;this._cache.delete(T);let v=p[this.opts.schemaId];return v&&(v=(0,c.normalizeId)(v),delete this.schemas[v],delete this.refs[v]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(p){for(const T of p)this.addKeyword(T);return this}addKeyword(p,T){let v;if(typeof p=="string")v=p,typeof T=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),T.keyword=v);else if(typeof p=="object"&&T===void 0){if(T=p,v=T.keyword,Array.isArray(v)&&!v.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(q.call(this,v,T),!T)return(0,d.eachItem)(v,f=>W.call(this,f)),this;B.call(this,T);const o={...T,type:(0,l.getJSONTypes)(T.type),schemaType:(0,l.getJSONTypes)(T.schemaType)};return(0,d.eachItem)(v,o.type.length===0?f=>W.call(this,f,o):f=>o.type.forEach(O=>W.call(this,f,o,O))),this}getKeyword(p){const T=this.RULES.all[p];return typeof T=="object"?T.definition:!!T}removeKeyword(p){const{RULES:T}=this;delete T.keywords[p],delete T.all[p];for(const v of T.rules){const o=v.rules.findIndex(f=>f.keyword===p);o>=0&&v.rules.splice(o,1)}return this}addFormat(p,T){return typeof T=="string"&&(T=new RegExp(T)),this.formats[p]=T,this}errorsText(p=this.errors,{separator:T=", ",dataVar:v="data"}={}){return!p||p.length===0?"No errors":p.map(o=>`${v}${o.instancePath} ${o.message}`).reduce((o,f)=>o+T+f)}$dataMetaSchema(p,T){const v=this.RULES.all;p=JSON.parse(JSON.stringify(p));for(const o of T){const f=o.split("/").slice(1);let O=p;for(const V of f)O=O[V];for(const V in v){const U=v[V];if(typeof U!="object")continue;const{$data:J}=U.definition,X=O[V];J&&X&&(O[V]=z(X))}}return p}_removeAllSchemas(p,T){for(const v in p){const o=p[v];(!T||T.test(v))&&(typeof o=="string"?delete p[v]:o&&!o.meta&&(this._cache.delete(o.schema),delete p[v]))}}_addSchema(p,T,v,o=this.opts.validateSchema,f=this.opts.addUsedSchema){let O;const{schemaId:V}=this.opts;if(typeof p=="object")O=p[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof p!="boolean")throw new Error("schema must be object or boolean")}let U=this._cache.get(p);if(U!==void 0)return U;v=(0,c.normalizeId)(O||v);const J=c.getSchemaRefs.call(this,p,v);return U=new i.SchemaEnv({schema:p,schemaId:V,meta:T,baseId:v,localRefs:J}),this._cache.set(U.schema,U),f&&!v.startsWith("#")&&(v&&this._checkUnique(v),this.refs[v]=U),o&&this.validateSchema(p,!0),U}_checkUnique(p){if(this.schemas[p]||this.refs[p])throw new Error(`schema with key or id "${p}" already exists`)}_compileSchemaEnv(p){if(p.meta?this._compileMetaSchema(p):i.compileSchema.call(this,p),!p.validate)throw new Error("ajv implementation error");return p.validate}_compileMetaSchema(p){const T=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,p)}finally{this.opts=T}}}e.default=I,I.ValidationError=n.default,I.MissingRefError=s.default;function D(N,p,T,v="error"){for(const o in N){const f=o;f in p&&this.logger[v](`${T}: option ${o}. ${N[f]}`)}}function _(N){return N=(0,c.normalizeId)(N),this.schemas[N]||this.refs[N]}function b(){const N=this.opts.schemas;if(N)if(Array.isArray(N))this.addSchema(N);else for(const p in N)this.addSchema(N[p],p)}function j(){for(const N in this.opts.formats){const p=this.opts.formats[N];p&&this.addFormat(N,p)}}function F(N){if(Array.isArray(N)){this.addVocabulary(N);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const p in N){const T=N[p];T.keyword||(T.keyword=p),this.addKeyword(T)}}function G(){const N={...this.opts};for(const p of y)delete N[p];return N}const Q={log(){},warn(){},error(){}};function H(N){if(N===!1)return Q;if(N===void 0)return console;if(N.log&&N.warn&&N.error)return N;throw new Error("logger must implement log, warn and error methods")}const K=/^[a-z_$][a-z0-9_$:-]*$/i;function q(N,p){const{RULES:T}=this;if((0,d.eachItem)(N,v=>{if(T.keywords[v])throw new Error(`Keyword ${v} is already defined`);if(!K.test(v))throw new Error(`Keyword ${v} has invalid name`)}),!!p&&p.$data&&!("code"in p||"validate"in p))throw new Error('$data keyword must have "code" or "validate" function')}function W(N,p,T){var v;const o=p==null?void 0:p.post;if(T&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let O=o?f.post:f.rules.find(({type:U})=>U===T);if(O||(O={type:T,rules:[]},f.rules.push(O)),f.keywords[N]=!0,!p)return;const V={keyword:N,definition:{...p,type:(0,l.getJSONTypes)(p.type),schemaType:(0,l.getJSONTypes)(p.schemaType)}};p.before?Y.call(this,O,V,p.before):O.rules.push(V),f.all[N]=V,(v=p.implements)===null||v===void 0||v.forEach(U=>this.addKeyword(U))}function Y(N,p,T){const v=N.rules.findIndex(o=>o.keyword===T);v>=0?N.rules.splice(v,0,p):(N.rules.push(p),this.logger.warn(`rule ${T} is not defined`))}function B(N){let{metaSchema:p}=N;p!==void 0&&(N.$data&&this.opts.$data&&(p=z(p)),N.validateSchema=this.compile(p,!0))}const k={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function z(N){return{anyOf:[N,k]}}})(fl);var Ha={},Ba={},Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});const Sh={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Wa.default=Sh;var br={};Object.defineProperty(br,"__esModule",{value:!0});br.callRef=br.getValidate=void 0;const bh=An,Fi=ie,Qe=le,Cr=Dt,Vi=xe,Kn=fe,Ph={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:i,opts:u,self:c}=n,{root:l}=a;if((r==="#"||r==="#/")&&s===l.baseId)return h();const d=Vi.resolveRef.call(c,l,s,r);if(d===void 0)throw new bh.default(n.opts.uriResolver,s,r);if(d instanceof Vi.SchemaEnv)return R(d);return g(d);function h(){if(a===l)return as(e,i,a,a.$async);const y=t.scopeValue("root",{ref:l});return as(e,(0,Qe._)`${y}.validate`,l,l.$async)}function R(y){const S=Fl(e,y);as(e,S,y,y.$async)}function g(y){const S=t.scopeValue("schema",u.code.source===!0?{ref:y,code:(0,Qe.stringify)(y)}:{ref:y}),$=t.name("valid"),m=e.subschema({schema:y,dataTypes:[],schemaPath:Qe.nil,topSchemaRef:S,errSchemaPath:r},$);e.mergeEvaluated(m),e.ok($)}}};function Fl(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Qe._)`${r.scopeValue("wrapper",{ref:t})}.validate`}br.getValidate=Fl;function as(e,t,r,n){const{gen:s,it:a}=e,{allErrors:i,schemaEnv:u,opts:c}=a,l=c.passContext?Cr.default.this:Qe.nil;n?d():h();function d(){if(!u.$async)throw new Error("async schema referenced by sync schema");const y=s.let("valid");s.try(()=>{s.code((0,Qe._)`await ${(0,Fi.callValidateCode)(e,t,l)}`),g(t),i||s.assign(y,!0)},S=>{s.if((0,Qe._)`!(${S} instanceof ${a.ValidationError})`,()=>s.throw(S)),R(S),i||s.assign(y,!1)}),e.ok(y)}function h(){e.result((0,Fi.callValidateCode)(e,t,l),()=>g(t),()=>R(t))}function R(y){const S=(0,Qe._)`${y}.errors`;s.assign(Cr.default.vErrors,(0,Qe._)`${Cr.default.vErrors} === null ? ${S} : ${Cr.default.vErrors}.concat(${S})`),s.assign(Cr.default.errors,(0,Qe._)`${Cr.default.vErrors}.length`)}function g(y){var S;if(!a.opts.unevaluated)return;const $=(S=r==null?void 0:r.validate)===null||S===void 0?void 0:S.evaluated;if(a.props!==!0)if($&&!$.dynamicProps)$.props!==void 0&&(a.props=Kn.mergeEvaluated.props(s,$.props,a.props));else{const m=s.var("props",(0,Qe._)`${y}.evaluated.props`);a.props=Kn.mergeEvaluated.props(s,m,a.props,Qe.Name)}if(a.items!==!0)if($&&!$.dynamicItems)$.items!==void 0&&(a.items=Kn.mergeEvaluated.items(s,$.items,a.items));else{const m=s.var("items",(0,Qe._)`${y}.evaluated.items`);a.items=Kn.mergeEvaluated.items(s,m,a.items,Qe.Name)}}}br.callRef=as;br.default=Ph;Object.defineProperty(Ba,"__esModule",{value:!0});const Nh=Wa,Oh=br,Rh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Nh.default,Oh.default];Ba.default=Rh;var Xa={},Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});const ms=le,Zt=ms.operators,ps={maximum:{okStr:"<=",ok:Zt.LTE,fail:Zt.GT},minimum:{okStr:">=",ok:Zt.GTE,fail:Zt.LT},exclusiveMaximum:{okStr:"<",ok:Zt.LT,fail:Zt.GTE},exclusiveMinimum:{okStr:">",ok:Zt.GT,fail:Zt.LTE}},Th={message:({keyword:e,schemaCode:t})=>(0,ms.str)`must be ${ps[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ms._)`{comparison: ${ps[e].okStr}, limit: ${t}}`},Ih={keyword:Object.keys(ps),type:"number",schemaType:"number",$data:!0,error:Th,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,ms._)`${r} ${ps[t].fail} ${n} || isNaN(${r})`)}};Ja.default=Ih;var Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});const $n=le,Ah={message:({schemaCode:e})=>(0,$n.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,$n._)`{multipleOf: ${e}}`},Ch={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Ah,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,i=t.let("res"),u=a?(0,$n._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,$n._)`${i} !== parseInt(${i})`;e.fail$data((0,$n._)`(${n} === 0 || (${i} = ${r}/${n}, ${u}))`)}};Ya.default=Ch;var Qa={},Za={};Object.defineProperty(Za,"__esModule",{value:!0});function Vl(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Za.default=Vl;Vl.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Qa,"__esModule",{value:!0});const $r=le,jh=fe,Dh=Za,kh={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,$r.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,$r._)`{limit: ${e}}`},Mh={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:kh,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?$r.operators.GT:$r.operators.LT,i=s.opts.unicode===!1?(0,$r._)`${r}.length`:(0,$r._)`${(0,jh.useFunc)(e.gen,Dh.default)}(${r})`;e.fail$data((0,$r._)`${i} ${a} ${n}`)}};Qa.default=Mh;var xa={};Object.defineProperty(xa,"__esModule",{value:!0});const Lh=ie,$s=le,Fh={message:({schemaCode:e})=>(0,$s.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,$s._)`{pattern: ${e}}`},Vh={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Fh,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,i=a.opts.unicodeRegExp?"u":"",u=r?(0,$s._)`(new RegExp(${s}, ${i}))`:(0,Lh.usePattern)(e,n);e.fail$data((0,$s._)`!${u}.test(${t})`)}};xa.default=Vh;var eo={};Object.defineProperty(eo,"__esModule",{value:!0});const yn=le,Uh={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,yn.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,yn._)`{limit: ${e}}`},zh={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Uh,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?yn.operators.GT:yn.operators.LT;e.fail$data((0,yn._)`Object.keys(${r}).length ${s} ${n}`)}};eo.default=zh;var to={};Object.defineProperty(to,"__esModule",{value:!0});const on=ie,vn=le,qh=fe,Gh={message:({params:{missingProperty:e}})=>(0,vn.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,vn._)`{missingProperty: ${e}}`},Kh={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Gh,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:i}=e,{opts:u}=i;if(!a&&r.length===0)return;const c=r.length>=u.loopRequired;if(i.allErrors?l():d(),u.strictRequired){const g=e.parentSchema.properties,{definedProperties:y}=e.it;for(const S of r)if((g==null?void 0:g[S])===void 0&&!y.has(S)){const $=i.schemaEnv.baseId+i.errSchemaPath,m=`required property "${S}" is not defined at "${$}" (strictRequired)`;(0,qh.checkStrictMode)(i,m,i.opts.strictRequired)}}function l(){if(c||a)e.block$data(vn.nil,h);else for(const g of r)(0,on.checkReportMissingProp)(e,g)}function d(){const g=t.let("missing");if(c||a){const y=t.let("valid",!0);e.block$data(y,()=>R(g,y)),e.ok(y)}else t.if((0,on.checkMissingProp)(e,r,g)),(0,on.reportMissingProp)(e,g),t.else()}function h(){t.forOf("prop",n,g=>{e.setParams({missingProperty:g}),t.if((0,on.noPropertyInData)(t,s,g,u.ownProperties),()=>e.error())})}function R(g,y){e.setParams({missingProperty:g}),t.forOf(g,n,()=>{t.assign(y,(0,on.propertyInData)(t,s,g,u.ownProperties)),t.if((0,vn.not)(y),()=>{e.error(),t.break()})},vn.nil)}}};to.default=Kh;var ro={};Object.defineProperty(ro,"__esModule",{value:!0});const gn=le,Hh={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,gn.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,gn._)`{limit: ${e}}`},Bh={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Hh,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?gn.operators.GT:gn.operators.LT;e.fail$data((0,gn._)`${r}.length ${s} ${n}`)}};ro.default=Bh;var no={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const Ul=Os;Ul.code='require("ajv/dist/runtime/equal").default';Cn.default=Ul;Object.defineProperty(no,"__esModule",{value:!0});const Hs=Tn,Me=le,Wh=fe,Xh=Cn,Jh={message:({params:{i:e,j:t}})=>(0,Me.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Me._)`{i: ${e}, j: ${t}}`},Yh={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Jh,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:i,it:u}=e;if(!n&&!s)return;const c=t.let("valid"),l=a.items?(0,Hs.getSchemaTypes)(a.items):[];e.block$data(c,d,(0,Me._)`${i} === false`),e.ok(c);function d(){const y=t.let("i",(0,Me._)`${r}.length`),S=t.let("j");e.setParams({i:y,j:S}),t.assign(c,!0),t.if((0,Me._)`${y} > 1`,()=>(h()?R:g)(y,S))}function h(){return l.length>0&&!l.some(y=>y==="object"||y==="array")}function R(y,S){const $=t.name("item"),m=(0,Hs.checkDataTypes)(l,$,u.opts.strictNumbers,Hs.DataType.Wrong),E=t.const("indices",(0,Me._)`{}`);t.for((0,Me._)`;${y}--;`,()=>{t.let($,(0,Me._)`${r}[${y}]`),t.if(m,(0,Me._)`continue`),l.length>1&&t.if((0,Me._)`typeof ${$} == "string"`,(0,Me._)`${$} += "_"`),t.if((0,Me._)`typeof ${E}[${$}] == "number"`,()=>{t.assign(S,(0,Me._)`${E}[${$}]`),e.error(),t.assign(c,!1).break()}).code((0,Me._)`${E}[${$}] = ${y}`)})}function g(y,S){const $=(0,Wh.useFunc)(t,Xh.default),m=t.name("outer");t.label(m).for((0,Me._)`;${y}--;`,()=>t.for((0,Me._)`${S} = ${y}; ${S}--;`,()=>t.if((0,Me._)`${$}(${r}[${y}], ${r}[${S}])`,()=>{e.error(),t.assign(c,!1).break(m)})))}}};no.default=Yh;var so={};Object.defineProperty(so,"__esModule",{value:!0});const fa=le,Qh=fe,Zh=Cn,xh={message:"must be equal to constant",params:({schemaCode:e})=>(0,fa._)`{allowedValue: ${e}}`},em={keyword:"const",$data:!0,error:xh,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,fa._)`!${(0,Qh.useFunc)(t,Zh.default)}(${r}, ${s})`):e.fail((0,fa._)`${a} !== ${r}`)}};so.default=em;var ao={};Object.defineProperty(ao,"__esModule",{value:!0});const hn=le,tm=fe,rm=Cn,nm={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,hn._)`{allowedValues: ${e}}`},sm={keyword:"enum",schemaType:"array",$data:!0,error:nm,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:i}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const u=s.length>=i.opts.loopEnum;let c;const l=()=>c??(c=(0,tm.useFunc)(t,rm.default));let d;if(u||n)d=t.let("valid"),e.block$data(d,h);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const g=t.const("vSchema",a);d=(0,hn.or)(...s.map((y,S)=>R(g,S)))}e.pass(d);function h(){t.assign(d,!1),t.forOf("v",a,g=>t.if((0,hn._)`${l()}(${r}, ${g})`,()=>t.assign(d,!0).break()))}function R(g,y){const S=s[y];return typeof S=="object"&&S!==null?(0,hn._)`${l()}(${r}, ${g}[${y}])`:(0,hn._)`${r} === ${S}`}}};ao.default=sm;Object.defineProperty(Xa,"__esModule",{value:!0});const am=Ja,om=Ya,im=Qa,cm=xa,lm=eo,um=to,dm=ro,fm=no,hm=so,mm=ao,pm=[am.default,om.default,im.default,cm.default,lm.default,um.default,dm.default,fm.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},hm.default,mm.default];Xa.default=pm;var oo={},Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.validateAdditionalItems=void 0;const yr=le,ha=fe,$m={message:({params:{len:e}})=>(0,yr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,yr._)`{limit: ${e}}`},ym={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:$m,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,ha.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}zl(e,n)}};function zl(e,t){const{gen:r,schema:n,data:s,keyword:a,it:i}=e;i.items=!0;const u=r.const("len",(0,yr._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,yr._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,ha.alwaysValidSchema)(i,n)){const l=r.var("valid",(0,yr._)`${u} <= ${t.length}`);r.if((0,yr.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,u,d=>{e.subschema({keyword:a,dataProp:d,dataPropType:ha.Type.Num},l),i.allErrors||r.if((0,yr.not)(l),()=>r.break())})}}Qr.validateAdditionalItems=zl;Qr.default=ym;var io={},Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.validateTuple=void 0;const Ui=le,os=fe,vm=ie,gm={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return ql(e,"additionalItems",t);r.items=!0,!(0,os.alwaysValidSchema)(r,t)&&e.ok((0,vm.validateArray)(e))}};function ql(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:i,it:u}=e;d(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=os.mergeEvaluated.items(n,r.length,u.items));const c=n.name("valid"),l=n.const("len",(0,Ui._)`${a}.length`);r.forEach((h,R)=>{(0,os.alwaysValidSchema)(u,h)||(n.if((0,Ui._)`${l} > ${R}`,()=>e.subschema({keyword:i,schemaProp:R,dataProp:R},c)),e.ok(c))});function d(h){const{opts:R,errSchemaPath:g}=u,y=r.length,S=y===h.minItems&&(y===h.maxItems||h[t]===!1);if(R.strictTuples&&!S){const $=`"${i}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${g}"`;(0,os.checkStrictMode)(u,$,R.strictTuples)}}}Zr.validateTuple=ql;Zr.default=gm;Object.defineProperty(io,"__esModule",{value:!0});const _m=Zr,Em={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,_m.validateTuple)(e,"items")};io.default=Em;var co={};Object.defineProperty(co,"__esModule",{value:!0});const zi=le,wm=fe,Sm=ie,bm=Qr,Pm={message:({params:{len:e}})=>(0,zi.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,zi._)`{limit: ${e}}`},Nm={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Pm,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,wm.alwaysValidSchema)(n,t)&&(s?(0,bm.validateAdditionalItems)(e,s):e.ok((0,Sm.validateArray)(e)))}};co.default=Nm;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});const at=le,Hn=fe,Om={message:({params:{min:e,max:t}})=>t===void 0?(0,at.str)`must contain at least ${e} valid item(s)`:(0,at.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,at._)`{minContains: ${e}}`:(0,at._)`{minContains: ${e}, maxContains: ${t}}`},Rm={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Om,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let i,u;const{minContains:c,maxContains:l}=n;a.opts.next?(i=c===void 0?1:c,u=l):i=1;const d=t.const("len",(0,at._)`${s}.length`);if(e.setParams({min:i,max:u}),u===void 0&&i===0){(0,Hn.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&i>u){(0,Hn.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Hn.alwaysValidSchema)(a,r)){let S=(0,at._)`${d} >= ${i}`;u!==void 0&&(S=(0,at._)`${S} && ${d} <= ${u}`),e.pass(S);return}a.items=!0;const h=t.name("valid");u===void 0&&i===1?g(h,()=>t.if(h,()=>t.break())):i===0?(t.let(h,!0),u!==void 0&&t.if((0,at._)`${s}.length > 0`,R)):(t.let(h,!1),R()),e.result(h,()=>e.reset());function R(){const S=t.name("_valid"),$=t.let("count",0);g(S,()=>t.if(S,()=>y($)))}function g(S,$){t.forRange("i",0,d,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:Hn.Type.Num,compositeRule:!0},S),$()})}function y(S){t.code((0,at._)`${S}++`),u===void 0?t.if((0,at._)`${S} >= ${i}`,()=>t.assign(h,!0).break()):(t.if((0,at._)`${S} > ${u}`,()=>t.assign(h,!1).break()),i===1?t.assign(h,!0):t.if((0,at._)`${S} >= ${i}`,()=>t.assign(h,!0)))}}};lo.default=Rm;var Gl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=le,r=fe,n=ie;e.error={message:({params:{property:c,depsCount:l,deps:d}})=>{const h=l===1?"property":"properties";return(0,t.str)`must have ${h} ${d} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:d,missingProperty:h}})=>(0,t._)`{property: ${c},
    missingProperty: ${h},
    depsCount: ${l},
    deps: ${d}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,d]=a(c);i(c,l),u(c,d)}};function a({schema:c}){const l={},d={};for(const h in c){if(h==="__proto__")continue;const R=Array.isArray(c[h])?l:d;R[h]=c[h]}return[l,d]}function i(c,l=c.schema){const{gen:d,data:h,it:R}=c;if(Object.keys(l).length===0)return;const g=d.let("missing");for(const y in l){const S=l[y];if(S.length===0)continue;const $=(0,n.propertyInData)(d,h,y,R.opts.ownProperties);c.setParams({property:y,depsCount:S.length,deps:S.join(", ")}),R.allErrors?d.if($,()=>{for(const m of S)(0,n.checkReportMissingProp)(c,m)}):(d.if((0,t._)`${$} && (${(0,n.checkMissingProp)(c,S,g)})`),(0,n.reportMissingProp)(c,g),d.else())}}e.validatePropertyDeps=i;function u(c,l=c.schema){const{gen:d,data:h,keyword:R,it:g}=c,y=d.name("valid");for(const S in l)(0,r.alwaysValidSchema)(g,l[S])||(d.if((0,n.propertyInData)(d,h,S,g.opts.ownProperties),()=>{const $=c.subschema({keyword:R,schemaProp:S},y);c.mergeValidEvaluated($,y)},()=>d.var(y,!0)),c.ok(y))}e.validateSchemaDeps=u,e.default=s})(Gl);var uo={};Object.defineProperty(uo,"__esModule",{value:!0});const Kl=le,Tm=fe,Im={message:"property name must be valid",params:({params:e})=>(0,Kl._)`{propertyName: ${e.propertyName}}`},Am={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Im,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,Tm.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),t.if((0,Kl.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};uo.default=Am;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});const Bn=ie,lt=le,Cm=Dt,Wn=fe,jm={message:"must NOT have additional properties",params:({params:e})=>(0,lt._)`{additionalProperty: ${e.additionalProperty}}`},Dm={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:jm,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:i}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,Wn.alwaysValidSchema)(i,r))return;const l=(0,Bn.allSchemaProperties)(n.properties),d=(0,Bn.allSchemaProperties)(n.patternProperties);h(),e.ok((0,lt._)`${a} === ${Cm.default.errors}`);function h(){t.forIn("key",s,$=>{!l.length&&!d.length?y($):t.if(R($),()=>y($))})}function R($){let m;if(l.length>8){const E=(0,Wn.schemaRefOrVal)(i,n.properties,"properties");m=(0,Bn.isOwnProperty)(t,E,$)}else l.length?m=(0,lt.or)(...l.map(E=>(0,lt._)`${$} === ${E}`)):m=lt.nil;return d.length&&(m=(0,lt.or)(m,...d.map(E=>(0,lt._)`${(0,Bn.usePattern)(e,E)}.test(${$})`))),(0,lt.not)(m)}function g($){t.code((0,lt._)`delete ${s}[${$}]`)}function y($){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){g($);return}if(r===!1){e.setParams({additionalProperty:$}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,Wn.alwaysValidSchema)(i,r)){const m=t.name("valid");c.removeAdditional==="failing"?(S($,m,!1),t.if((0,lt.not)(m),()=>{e.reset(),g($)})):(S($,m),u||t.if((0,lt.not)(m),()=>t.break()))}}function S($,m,E){const w={keyword:"additionalProperties",dataProp:$,dataPropType:Wn.Type.Str};E===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(w,m)}}};Is.default=Dm;var fo={};Object.defineProperty(fo,"__esModule",{value:!0});const km=mt,qi=ie,Bs=fe,Gi=Is,Mm={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Gi.default.code(new km.KeywordCxt(a,Gi.default,"additionalProperties"));const i=(0,qi.allSchemaProperties)(r);for(const h of i)a.definedProperties.add(h);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=Bs.mergeEvaluated.props(t,(0,Bs.toHash)(i),a.props));const u=i.filter(h=>!(0,Bs.alwaysValidSchema)(a,r[h]));if(u.length===0)return;const c=t.name("valid");for(const h of u)l(h)?d(h):(t.if((0,qi.propertyInData)(t,s,h,a.opts.ownProperties)),d(h),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(c);function l(h){return a.opts.useDefaults&&!a.compositeRule&&r[h].default!==void 0}function d(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},c)}}};fo.default=Mm;var ho={};Object.defineProperty(ho,"__esModule",{value:!0});const Ki=ie,Xn=le,Hi=fe,Bi=fe,Lm={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:i}=a,u=(0,Ki.allSchemaProperties)(r),c=u.filter(S=>(0,Hi.alwaysValidSchema)(a,r[S]));if(u.length===0||c.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;const l=i.strictSchema&&!i.allowMatchingProperties&&s.properties,d=t.name("valid");a.props!==!0&&!(a.props instanceof Xn.Name)&&(a.props=(0,Bi.evaluatedPropsToName)(t,a.props));const{props:h}=a;R();function R(){for(const S of u)l&&g(S),a.allErrors?y(S):(t.var(d,!0),y(S),t.if(d))}function g(S){for(const $ in l)new RegExp(S).test($)&&(0,Hi.checkStrictMode)(a,`property ${$} matches pattern ${S} (use allowMatchingProperties)`)}function y(S){t.forIn("key",n,$=>{t.if((0,Xn._)`${(0,Ki.usePattern)(e,S)}.test(${$})`,()=>{const m=c.includes(S);m||e.subschema({keyword:"patternProperties",schemaProp:S,dataProp:$,dataPropType:Bi.Type.Str},d),a.opts.unevaluated&&h!==!0?t.assign((0,Xn._)`${h}[${$}]`,!0):!m&&!a.allErrors&&t.if((0,Xn.not)(d),()=>t.break())})})}}};ho.default=Lm;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});const Fm=fe,Vm={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Fm.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};mo.default=Vm;var po={};Object.defineProperty(po,"__esModule",{value:!0});const Um=ie,zm={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Um.validateUnion,error:{message:"must match a schema in anyOf"}};po.default=zm;var $o={};Object.defineProperty($o,"__esModule",{value:!0});const is=le,qm=fe,Gm={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,is._)`{passingSchemas: ${e.passing}}`},Km={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Gm,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,i=t.let("valid",!1),u=t.let("passing",null),c=t.name("_valid");e.setParams({passing:u}),t.block(l),e.result(i,()=>e.reset(),()=>e.error(!0));function l(){a.forEach((d,h)=>{let R;(0,qm.alwaysValidSchema)(s,d)?t.var(c,!0):R=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},c),h>0&&t.if((0,is._)`${c} && ${i}`).assign(i,!1).assign(u,(0,is._)`[${u}, ${h}]`).else(),t.if(c,()=>{t.assign(i,!0),t.assign(u,h),R&&e.mergeEvaluated(R,is.Name)})})}}};$o.default=Km;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});const Hm=fe,Bm={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,i)=>{if((0,Hm.alwaysValidSchema)(n,a))return;const u=e.subschema({keyword:"allOf",schemaProp:i},s);e.ok(s),e.mergeEvaluated(u)})}};yo.default=Bm;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});const ys=le,Hl=fe,Wm={message:({params:e})=>(0,ys.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ys._)`{failingKeyword: ${e.ifClause}}`},Xm={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Wm,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Hl.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=Wi(n,"then"),a=Wi(n,"else");if(!s&&!a)return;const i=t.let("valid",!0),u=t.name("_valid");if(c(),e.reset(),s&&a){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(u,l("then",d),l("else",d))}else s?t.if(u,l("then")):t.if((0,ys.not)(u),l("else"));e.pass(i,()=>e.error(!0));function c(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(d)}function l(d,h){return()=>{const R=e.subschema({keyword:d},u);t.assign(i,u),e.mergeValidEvaluated(R,i),h?t.assign(h,(0,ys._)`${d}`):e.setParams({ifClause:d})}}}};function Wi(e,t){const r=e.schema[t];return r!==void 0&&!(0,Hl.alwaysValidSchema)(e,r)}vo.default=Xm;var go={};Object.defineProperty(go,"__esModule",{value:!0});const Jm=fe,Ym={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Jm.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};go.default=Ym;Object.defineProperty(oo,"__esModule",{value:!0});const Qm=Qr,Zm=io,xm=Zr,ep=co,tp=lo,rp=Gl,np=uo,sp=Is,ap=fo,op=ho,ip=mo,cp=po,lp=$o,up=yo,dp=vo,fp=go;function hp(e=!1){const t=[ip.default,cp.default,lp.default,up.default,dp.default,fp.default,np.default,sp.default,rp.default,ap.default,op.default];return e?t.push(Zm.default,ep.default):t.push(Qm.default,xm.default),t.push(tp.default),t}oo.default=hp;var _o={},Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});const Re=le,mp={message:({schemaCode:e})=>(0,Re.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Re._)`{format: ${e}}`},pp={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:mp,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:i,it:u}=e,{opts:c,errSchemaPath:l,schemaEnv:d,self:h}=u;if(!c.validateFormats)return;s?R():g();function R(){const y=r.scopeValue("formats",{ref:h.formats,code:c.code.formats}),S=r.const("fDef",(0,Re._)`${y}[${i}]`),$=r.let("fType"),m=r.let("format");r.if((0,Re._)`typeof ${S} == "object" && !(${S} instanceof RegExp)`,()=>r.assign($,(0,Re._)`${S}.type || "string"`).assign(m,(0,Re._)`${S}.validate`),()=>r.assign($,(0,Re._)`"string"`).assign(m,S)),e.fail$data((0,Re.or)(E(),w()));function E(){return c.strictSchema===!1?Re.nil:(0,Re._)`${i} && !${m}`}function w(){const I=d.$async?(0,Re._)`(${S}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,Re._)`${m}(${n})`,D=(0,Re._)`(typeof ${m} == "function" ? ${I} : ${m}.test(${n}))`;return(0,Re._)`${m} && ${m} !== true && ${$} === ${t} && !${D}`}}function g(){const y=h.formats[a];if(!y){E();return}if(y===!0)return;const[S,$,m]=w(y);S===t&&e.pass(I());function E(){if(c.strictSchema===!1){h.logger.warn(D());return}throw new Error(D());function D(){return`unknown format "${a}" ignored in schema at path "${l}"`}}function w(D){const _=D instanceof RegExp?(0,Re.regexpCode)(D):c.code.formats?(0,Re._)`${c.code.formats}${(0,Re.getProperty)(a)}`:void 0,b=r.scopeValue("formats",{key:a,ref:D,code:_});return typeof D=="object"&&!(D instanceof RegExp)?[D.type||"string",D.validate,(0,Re._)`${b}.validate`]:["string",D,b]}function I(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!d.$async)throw new Error("async format in sync schema");return(0,Re._)`await ${m}(${n})`}return typeof $=="function"?(0,Re._)`${m}(${n})`:(0,Re._)`${m}.test(${n})`}}}};Eo.default=pp;Object.defineProperty(_o,"__esModule",{value:!0});const $p=Eo,yp=[$p.default];_o.default=yp;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.contentVocabulary=Xr.metadataVocabulary=void 0;Xr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Xr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Ha,"__esModule",{value:!0});const vp=Ba,gp=Xa,_p=oo,Ep=_o,Xi=Xr,wp=[vp.default,gp.default,(0,_p.default)(),Ep.default,Xi.metadataVocabulary,Xi.contentVocabulary];Ha.default=wp;var wo={},Bl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Bl);Object.defineProperty(wo,"__esModule",{value:!0});const Lr=le,ma=Bl,Ji=xe,Sp=fe,bp={message:({params:{discrError:e,tagName:t}})=>e===ma.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Lr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Pp={keyword:"discriminator",type:"object",schemaType:"object",error:bp,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:i}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),l=t.const("tag",(0,Lr._)`${r}${(0,Lr.getProperty)(u)}`);t.if((0,Lr._)`typeof ${l} == "string"`,()=>d(),()=>e.error(!1,{discrError:ma.DiscrError.Tag,tag:l,tagName:u})),e.ok(c);function d(){const g=R();t.if(!1);for(const y in g)t.elseIf((0,Lr._)`${l} === ${y}`),t.assign(c,h(g[y]));t.else(),e.error(!1,{discrError:ma.DiscrError.Mapping,tag:l,tagName:u}),t.endIf()}function h(g){const y=t.name("valid"),S=e.subschema({keyword:"oneOf",schemaProp:g},y);return e.mergeEvaluated(S,Lr.Name),y}function R(){var g;const y={},S=m(s);let $=!0;for(let I=0;I<i.length;I++){let D=i[I];D!=null&&D.$ref&&!(0,Sp.schemaHasRulesButRef)(D,a.self.RULES)&&(D=Ji.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,D==null?void 0:D.$ref),D instanceof Ji.SchemaEnv&&(D=D.schema));const _=(g=D==null?void 0:D.properties)===null||g===void 0?void 0:g[u];if(typeof _!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);$=$&&(S||m(D)),E(_,I)}if(!$)throw new Error(`discriminator: "${u}" must be required`);return y;function m({required:I}){return Array.isArray(I)&&I.includes(u)}function E(I,D){if(I.const)w(I.const,D);else if(I.enum)for(const _ of I.enum)w(_,D);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function w(I,D){if(typeof I!="string"||I in y)throw new Error(`discriminator: "${u}" values must be unique strings`);y[I]=D}}}};wo.default=Pp;const Np="http://json-schema.org/draft-07/schema#",Op="http://json-schema.org/draft-07/schema#",Rp="Core schema meta-schema",Tp={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ip=["object","boolean"],Ap={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Cp={$schema:Np,$id:Op,title:Rp,definitions:Tp,type:Ip,properties:Ap,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=fl,n=Ha,s=wo,a=Cp,i=["/properties"],u="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema(y,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=mt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var d=le;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=In;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var R=An;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return R.default}})})(ca,ca.exports);var jp=ca.exports,pa={exports:{}},Wl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(F,G){return{validate:F,compare:G}}e.fullFormats={date:t(a,i),time:t(c,l),"date-time":t(h,R),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:S,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:j,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:m,int32:{type:"number",validate:I},int64:{type:"number",validate:D},float:{type:"number",validate:_},double:{type:"number",validate:_},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,l),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,R),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(F){return F%4===0&&(F%100!==0||F%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(F){const G=n.exec(F);if(!G)return!1;const Q=+G[1],H=+G[2],K=+G[3];return H>=1&&H<=12&&K>=1&&K<=(H===2&&r(Q)?29:s[H])}function i(F,G){if(F&&G)return F>G?1:F<G?-1:0}const u=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(F,G){const Q=u.exec(F);if(!Q)return!1;const H=+Q[1],K=+Q[2],q=+Q[3],W=Q[5];return(H<=23&&K<=59&&q<=59||H===23&&K===59&&q===60)&&(!G||W!=="")}function l(F,G){if(!(F&&G))return;const Q=u.exec(F),H=u.exec(G);if(Q&&H)return F=Q[1]+Q[2]+Q[3]+(Q[4]||""),G=H[1]+H[2]+H[3]+(H[4]||""),F>G?1:F<G?-1:0}const d=/t|\s/i;function h(F){const G=F.split(d);return G.length===2&&a(G[0])&&c(G[1],!0)}function R(F,G){if(!(F&&G))return;const[Q,H]=F.split(d),[K,q]=G.split(d),W=i(Q,K);if(W!==void 0)return W||l(H,q)}const g=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function S(F){return g.test(F)&&y.test(F)}const $=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(F){return $.lastIndex=0,$.test(F)}const E=-(2**31),w=2**31-1;function I(F){return Number.isInteger(F)&&F<=w&&F>=E}function D(F){return Number.isInteger(F)}function _(){return!0}const b=/[^\\]\\Z/;function j(F){if(b.test(F))return!1;try{return new RegExp(F),!0}catch{return!1}}})(Wl);var Xl={},$a={exports:{}},Jl={},pt={},Jr={},jn={},oe={},On={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((w,I)=>`${w}${I}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((w,I)=>(I instanceof r&&(w[I.str]=(w[I.str]||0)+1),w),{})}}e._Code=n,e.nil=new n("");function s(m,...E){const w=[m[0]];let I=0;for(;I<E.length;)u(w,E[I]),w.push(m[++I]);return new n(w)}e._=s;const a=new n("+");function i(m,...E){const w=[g(m[0])];let I=0;for(;I<E.length;)w.push(a),u(w,E[I]),w.push(a,g(m[++I]));return c(w),new n(w)}e.str=i;function u(m,E){E instanceof n?m.push(...E._items):E instanceof r?m.push(E):m.push(h(E))}e.addCodeArg=u;function c(m){let E=1;for(;E<m.length-1;){if(m[E]===a){const w=l(m[E-1],m[E+1]);if(w!==void 0){m.splice(E-1,3,w);continue}m[E++]="+"}E++}}function l(m,E){if(E==='""')return m;if(m==='""')return E;if(typeof m=="string")return E instanceof r||m[m.length-1]!=='"'?void 0:typeof E!="string"?`${m.slice(0,-1)}${E}"`:E[0]==='"'?m.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(m instanceof r))return`"${m}${E.slice(1)}`}function d(m,E){return E.emptyStr()?m:m.emptyStr()?E:i`${m}${E}`}e.strConcat=d;function h(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:g(Array.isArray(m)?m.join(","):m)}function R(m){return new n(g(m))}e.stringify=R;function g(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function y(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=y;function S(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=S;function $(m){return new n(m.toString())}e.regexpCode=$})(On);var ya={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=On;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:l,parent:d}={}){this._names={},this._prefixes=l,this._parent=d}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const d=this._names[l]||this._nameGroup(l);return`${l}${d.index++}`}_nameGroup(l){var d,h;if(!((h=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||h===void 0)&&h.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=s;class a extends t.Name{constructor(l,d){super(d),this.prefix=l}setValue(l,{property:d,itemIndex:h}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(d)}[${h}]`}}e.ValueScopeName=a;const i=(0,t._)`\n`;class u extends s{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?i:t.nil}}get(){return this._scope}name(l){return new a(l,this._newName(l))}value(l,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const R=this.toName(l),{prefix:g}=R,y=(h=d.key)!==null&&h!==void 0?h:d.ref;let S=this._values[g];if(S){const E=S.get(y);if(E)return E}else S=this._values[g]=new Map;S.set(y,R);const $=this._scope[g]||(this._scope[g]=[]),m=$.length;return $[m]=d.ref,R.setValue(d,{property:g,itemIndex:m}),R}getValue(l,d){const h=this._values[l];if(h)return h.get(d)}scopeRefs(l,d=this._values){return this._reduceValues(d,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${l}${h.scopePath}`})}scopeCode(l=this._values,d,h){return this._reduceValues(l,R=>{if(R.value===void 0)throw new Error(`CodeGen: name "${R}" has no value`);return R.value.code},d,h)}_reduceValues(l,d,h={},R){let g=t.nil;for(const y in l){const S=l[y];if(!S)continue;const $=h[y]=h[y]||new Map;S.forEach(m=>{if($.has(m))return;$.set(m,n.Started);let E=d(m);if(E){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;g=(0,t._)`${g}${w} ${m} = ${E};${this.opts._n}`}else if(E=R==null?void 0:R(m))g=(0,t._)`${g}${E}${this.opts._n}`;else throw new r(m);$.set(m,n.Completed)})}return g}}e.ValueScope=u})(ya);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=On,r=ya;var n=On;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=ya;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(o,f){return this}}class i extends a{constructor(o,f,O){super(),this.varKind=o,this.name=f,this.rhs=O}render({es5:o,_n:f}){const O=o?r.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${O} ${this.name}${V};`+f}optimizeNames(o,f){if(o[this.name.str])return this.rhs&&(this.rhs=q(this.rhs,o,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(o,f,O){super(),this.lhs=o,this.rhs=f,this.sideEffects=O}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,f){if(!(this.lhs instanceof t.Name&&!o[this.lhs.str]&&!this.sideEffects))return this.rhs=q(this.rhs,o,f),this}get names(){const o=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(o,this.rhs)}}class c extends u{constructor(o,f,O,V){super(o,O,V),this.op=f}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class l extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class d extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class h extends a{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class R extends a{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,f){return this.code=q(this.code,o,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class g extends a{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((f,O)=>f+O.render(o),"")}optimizeNodes(){const{nodes:o}=this;let f=o.length;for(;f--;){const O=o[f].optimizeNodes();Array.isArray(O)?o.splice(f,1,...O):O?o[f]=O:o.splice(f,1)}return o.length>0?this:void 0}optimizeNames(o,f){const{nodes:O}=this;let V=O.length;for(;V--;){const U=O[V];U.optimizeNames(o,f)||(W(o,U.names),O.splice(V,1))}return O.length>0?this:void 0}get names(){return this.nodes.reduce((o,f)=>H(o,f.names),{})}}class y extends g{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class S extends g{}class $ extends y{}$.kind="else";class m extends y{constructor(o,f){super(f),this.condition=o}render(o){let f=`if(${this.condition})`+super.render(o);return this.else&&(f+="else "+this.else.render(o)),f}optimizeNodes(){super.optimizeNodes();const o=this.condition;if(o===!0)return this.nodes;let f=this.else;if(f){const O=f.optimizeNodes();f=this.else=Array.isArray(O)?new $(O):O}if(f)return o===!1?f instanceof m?f:f.nodes:this.nodes.length?this:new m(Y(o),f instanceof m?[f]:f.nodes);if(!(o===!1||!this.nodes.length))return this}optimizeNames(o,f){var O;if(this.else=(O=this.else)===null||O===void 0?void 0:O.optimizeNames(o,f),!!(super.optimizeNames(o,f)||this.else))return this.condition=q(this.condition,o,f),this}get names(){const o=super.names;return K(o,this.condition),this.else&&H(o,this.else.names),o}}m.kind="if";class E extends y{}E.kind="for";class w extends E{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,f){if(super.optimizeNames(o,f))return this.iteration=q(this.iteration,o,f),this}get names(){return H(super.names,this.iteration.names)}}class I extends E{constructor(o,f,O,V){super(),this.varKind=o,this.name=f,this.from=O,this.to=V}render(o){const f=o.es5?r.varKinds.var:this.varKind,{name:O,from:V,to:U}=this;return`for(${f} ${O}=${V}; ${O}<${U}; ${O}++)`+super.render(o)}get names(){const o=K(super.names,this.from);return K(o,this.to)}}class D extends E{constructor(o,f,O,V){super(),this.loop=o,this.varKind=f,this.name=O,this.iterable=V}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,f){if(super.optimizeNames(o,f))return this.iterable=q(this.iterable,o,f),this}get names(){return H(super.names,this.iterable.names)}}class _ extends y{constructor(o,f,O){super(),this.name=o,this.args=f,this.async=O}render(o){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(o)}}_.kind="func";class b extends g{render(o){return"return "+super.render(o)}}b.kind="return";class j extends y{render(o){let f="try"+super.render(o);return this.catch&&(f+=this.catch.render(o)),this.finally&&(f+=this.finally.render(o)),f}optimizeNodes(){var o,f;return super.optimizeNodes(),(o=this.catch)===null||o===void 0||o.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(o,f){var O,V;return super.optimizeNames(o,f),(O=this.catch)===null||O===void 0||O.optimizeNames(o,f),(V=this.finally)===null||V===void 0||V.optimizeNames(o,f),this}get names(){const o=super.names;return this.catch&&H(o,this.catch.names),this.finally&&H(o,this.finally.names),o}}class F extends y{constructor(o){super(),this.error=o}render(o){return`catch(${this.error})`+super.render(o)}}F.kind="catch";class G extends y{render(o){return"finally"+super.render(o)}}G.kind="finally";class Q{constructor(o,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?`
`:""},this._extScope=o,this._scope=new r.Scope({parent:o}),this._nodes=[new S]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,f){const O=this._extScope.value(o,f);return(this._values[O.prefix]||(this._values[O.prefix]=new Set)).add(O),O}getScopeValue(o,f){return this._extScope.getValue(o,f)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,f,O,V){const U=this._scope.toName(f);return O!==void 0&&V&&(this._constants[U.str]=O),this._leafNode(new i(o,U,O)),U}const(o,f,O){return this._def(r.varKinds.const,o,f,O)}let(o,f,O){return this._def(r.varKinds.let,o,f,O)}var(o,f,O){return this._def(r.varKinds.var,o,f,O)}assign(o,f,O){return this._leafNode(new u(o,f,O))}add(o,f){return this._leafNode(new c(o,e.operators.ADD,f))}code(o){return typeof o=="function"?o():o!==t.nil&&this._leafNode(new R(o)),this}object(...o){const f=["{"];for(const[O,V]of o)f.length>1&&f.push(","),f.push(O),(O!==V||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,V));return f.push("}"),new t._Code(f)}if(o,f,O){if(this._blockNode(new m(o)),f&&O)this.code(f).else().code(O).endIf();else if(f)this.code(f).endIf();else if(O)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new m(o))}else(){return this._elseNode(new $)}endIf(){return this._endBlockNode(m,$)}_for(o,f){return this._blockNode(o),f&&this.code(f).endFor(),this}for(o,f){return this._for(new w(o),f)}forRange(o,f,O,V,U=this.opts.es5?r.varKinds.var:r.varKinds.let){const J=this._scope.toName(o);return this._for(new I(U,J,f,O),()=>V(J))}forOf(o,f,O,V=r.varKinds.const){const U=this._scope.toName(o);if(this.opts.es5){const J=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${J}.length`,X=>{this.var(U,(0,t._)`${J}[${X}]`),O(U)})}return this._for(new D("of",V,U,f),()=>O(U))}forIn(o,f,O,V=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(o,(0,t._)`Object.keys(${f})`,O);const U=this._scope.toName(o);return this._for(new D("in",V,U,f),()=>O(U))}endFor(){return this._endBlockNode(E)}label(o){return this._leafNode(new l(o))}break(o){return this._leafNode(new d(o))}return(o){const f=new b;if(this._blockNode(f),this.code(o),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(o,f,O){if(!f&&!O)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new j;if(this._blockNode(V),this.code(o),f){const U=this.name("e");this._currNode=V.catch=new F(U),f(U)}return O&&(this._currNode=V.finally=new G,this.code(O)),this._endBlockNode(F,G)}throw(o){return this._leafNode(new h(o))}block(o,f){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(f),this}endBlock(o){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const O=this._nodes.length-f;if(O<0||o!==void 0&&O!==o)throw new Error(`CodeGen: wrong number of nodes: ${O} vs ${o} expected`);return this._nodes.length=f,this}func(o,f=t.nil,O,V){return this._blockNode(new _(o,f,O)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,f){const O=this._currNode;if(O instanceof o||f&&O instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${o.kind}/${f.kind}`:o.kind}"`)}_elseNode(o){const f=this._currNode;if(!(f instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const f=this._nodes;f[f.length-1]=o}}e.CodeGen=Q;function H(v,o){for(const f in o)v[f]=(v[f]||0)+(o[f]||0);return v}function K(v,o){return o instanceof t._CodeOrName?H(v,o.names):v}function q(v,o,f){if(v instanceof t.Name)return O(v);if(!V(v))return v;return new t._Code(v._items.reduce((U,J)=>(J instanceof t.Name&&(J=O(J)),J instanceof t._Code?U.push(...J._items):U.push(J),U),[]));function O(U){const J=f[U.str];return J===void 0||o[U.str]!==1?U:(delete o[U.str],J)}function V(U){return U instanceof t._Code&&U._items.some(J=>J instanceof t.Name&&o[J.str]===1&&f[J.str]!==void 0)}}function W(v,o){for(const f in o)v[f]=(v[f]||0)-(o[f]||0)}function Y(v){return typeof v=="boolean"||typeof v=="number"||v===null?!v:(0,t._)`!${T(v)}`}e.not=Y;const B=p(e.operators.AND);function k(...v){return v.reduce(B)}e.and=k;const z=p(e.operators.OR);function N(...v){return v.reduce(z)}e.or=N;function p(v){return(o,f)=>o===t.nil?f:f===t.nil?o:(0,t._)`${T(o)} ${v} ${T(f)}`}function T(v){return v instanceof t.Name?v:(0,t._)`(${v})`}})(oe);var he={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=oe,r=On;function n(_){const b={};for(const j of _)b[j]=!0;return b}e.toHash=n;function s(_,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(a(_,b),!i(b,_.self.RULES.all))}e.alwaysValidSchema=s;function a(_,b=_.schema){const{opts:j,self:F}=_;if(!j.strictSchema||typeof b=="boolean")return;const G=F.RULES.keywords;for(const Q in b)G[Q]||D(_,`unknown keyword: "${Q}"`)}e.checkUnknownRules=a;function i(_,b){if(typeof _=="boolean")return!_;for(const j in _)if(b[j])return!0;return!1}e.schemaHasRules=i;function u(_,b){if(typeof _=="boolean")return!_;for(const j in _)if(j!=="$ref"&&b.all[j])return!0;return!1}e.schemaHasRulesButRef=u;function c({topSchemaRef:_,schemaPath:b},j,F,G){if(!G){if(typeof j=="number"||typeof j=="boolean")return j;if(typeof j=="string")return(0,t._)`${j}`}return(0,t._)`${_}${b}${(0,t.getProperty)(F)}`}e.schemaRefOrVal=c;function l(_){return R(decodeURIComponent(_))}e.unescapeFragment=l;function d(_){return encodeURIComponent(h(_))}e.escapeFragment=d;function h(_){return typeof _=="number"?`${_}`:_.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=h;function R(_){return _.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=R;function g(_,b){if(Array.isArray(_))for(const j of _)b(j);else b(_)}e.eachItem=g;function y({mergeNames:_,mergeToName:b,mergeValues:j,resultToName:F}){return(G,Q,H,K)=>{const q=H===void 0?Q:H instanceof t.Name?(Q instanceof t.Name?_(G,Q,H):b(G,Q,H),H):Q instanceof t.Name?(b(G,H,Q),Q):j(Q,H);return K===t.Name&&!(q instanceof t.Name)?F(G,q):q}}e.mergeEvaluated={props:y({mergeNames:(_,b,j)=>_.if((0,t._)`${j} !== true && ${b} !== undefined`,()=>{_.if((0,t._)`${b} === true`,()=>_.assign(j,!0),()=>_.assign(j,(0,t._)`${j} || {}`).code((0,t._)`Object.assign(${j}, ${b})`))}),mergeToName:(_,b,j)=>_.if((0,t._)`${j} !== true`,()=>{b===!0?_.assign(j,!0):(_.assign(j,(0,t._)`${j} || {}`),$(_,j,b))}),mergeValues:(_,b)=>_===!0?!0:{..._,...b},resultToName:S}),items:y({mergeNames:(_,b,j)=>_.if((0,t._)`${j} !== true && ${b} !== undefined`,()=>_.assign(j,(0,t._)`${b} === true ? true : ${j} > ${b} ? ${j} : ${b}`)),mergeToName:(_,b,j)=>_.if((0,t._)`${j} !== true`,()=>_.assign(j,b===!0?!0:(0,t._)`${j} > ${b} ? ${j} : ${b}`)),mergeValues:(_,b)=>_===!0?!0:Math.max(_,b),resultToName:(_,b)=>_.var("items",b)})};function S(_,b){if(b===!0)return _.var("props",!0);const j=_.var("props",(0,t._)`{}`);return b!==void 0&&$(_,j,b),j}e.evaluatedPropsToName=S;function $(_,b,j){Object.keys(j).forEach(F=>_.assign((0,t._)`${b}${(0,t.getProperty)(F)}`,!0))}e.setEvaluated=$;const m={};function E(_,b){return _.scopeValue("func",{ref:b,code:m[b.code]||(m[b.code]=new r._Code(b.code))})}e.useFunc=E;var w;(function(_){_[_.Num=0]="Num",_[_.Str=1]="Str"})(w=e.Type||(e.Type={}));function I(_,b,j){if(_ instanceof t.Name){const F=b===w.Num;return j?F?(0,t._)`"[" + ${_} + "]"`:(0,t._)`"['" + ${_} + "']"`:F?(0,t._)`"/" + ${_}`:(0,t._)`"/" + ${_}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return j?(0,t.getProperty)(_).toString():"/"+h(_)}e.getErrorPath=I;function D(_,b,j=_.opts.strictSchema){if(j){if(b=`strict mode: ${b}`,j===!0)throw new Error(b);_.self.logger.warn(b)}}e.checkStrictMode=D})(he);var kt={};Object.defineProperty(kt,"__esModule",{value:!0});const qe=oe,Dp={data:new qe.Name("data"),valCxt:new qe.Name("valCxt"),instancePath:new qe.Name("instancePath"),parentData:new qe.Name("parentData"),parentDataProperty:new qe.Name("parentDataProperty"),rootData:new qe.Name("rootData"),dynamicAnchors:new qe.Name("dynamicAnchors"),vErrors:new qe.Name("vErrors"),errors:new qe.Name("errors"),this:new qe.Name("this"),self:new qe.Name("self"),scope:new qe.Name("scope"),json:new qe.Name("json"),jsonPos:new qe.Name("jsonPos"),jsonLen:new qe.Name("jsonLen"),jsonPart:new qe.Name("jsonPart")};kt.default=Dp;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=oe,r=he,n=kt;e.keywordError={message:({keyword:$})=>(0,t.str)`must pass "${$}" keyword validation`},e.keyword$DataError={message:({keyword:$,schemaType:m})=>m?(0,t.str)`"${$}" keyword must be ${m} ($data)`:(0,t.str)`"${$}" keyword is invalid ($data)`};function s($,m=e.keywordError,E,w){const{it:I}=$,{gen:D,compositeRule:_,allErrors:b}=I,j=h($,m,E);w??(_||b)?c(D,j):l(I,(0,t._)`[${j}]`)}e.reportError=s;function a($,m=e.keywordError,E){const{it:w}=$,{gen:I,compositeRule:D,allErrors:_}=w,b=h($,m,E);c(I,b),D||_||l(w,n.default.vErrors)}e.reportExtraError=a;function i($,m){$.assign(n.default.errors,m),$.if((0,t._)`${n.default.vErrors} !== null`,()=>$.if(m,()=>$.assign((0,t._)`${n.default.vErrors}.length`,m),()=>$.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function u({gen:$,keyword:m,schemaValue:E,data:w,errsCount:I,it:D}){if(I===void 0)throw new Error("ajv implementation error");const _=$.name("err");$.forRange("i",I,n.default.errors,b=>{$.const(_,(0,t._)`${n.default.vErrors}[${b}]`),$.if((0,t._)`${_}.instancePath === undefined`,()=>$.assign((0,t._)`${_}.instancePath`,(0,t.strConcat)(n.default.instancePath,D.errorPath))),$.assign((0,t._)`${_}.schemaPath`,(0,t.str)`${D.errSchemaPath}/${m}`),D.opts.verbose&&($.assign((0,t._)`${_}.schema`,E),$.assign((0,t._)`${_}.data`,w))})}e.extendErrors=u;function c($,m){const E=$.const("err",m);$.if((0,t._)`${n.default.vErrors} === null`,()=>$.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),$.code((0,t._)`${n.default.errors}++`)}function l($,m){const{gen:E,validateName:w,schemaEnv:I}=$;I.$async?E.throw((0,t._)`new ${$.ValidationError}(${m})`):(E.assign((0,t._)`${w}.errors`,m),E.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h($,m,E){const{createErrors:w}=$.it;return w===!1?(0,t._)`{}`:R($,m,E)}function R($,m,E={}){const{gen:w,it:I}=$,D=[g(I,E),y($,E)];return S($,m,D),w.object(...D)}function g({errorPath:$},{instancePath:m}){const E=m?(0,t.str)`${$}${(0,r.getErrorPath)(m,r.Type.Str)}`:$;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function y({keyword:$,it:{errSchemaPath:m}},{schemaPath:E,parentSchema:w}){let I=w?m:(0,t.str)`${m}/${$}`;return E&&(I=(0,t.str)`${I}${(0,r.getErrorPath)(E,r.Type.Str)}`),[d.schemaPath,I]}function S($,{params:m,message:E},w){const{keyword:I,data:D,schemaValue:_,it:b}=$,{opts:j,propertyName:F,topSchemaRef:G,schemaPath:Q}=b;w.push([d.keyword,I],[d.params,typeof m=="function"?m($):m||(0,t._)`{}`]),j.messages&&w.push([d.message,typeof E=="function"?E($):E]),j.verbose&&w.push([d.schema,_],[d.parentSchema,(0,t._)`${G}${Q}`],[n.default.data,D]),F&&w.push([d.propertyName,F])}})(jn);Object.defineProperty(Jr,"__esModule",{value:!0});Jr.boolOrEmptySchema=Jr.topBoolOrEmptySchema=void 0;const kp=jn,Mp=oe,Lp=kt,Fp={message:"boolean schema is false"};function Vp(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Yl(e,!1):typeof r=="object"&&r.$async===!0?t.return(Lp.default.data):(t.assign((0,Mp._)`${n}.errors`,null),t.return(!0))}Jr.topBoolOrEmptySchema=Vp;function Up(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Yl(e)):r.var(t,!0)}Jr.boolOrEmptySchema=Up;function Yl(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,kp.reportError)(s,Fp,void 0,t)}var Dn={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.getRules=Pr.isJSONType=void 0;const zp=["string","number","integer","boolean","null","object","array"],qp=new Set(zp);function Gp(e){return typeof e=="string"&&qp.has(e)}Pr.isJSONType=Gp;function Kp(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Pr.getRules=Kp;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.shouldUseRule=Xt.shouldUseGroup=Xt.schemaHasRulesForType=void 0;function Hp({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Ql(e,n)}Xt.schemaHasRulesForType=Hp;function Ql(e,t){return t.rules.some(r=>Zl(e,r))}Xt.shouldUseGroup=Ql;function Zl(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Xt.shouldUseRule=Zl;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Pr,r=Xt,n=jn,s=oe,a=he;var i;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(i=e.DataType||(e.DataType={}));function u(w){const I=c(w.type);if(I.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!I.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&I.push("null")}return I}e.getSchemaTypes=u;function c(w){const I=Array.isArray(w)?w:w?[w]:[];if(I.every(t.isJSONType))return I;throw new Error("type must be JSONType or JSONType[]: "+I.join(","))}e.getJSONTypes=c;function l(w,I){const{gen:D,data:_,opts:b}=w,j=h(I,b.coerceTypes),F=I.length>0&&!(j.length===0&&I.length===1&&(0,r.schemaHasRulesForType)(w,I[0]));if(F){const G=S(I,_,b.strictNumbers,i.Wrong);D.if(G,()=>{j.length?R(w,I,j):m(w)})}return F}e.coerceAndCheckDataType=l;const d=new Set(["string","number","integer","boolean","null"]);function h(w,I){return I?w.filter(D=>d.has(D)||I==="array"&&D==="array"):[]}function R(w,I,D){const{gen:_,data:b,opts:j}=w,F=_.let("dataType",(0,s._)`typeof ${b}`),G=_.let("coerced",(0,s._)`undefined`);j.coerceTypes==="array"&&_.if((0,s._)`${F} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>_.assign(b,(0,s._)`${b}[0]`).assign(F,(0,s._)`typeof ${b}`).if(S(I,b,j.strictNumbers),()=>_.assign(G,b))),_.if((0,s._)`${G} !== undefined`);for(const H of D)(d.has(H)||H==="array"&&j.coerceTypes==="array")&&Q(H);_.else(),m(w),_.endIf(),_.if((0,s._)`${G} !== undefined`,()=>{_.assign(b,G),g(w,G)});function Q(H){switch(H){case"string":_.elseIf((0,s._)`${F} == "number" || ${F} == "boolean"`).assign(G,(0,s._)`"" + ${b}`).elseIf((0,s._)`${b} === null`).assign(G,(0,s._)`""`);return;case"number":_.elseIf((0,s._)`${F} == "boolean" || ${b} === null
              || (${F} == "string" && ${b} && ${b} == +${b})`).assign(G,(0,s._)`+${b}`);return;case"integer":_.elseIf((0,s._)`${F} === "boolean" || ${b} === null
              || (${F} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(G,(0,s._)`+${b}`);return;case"boolean":_.elseIf((0,s._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(G,!1).elseIf((0,s._)`${b} === "true" || ${b} === 1`).assign(G,!0);return;case"null":_.elseIf((0,s._)`${b} === "" || ${b} === 0 || ${b} === false`),_.assign(G,null);return;case"array":_.elseIf((0,s._)`${F} === "string" || ${F} === "number"
              || ${F} === "boolean" || ${b} === null`).assign(G,(0,s._)`[${b}]`)}}}function g({gen:w,parentData:I,parentDataProperty:D},_){w.if((0,s._)`${I} !== undefined`,()=>w.assign((0,s._)`${I}[${D}]`,_))}function y(w,I,D,_=i.Correct){const b=_===i.Correct?s.operators.EQ:s.operators.NEQ;let j;switch(w){case"null":return(0,s._)`${I} ${b} null`;case"array":j=(0,s._)`Array.isArray(${I})`;break;case"object":j=(0,s._)`${I} && typeof ${I} == "object" && !Array.isArray(${I})`;break;case"integer":j=F((0,s._)`!(${I} % 1) && !isNaN(${I})`);break;case"number":j=F();break;default:return(0,s._)`typeof ${I} ${b} ${w}`}return _===i.Correct?j:(0,s.not)(j);function F(G=s.nil){return(0,s.and)((0,s._)`typeof ${I} == "number"`,G,D?(0,s._)`isFinite(${I})`:s.nil)}}e.checkDataType=y;function S(w,I,D,_){if(w.length===1)return y(w[0],I,D,_);let b;const j=(0,a.toHash)(w);if(j.array&&j.object){const F=(0,s._)`typeof ${I} != "object"`;b=j.null?F:(0,s._)`!${I} || ${F}`,delete j.null,delete j.array,delete j.object}else b=s.nil;j.number&&delete j.integer;for(const F in j)b=(0,s.and)(b,y(F,I,D,_));return b}e.checkDataTypes=S;const $={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:I})=>typeof w=="string"?(0,s._)`{type: ${w}}`:(0,s._)`{type: ${I}}`};function m(w){const I=E(w);(0,n.reportError)(I,$)}e.reportTypeError=m;function E(w){const{gen:I,data:D,schema:_}=w,b=(0,a.schemaRefOrVal)(w,_,"type");return{gen:I,keyword:"type",data:D,schema:_.type,schemaCode:b,schemaValue:b,parentSchema:_,params:{},it:w}}})(Dn);var As={};Object.defineProperty(As,"__esModule",{value:!0});As.assignDefaults=void 0;const jr=oe,Bp=he;function Wp(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)Yi(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>Yi(e,a,s.default))}As.assignDefaults=Wp;function Yi(e,t,r){const{gen:n,compositeRule:s,data:a,opts:i}=e;if(r===void 0)return;const u=(0,jr._)`${a}${(0,jr.getProperty)(t)}`;if(s){(0,Bp.checkStrictMode)(e,`default is ignored for: ${u}`);return}let c=(0,jr._)`${u} === undefined`;i.useDefaults==="empty"&&(c=(0,jr._)`${c} || ${u} === null || ${u} === ""`),n.if(c,(0,jr._)`${u} = ${(0,jr.stringify)(r)}`)}var Ct={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.validateUnion=ce.validateArray=ce.usePattern=ce.callValidateCode=ce.schemaProperties=ce.allSchemaProperties=ce.noPropertyInData=ce.propertyInData=ce.isOwnProperty=ce.hasPropFunc=ce.reportMissingProp=ce.checkMissingProp=ce.checkReportMissingProp=void 0;const we=oe,So=he,xt=kt,Xp=he;function Jp(e,t){const{gen:r,data:n,it:s}=e;r.if(Po(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,we._)`${t}`},!0),e.error()})}ce.checkReportMissingProp=Jp;function Yp({gen:e,data:t,it:{opts:r}},n,s){return(0,we.or)(...n.map(a=>(0,we.and)(Po(e,t,a,r.ownProperties),(0,we._)`${s} = ${a}`)))}ce.checkMissingProp=Yp;function Qp(e,t){e.setParams({missingProperty:t},!0),e.error()}ce.reportMissingProp=Qp;function xl(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,we._)`Object.prototype.hasOwnProperty`})}ce.hasPropFunc=xl;function bo(e,t,r){return(0,we._)`${xl(e)}.call(${t}, ${r})`}ce.isOwnProperty=bo;function Zp(e,t,r,n){const s=(0,we._)`${t}${(0,we.getProperty)(r)} !== undefined`;return n?(0,we._)`${s} && ${bo(e,t,r)}`:s}ce.propertyInData=Zp;function Po(e,t,r,n){const s=(0,we._)`${t}${(0,we.getProperty)(r)} === undefined`;return n?(0,we.or)(s,(0,we.not)(bo(e,t,r))):s}ce.noPropertyInData=Po;function eu(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ce.allSchemaProperties=eu;function xp(e,t){return eu(t).filter(r=>!(0,So.alwaysValidSchema)(e,t[r]))}ce.schemaProperties=xp;function e$({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:i},u,c,l){const d=l?(0,we._)`${e}, ${t}, ${n}${s}`:t,h=[[xt.default.instancePath,(0,we.strConcat)(xt.default.instancePath,a)],[xt.default.parentData,i.parentData],[xt.default.parentDataProperty,i.parentDataProperty],[xt.default.rootData,xt.default.rootData]];i.opts.dynamicRef&&h.push([xt.default.dynamicAnchors,xt.default.dynamicAnchors]);const R=(0,we._)`${d}, ${r.object(...h)}`;return c!==we.nil?(0,we._)`${u}.call(${c}, ${R})`:(0,we._)`${u}(${R})`}ce.callValidateCode=e$;const t$=(0,we._)`new RegExp`;function r$({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,we._)`${s.code==="new RegExp"?t$:(0,Xp.useFunc)(e,s)}(${r}, ${n})`})}ce.usePattern=r$;function n$(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const u=t.let("valid",!0);return i(()=>t.assign(u,!1)),u}return t.var(a,!0),i(()=>t.break()),a;function i(u){const c=t.const("len",(0,we._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:So.Type.Num},a),t.if((0,we.not)(a),u)})}}ce.validateArray=n$;function s$(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,So.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const i=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((c,l)=>{const d=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},u);t.assign(i,(0,we._)`${i} || ${u}`),e.mergeValidEvaluated(d,u)||t.if((0,we.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}ce.validateUnion=s$;Object.defineProperty(Ct,"__esModule",{value:!0});Ct.validateKeywordUsage=Ct.validSchemaType=Ct.funcKeywordCode=Ct.macroKeywordCode=void 0;const We=oe,vr=kt,a$=ce,o$=jn;function i$(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:i}=e,u=t.macro.call(i.self,s,a,i),c=tu(r,n,u);i.opts.validateSchema!==!1&&i.self.validateSchema(u,!0);const l=r.name("valid");e.subschema({schema:u,schemaPath:We.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Ct.macroKeywordCode=i$;function c$(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:i,$data:u,it:c}=e;u$(c,t);const l=!u&&t.compile?t.compile.call(c.self,a,i,c):t.validate,d=tu(n,s,l),h=n.let("valid");e.block$data(h,R),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function R(){if(t.errors===!1)S(),t.modifying&&Qi(e),$(()=>e.error());else{const m=t.async?g():y();t.modifying&&Qi(e),$(()=>l$(e,m))}}function g(){const m=n.let("ruleErrs",null);return n.try(()=>S((0,We._)`await `),E=>n.assign(h,!1).if((0,We._)`${E} instanceof ${c.ValidationError}`,()=>n.assign(m,(0,We._)`${E}.errors`),()=>n.throw(E))),m}function y(){const m=(0,We._)`${d}.errors`;return n.assign(m,null),S(We.nil),m}function S(m=t.async?(0,We._)`await `:We.nil){const E=c.opts.passContext?vr.default.this:vr.default.self,w=!("compile"in t&&!u||t.schema===!1);n.assign(h,(0,We._)`${m}${(0,a$.callValidateCode)(e,d,E,w)}`,t.modifying)}function $(m){var E;n.if((0,We.not)((E=t.valid)!==null&&E!==void 0?E:h),m)}}Ct.funcKeywordCode=c$;function Qi(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,We._)`${n.parentData}[${n.parentDataProperty}]`))}function l$(e,t){const{gen:r}=e;r.if((0,We._)`Array.isArray(${t})`,()=>{r.assign(vr.default.vErrors,(0,We._)`${vr.default.vErrors} === null ? ${t} : ${vr.default.vErrors}.concat(${t})`).assign(vr.default.errors,(0,We._)`${vr.default.vErrors}.length`),(0,o$.extendErrors)(e)},()=>e.error())}function u$({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function tu(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,We.stringify)(r)})}function d$(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Ct.validSchemaType=d$;function f$({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const i=s.dependencies;if(i!=null&&i.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Ct.validateKeywordUsage=f$;var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.extendSubschemaMode=ir.extendSubschemaData=ir.getSubschema=void 0;const Tt=oe,ru=he;function h$(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,Tt._)`${e.schemaPath}${(0,Tt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,Tt._)`${e.schemaPath}${(0,Tt.getProperty)(t)}${(0,Tt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,ru.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}ir.getSubschema=h$;function m$(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:l,dataPathArr:d,opts:h}=t,R=u.let("data",(0,Tt._)`${t.data}${(0,Tt.getProperty)(r)}`,!0);c(R),e.errorPath=(0,Tt.str)`${l}${(0,ru.getErrorPath)(r,n,h.jsPropertySyntax)}`,e.parentDataProperty=(0,Tt._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(s!==void 0){const l=s instanceof Tt.Name?s:u.let("data",s,!0);c(l),i!==void 0&&(e.propertyName=i)}a&&(e.dataTypes=a);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}ir.extendSubschemaData=m$;function p$(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}ir.extendSubschemaMode=p$;var Ue={},nu={exports:{}},ar=nu.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};cs(t,n,s,e,"",e)};ar.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ar.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ar.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ar.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function cs(e,t,r,n,s,a,i,u,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,i,u,c,l);for(var d in n){var h=n[d];if(Array.isArray(h)){if(d in ar.arrayKeywords)for(var R=0;R<h.length;R++)cs(e,t,r,h[R],s+"/"+d+"/"+R,a,s,d,n,R)}else if(d in ar.propsKeywords){if(h&&typeof h=="object")for(var g in h)cs(e,t,r,h[g],s+"/"+d+"/"+$$(g),a,s,d,n,g)}else(d in ar.keywords||e.allKeys&&!(d in ar.skipKeywords))&&cs(e,t,r,h,s+"/"+d,a,s,d,n)}r(n,s,a,i,u,c,l)}}function $$(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var y$=nu.exports;Object.defineProperty(Ue,"__esModule",{value:!0});Ue.getSchemaRefs=Ue.resolveUrl=Ue.normalizeId=Ue._getFullPath=Ue.getFullPath=Ue.inlineRef=void 0;const v$=he,g$=Os,_$=y$,E$=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function w$(e,t=!0){return typeof e=="boolean"?!0:t===!0?!va(e):t?su(e)<=t:!1}Ue.inlineRef=w$;const S$=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function va(e){for(const t in e){if(S$.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(va)||typeof r=="object"&&va(r))return!0}return!1}function su(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!E$.has(r)&&(typeof e[r]=="object"&&(0,v$.eachItem)(e[r],n=>t+=su(n)),t===1/0))return 1/0}return t}function au(e,t="",r){r!==!1&&(t=qr(t));const n=e.parse(t);return ou(e,n)}Ue.getFullPath=au;function ou(e,t){return e.serialize(t).split("#")[0]+"#"}Ue._getFullPath=ou;const b$=/#\/?$/;function qr(e){return e?e.replace(b$,""):""}Ue.normalizeId=qr;function P$(e,t,r){return r=qr(r),e.resolve(t,r)}Ue.resolveUrl=P$;const N$=/^[a-z_][-a-z0-9._]*$/i;function O$(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=qr(e[r]||t),a={"":s},i=au(n,s,!1),u={},c=new Set;return _$(e,{allKeys:!0},(h,R,g,y)=>{if(y===void 0)return;const S=i+R;let $=a[y];typeof h[r]=="string"&&($=m.call(this,h[r])),E.call(this,h.$anchor),E.call(this,h.$dynamicAnchor),a[R]=$;function m(w){const I=this.opts.uriResolver.resolve;if(w=qr($?I($,w):w),c.has(w))throw d(w);c.add(w);let D=this.refs[w];return typeof D=="string"&&(D=this.refs[D]),typeof D=="object"?l(h,D.schema,w):w!==qr(S)&&(w[0]==="#"?(l(h,u[w],w),u[w]=h):this.refs[w]=S),w}function E(w){if(typeof w=="string"){if(!N$.test(w))throw new Error(`invalid anchor "${w}"`);m.call(this,`#${w}`)}}}),u;function l(h,R,g){if(R!==void 0&&!g$(h,R))throw d(g)}function d(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Ue.getSchemaRefs=O$;Object.defineProperty(pt,"__esModule",{value:!0});pt.getData=pt.KeywordCxt=pt.validateFunctionCode=void 0;const iu=Jr,Zi=Dn,No=Xt,vs=Dn,R$=As,_n=Ct,Ws=ir,x=oe,ne=kt,T$=Ue,Jt=he,cn=jn;function I$(e){if(uu(e)&&(du(e),lu(e))){j$(e);return}cu(e,()=>(0,iu.topBoolOrEmptySchema)(e))}pt.validateFunctionCode=I$;function cu({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,x._)`${ne.default.data}, ${ne.default.valCxt}`,n.$async,()=>{e.code((0,x._)`"use strict"; ${xi(r,s)}`),C$(e,s),e.code(a)}):e.func(t,(0,x._)`${ne.default.data}, ${A$(s)}`,n.$async,()=>e.code(xi(r,s)).code(a))}function A$(e){return(0,x._)`{${ne.default.instancePath}="", ${ne.default.parentData}, ${ne.default.parentDataProperty}, ${ne.default.rootData}=${ne.default.data}${e.dynamicRef?(0,x._)`, ${ne.default.dynamicAnchors}={}`:x.nil}}={}`}function C$(e,t){e.if(ne.default.valCxt,()=>{e.var(ne.default.instancePath,(0,x._)`${ne.default.valCxt}.${ne.default.instancePath}`),e.var(ne.default.parentData,(0,x._)`${ne.default.valCxt}.${ne.default.parentData}`),e.var(ne.default.parentDataProperty,(0,x._)`${ne.default.valCxt}.${ne.default.parentDataProperty}`),e.var(ne.default.rootData,(0,x._)`${ne.default.valCxt}.${ne.default.rootData}`),t.dynamicRef&&e.var(ne.default.dynamicAnchors,(0,x._)`${ne.default.valCxt}.${ne.default.dynamicAnchors}`)},()=>{e.var(ne.default.instancePath,(0,x._)`""`),e.var(ne.default.parentData,(0,x._)`undefined`),e.var(ne.default.parentDataProperty,(0,x._)`undefined`),e.var(ne.default.rootData,ne.default.data),t.dynamicRef&&e.var(ne.default.dynamicAnchors,(0,x._)`{}`)})}function j$(e){const{schema:t,opts:r,gen:n}=e;cu(e,()=>{r.$comment&&t.$comment&&hu(e),F$(e),n.let(ne.default.vErrors,null),n.let(ne.default.errors,0),r.unevaluated&&D$(e),fu(e),z$(e)})}function D$(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,x._)`${r}.evaluated`),t.if((0,x._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,x._)`${e.evaluated}.props`,(0,x._)`undefined`)),t.if((0,x._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,x._)`${e.evaluated}.items`,(0,x._)`undefined`))}function xi(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,x._)`/*# sourceURL=${r} */`:x.nil}function k$(e,t){if(uu(e)&&(du(e),lu(e))){M$(e,t);return}(0,iu.boolOrEmptySchema)(e,t)}function lu({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function uu(e){return typeof e.schema!="boolean"}function M$(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&hu(e),V$(e),U$(e);const a=n.const("_errs",ne.default.errors);fu(e,a),n.var(t,(0,x._)`${a} === ${ne.default.errors}`)}function du(e){(0,Jt.checkUnknownRules)(e),L$(e)}function fu(e,t){if(e.opts.jtd)return ec(e,[],!1,t);const r=(0,Zi.getSchemaTypes)(e.schema),n=(0,Zi.coerceAndCheckDataType)(e,r);ec(e,r,!n,t)}function L$(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Jt.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function F$(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Jt.checkStrictMode)(e,"default is ignored in the schema root")}function V$(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,T$.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function U$(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function hu({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,x._)`${ne.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const i=(0,x.str)`${n}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,x._)`${ne.default.self}.opts.$comment(${a}, ${i}, ${u}.schema)`)}}function z$(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,x._)`${ne.default.errors} === 0`,()=>t.return(ne.default.data),()=>t.throw((0,x._)`new ${s}(${ne.default.vErrors})`)):(t.assign((0,x._)`${n}.errors`,ne.default.vErrors),a.unevaluated&&q$(e),t.return((0,x._)`${ne.default.errors} === 0`))}function q$({gen:e,evaluated:t,props:r,items:n}){r instanceof x.Name&&e.assign((0,x._)`${t}.props`,r),n instanceof x.Name&&e.assign((0,x._)`${t}.items`,n)}function ec(e,t,r,n){const{gen:s,schema:a,data:i,allErrors:u,opts:c,self:l}=e,{RULES:d}=l;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,Jt.schemaHasRulesButRef)(a,d))){s.block(()=>$u(e,"$ref",d.all.$ref.definition));return}c.jtd||G$(e,t),s.block(()=>{for(const R of d.rules)h(R);h(d.post)});function h(R){(0,No.shouldUseGroup)(a,R)&&(R.type?(s.if((0,vs.checkDataType)(R.type,i,c.strictNumbers)),tc(e,R),t.length===1&&t[0]===R.type&&r&&(s.else(),(0,vs.reportTypeError)(e)),s.endIf()):tc(e,R),u||s.if((0,x._)`${ne.default.errors} === ${n||0}`))}}function tc(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,R$.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,No.shouldUseRule)(n,a)&&$u(e,a.keyword,a.definition,t.type)})}function G$(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(K$(e,t),e.opts.allowUnionTypes||H$(e,t),B$(e,e.dataTypes))}function K$(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{mu(e.dataTypes,r)||Oo(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),X$(e,t)}}function H$(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Oo(e,"use allowUnionTypes to allow union type keyword")}function B$(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,No.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(i=>W$(t,i))&&Oo(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function W$(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function mu(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function X$(e,t){const r=[];for(const n of e.dataTypes)mu(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Oo(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Jt.checkStrictMode)(e,t,e.opts.strictTypes)}class pu{constructor(t,r,n){if((0,_n.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Jt.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",yu(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,_n.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ne.default.errors))}result(t,r,n){this.failResult((0,x.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,x.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,x._)`${r} !== undefined && (${(0,x.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?cn.reportExtraError:cn.reportError)(this,this.def.error,r)}$dataError(){(0,cn.reportError)(this,this.def.$dataError||cn.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,cn.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=x.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=x.nil,r=x.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:i}=this;n.if((0,x.or)((0,x._)`${s} === undefined`,r)),t!==x.nil&&n.assign(t,!0),(a.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==x.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,x.or)(i(),u());function i(){if(n.length){if(!(r instanceof x.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,x._)`${(0,vs.checkDataTypes)(c,r,a.opts.strictNumbers,vs.DataType.Wrong)}`}return x.nil}function u(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,x._)`!${c}(${r})`}return x.nil}}subschema(t,r){const n=(0,Ws.getSubschema)(this.it,t);(0,Ws.extendSubschemaData)(n,this.it,t),(0,Ws.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return k$(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Jt.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Jt.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,x.Name)),!0}}pt.KeywordCxt=pu;function $u(e,t,r,n){const s=new pu(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,_n.funcKeywordCode)(s,r):"macro"in r?(0,_n.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,_n.funcKeywordCode)(s,r)}const J$=/^\/(?:[^~]|~0|~1)*$/,Y$=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function yu(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return ne.default.rootData;if(e[0]==="/"){if(!J$.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=ne.default.rootData}else{const l=Y$.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+l[1];if(s=l[2],s==="#"){if(d>=t)throw new Error(c("property/index",d));return n[t-d]}if(d>t)throw new Error(c("data",d));if(a=r[t-d],!s)return a}let i=a;const u=s.split("/");for(const l of u)l&&(a=(0,x._)`${a}${(0,x.getProperty)((0,Jt.unescapeJsonPointer)(l))}`,i=(0,x._)`${i} && ${a}`);return i;function c(l,d){return`Cannot access ${l} ${d} levels up, current level is ${t}`}}pt.getData=yu;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});class Q$ extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}kn.default=Q$;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});const Xs=Ue;class Z$ extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Xs.resolveUrl)(t,r,n),this.missingSchema=(0,Xs.normalizeId)((0,Xs.getFullPath)(t,this.missingRef))}}Mn.default=Z$;var et={};Object.defineProperty(et,"__esModule",{value:!0});et.resolveSchema=et.getCompilingSchema=et.resolveRef=et.compileSchema=et.SchemaEnv=void 0;const ct=oe,x$=kn,hr=kt,ht=Ue,rc=he,ey=pt;class Cs{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,ht.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}et.SchemaEnv=Cs;function Ro(e){const t=vu.call(this,e);if(t)return t;const r=(0,ht.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,i=new ct.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let u;e.$async&&(u=i.scopeValue("Error",{ref:x$.default,code:(0,ct._)`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");e.validateName=c;const l={gen:i,allErrors:this.opts.allErrors,data:hr.default.data,parentData:hr.default.parentData,parentDataProperty:hr.default.parentDataProperty,dataNames:[hr.default.data],dataPathArr:[ct.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ct.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:ct.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ct._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,ey.validateFunctionCode)(l),i.optimize(this.opts.code.optimize);const h=i.toString();d=`${i.scopeRefs(hr.default.scope)}return ${h}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const g=new Function(`${hr.default.self}`,`${hr.default.scope}`,d)(this,this.scope.get());if(this.scope.value(c,{ref:g}),g.errors=null,g.schema=e.schema,g.schemaEnv=e,e.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:c,validateCode:h,scopeValues:i._values}),this.opts.unevaluated){const{props:y,items:S}=l;g.evaluated={props:y instanceof ct.Name?void 0:y,items:S instanceof ct.Name?void 0:S,dynamicProps:y instanceof ct.Name,dynamicItems:S instanceof ct.Name},g.source&&(g.source.evaluated=(0,ct.stringify)(g.evaluated))}return e.validate=g,e}catch(h){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),h}finally{this._compilations.delete(e)}}et.compileSchema=Ro;function ty(e,t,r){var n;r=(0,ht.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=sy.call(this,e,r);if(a===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;i&&(a=new Cs({schema:i,schemaId:u,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=ry.call(this,a)}et.resolveRef=ty;function ry(e){return(0,ht.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Ro.call(this,e)}function vu(e){for(const t of this._compilations)if(ny(t,e))return t}et.getCompilingSchema=vu;function ny(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function sy(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||js.call(this,e,t)}function js(e,t){const r=this.opts.uriResolver.parse(t),n=(0,ht._getFullPath)(this.opts.uriResolver,r);let s=(0,ht.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return Js.call(this,r,e);const a=(0,ht.normalizeId)(n),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){const u=js.call(this,e,i);return typeof(u==null?void 0:u.schema)!="object"?void 0:Js.call(this,r,u)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||Ro.call(this,i),a===(0,ht.normalizeId)(t)){const{schema:u}=i,{schemaId:c}=this.opts,l=u[c];return l&&(s=(0,ht.resolveUrl)(this.opts.uriResolver,s,l)),new Cs({schema:u,schemaId:c,root:e,baseId:s})}return Js.call(this,r,i)}}et.resolveSchema=js;const ay=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Js(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,rc.unescapeFragment)(u)];if(c===void 0)return;r=c;const l=typeof r=="object"&&r[this.opts.schemaId];!ay.has(u)&&l&&(t=(0,ht.resolveUrl)(this.opts.uriResolver,t,l))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,rc.schemaHasRulesButRef)(r,this.RULES)){const u=(0,ht.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=js.call(this,n,u)}const{schemaId:i}=this.opts;if(a=a||new Cs({schema:r,schemaId:i,root:n,baseId:t}),a.schema!==a.root.schema)return a}const oy="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",iy="Meta-schema for $data reference (JSON AnySchema extension proposal)",cy="object",ly=["$data"],uy={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},dy=!1,fy={$id:oy,description:iy,type:cy,required:ly,properties:uy,additionalProperties:dy};var To={};Object.defineProperty(To,"__esModule",{value:!0});const gu=Ml;gu.code='require("ajv/dist/runtime/uri").default';To.default=gu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=pt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=oe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=kn,s=Mn,a=Pr,i=et,u=oe,c=Ue,l=Dn,d=he,h=fy,R=To,g=(N,p)=>new RegExp(N,p);g.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],S=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),$={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function w(N){var p,T,v,o,f,O,V,U,J,X,ae,De,vt,Mt,Lt,ke,Ft,gt,_t,Et,Vt,Je,Ae,wt,Ut;const tt=N.strict,zt=(p=N.code)===null||p===void 0?void 0:p.optimize,cr=zt===!0||zt===void 0?1:zt||0,Ge=(v=(T=N.code)===null||T===void 0?void 0:T.regExp)!==null&&v!==void 0?v:g,qt=(o=N.uriResolver)!==null&&o!==void 0?o:R.default;return{strictSchema:(O=(f=N.strictSchema)!==null&&f!==void 0?f:tt)!==null&&O!==void 0?O:!0,strictNumbers:(U=(V=N.strictNumbers)!==null&&V!==void 0?V:tt)!==null&&U!==void 0?U:!0,strictTypes:(X=(J=N.strictTypes)!==null&&J!==void 0?J:tt)!==null&&X!==void 0?X:"log",strictTuples:(De=(ae=N.strictTuples)!==null&&ae!==void 0?ae:tt)!==null&&De!==void 0?De:"log",strictRequired:(Mt=(vt=N.strictRequired)!==null&&vt!==void 0?vt:tt)!==null&&Mt!==void 0?Mt:!1,code:N.code?{...N.code,optimize:cr,regExp:Ge}:{optimize:cr,regExp:Ge},loopRequired:(Lt=N.loopRequired)!==null&&Lt!==void 0?Lt:E,loopEnum:(ke=N.loopEnum)!==null&&ke!==void 0?ke:E,meta:(Ft=N.meta)!==null&&Ft!==void 0?Ft:!0,messages:(gt=N.messages)!==null&&gt!==void 0?gt:!0,inlineRefs:(_t=N.inlineRefs)!==null&&_t!==void 0?_t:!0,schemaId:(Et=N.schemaId)!==null&&Et!==void 0?Et:"$id",addUsedSchema:(Vt=N.addUsedSchema)!==null&&Vt!==void 0?Vt:!0,validateSchema:(Je=N.validateSchema)!==null&&Je!==void 0?Je:!0,validateFormats:(Ae=N.validateFormats)!==null&&Ae!==void 0?Ae:!0,unicodeRegExp:(wt=N.unicodeRegExp)!==null&&wt!==void 0?wt:!0,int32range:(Ut=N.int32range)!==null&&Ut!==void 0?Ut:!0,uriResolver:qt}}class I{constructor(p={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,p=this.opts={...p,...w(p)};const{es5:T,lines:v}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:S,es5:T,lines:v}),this.logger=H(p.logger);const o=p.validateFormats;p.validateFormats=!1,this.RULES=(0,a.getRules)(),D.call(this,$,p,"NOT SUPPORTED"),D.call(this,m,p,"DEPRECATED","warn"),this._metaOpts=G.call(this),p.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),p.keywords&&F.call(this,p.keywords),typeof p.meta=="object"&&this.addMetaSchema(p.meta),b.call(this),p.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:p,meta:T,schemaId:v}=this.opts;let o=h;v==="id"&&(o={...h},o.id=o.$id,delete o.$id),T&&p&&this.addMetaSchema(o,o[v],!1)}defaultMeta(){const{meta:p,schemaId:T}=this.opts;return this.opts.defaultMeta=typeof p=="object"?p[T]||p:void 0}validate(p,T){let v;if(typeof p=="string"){if(v=this.getSchema(p),!v)throw new Error(`no schema with key or ref "${p}"`)}else v=this.compile(p);const o=v(T);return"$async"in v||(this.errors=v.errors),o}compile(p,T){const v=this._addSchema(p,T);return v.validate||this._compileSchemaEnv(v)}compileAsync(p,T){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:v}=this.opts;return o.call(this,p,T);async function o(X,ae){await f.call(this,X.$schema);const De=this._addSchema(X,ae);return De.validate||O.call(this,De)}async function f(X){X&&!this.getSchema(X)&&await o.call(this,{$ref:X},!0)}async function O(X){try{return this._compileSchemaEnv(X)}catch(ae){if(!(ae instanceof s.default))throw ae;return V.call(this,ae),await U.call(this,ae.missingSchema),O.call(this,X)}}function V({missingSchema:X,missingRef:ae}){if(this.refs[X])throw new Error(`AnySchema ${X} is loaded but ${ae} cannot be resolved`)}async function U(X){const ae=await J.call(this,X);this.refs[X]||await f.call(this,ae.$schema),this.refs[X]||this.addSchema(ae,X,T)}async function J(X){const ae=this._loading[X];if(ae)return ae;try{return await(this._loading[X]=v(X))}finally{delete this._loading[X]}}}addSchema(p,T,v,o=this.opts.validateSchema){if(Array.isArray(p)){for(const O of p)this.addSchema(O,void 0,v,o);return this}let f;if(typeof p=="object"){const{schemaId:O}=this.opts;if(f=p[O],f!==void 0&&typeof f!="string")throw new Error(`schema ${O} must be string`)}return T=(0,c.normalizeId)(T||f),this._checkUnique(T),this.schemas[T]=this._addSchema(p,v,T,o,!0),this}addMetaSchema(p,T,v=this.opts.validateSchema){return this.addSchema(p,T,!0,v),this}validateSchema(p,T){if(typeof p=="boolean")return!0;let v;if(v=p.$schema,v!==void 0&&typeof v!="string")throw new Error("$schema must be a string");if(v=v||this.opts.defaultMeta||this.defaultMeta(),!v)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate(v,p);if(!o&&T){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return o}getSchema(p){let T;for(;typeof(T=_.call(this,p))=="string";)p=T;if(T===void 0){const{schemaId:v}=this.opts,o=new i.SchemaEnv({schema:{},schemaId:v});if(T=i.resolveSchema.call(this,o,p),!T)return;this.refs[p]=T}return T.validate||this._compileSchemaEnv(T)}removeSchema(p){if(p instanceof RegExp)return this._removeAllSchemas(this.schemas,p),this._removeAllSchemas(this.refs,p),this;switch(typeof p){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const T=_.call(this,p);return typeof T=="object"&&this._cache.delete(T.schema),delete this.schemas[p],delete this.refs[p],this}case"object":{const T=p;this._cache.delete(T);let v=p[this.opts.schemaId];return v&&(v=(0,c.normalizeId)(v),delete this.schemas[v],delete this.refs[v]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(p){for(const T of p)this.addKeyword(T);return this}addKeyword(p,T){let v;if(typeof p=="string")v=p,typeof T=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),T.keyword=v);else if(typeof p=="object"&&T===void 0){if(T=p,v=T.keyword,Array.isArray(v)&&!v.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(q.call(this,v,T),!T)return(0,d.eachItem)(v,f=>W.call(this,f)),this;B.call(this,T);const o={...T,type:(0,l.getJSONTypes)(T.type),schemaType:(0,l.getJSONTypes)(T.schemaType)};return(0,d.eachItem)(v,o.type.length===0?f=>W.call(this,f,o):f=>o.type.forEach(O=>W.call(this,f,o,O))),this}getKeyword(p){const T=this.RULES.all[p];return typeof T=="object"?T.definition:!!T}removeKeyword(p){const{RULES:T}=this;delete T.keywords[p],delete T.all[p];for(const v of T.rules){const o=v.rules.findIndex(f=>f.keyword===p);o>=0&&v.rules.splice(o,1)}return this}addFormat(p,T){return typeof T=="string"&&(T=new RegExp(T)),this.formats[p]=T,this}errorsText(p=this.errors,{separator:T=", ",dataVar:v="data"}={}){return!p||p.length===0?"No errors":p.map(o=>`${v}${o.instancePath} ${o.message}`).reduce((o,f)=>o+T+f)}$dataMetaSchema(p,T){const v=this.RULES.all;p=JSON.parse(JSON.stringify(p));for(const o of T){const f=o.split("/").slice(1);let O=p;for(const V of f)O=O[V];for(const V in v){const U=v[V];if(typeof U!="object")continue;const{$data:J}=U.definition,X=O[V];J&&X&&(O[V]=z(X))}}return p}_removeAllSchemas(p,T){for(const v in p){const o=p[v];(!T||T.test(v))&&(typeof o=="string"?delete p[v]:o&&!o.meta&&(this._cache.delete(o.schema),delete p[v]))}}_addSchema(p,T,v,o=this.opts.validateSchema,f=this.opts.addUsedSchema){let O;const{schemaId:V}=this.opts;if(typeof p=="object")O=p[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof p!="boolean")throw new Error("schema must be object or boolean")}let U=this._cache.get(p);if(U!==void 0)return U;v=(0,c.normalizeId)(O||v);const J=c.getSchemaRefs.call(this,p,v);return U=new i.SchemaEnv({schema:p,schemaId:V,meta:T,baseId:v,localRefs:J}),this._cache.set(U.schema,U),f&&!v.startsWith("#")&&(v&&this._checkUnique(v),this.refs[v]=U),o&&this.validateSchema(p,!0),U}_checkUnique(p){if(this.schemas[p]||this.refs[p])throw new Error(`schema with key or id "${p}" already exists`)}_compileSchemaEnv(p){if(p.meta?this._compileMetaSchema(p):i.compileSchema.call(this,p),!p.validate)throw new Error("ajv implementation error");return p.validate}_compileMetaSchema(p){const T=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,p)}finally{this.opts=T}}}e.default=I,I.ValidationError=n.default,I.MissingRefError=s.default;function D(N,p,T,v="error"){for(const o in N){const f=o;f in p&&this.logger[v](`${T}: option ${o}. ${N[f]}`)}}function _(N){return N=(0,c.normalizeId)(N),this.schemas[N]||this.refs[N]}function b(){const N=this.opts.schemas;if(N)if(Array.isArray(N))this.addSchema(N);else for(const p in N)this.addSchema(N[p],p)}function j(){for(const N in this.opts.formats){const p=this.opts.formats[N];p&&this.addFormat(N,p)}}function F(N){if(Array.isArray(N)){this.addVocabulary(N);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const p in N){const T=N[p];T.keyword||(T.keyword=p),this.addKeyword(T)}}function G(){const N={...this.opts};for(const p of y)delete N[p];return N}const Q={log(){},warn(){},error(){}};function H(N){if(N===!1)return Q;if(N===void 0)return console;if(N.log&&N.warn&&N.error)return N;throw new Error("logger must implement log, warn and error methods")}const K=/^[a-z_$][a-z0-9_$:-]*$/i;function q(N,p){const{RULES:T}=this;if((0,d.eachItem)(N,v=>{if(T.keywords[v])throw new Error(`Keyword ${v} is already defined`);if(!K.test(v))throw new Error(`Keyword ${v} has invalid name`)}),!!p&&p.$data&&!("code"in p||"validate"in p))throw new Error('$data keyword must have "code" or "validate" function')}function W(N,p,T){var v;const o=p==null?void 0:p.post;if(T&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let O=o?f.post:f.rules.find(({type:U})=>U===T);if(O||(O={type:T,rules:[]},f.rules.push(O)),f.keywords[N]=!0,!p)return;const V={keyword:N,definition:{...p,type:(0,l.getJSONTypes)(p.type),schemaType:(0,l.getJSONTypes)(p.schemaType)}};p.before?Y.call(this,O,V,p.before):O.rules.push(V),f.all[N]=V,(v=p.implements)===null||v===void 0||v.forEach(U=>this.addKeyword(U))}function Y(N,p,T){const v=N.rules.findIndex(o=>o.keyword===T);v>=0?N.rules.splice(v,0,p):(N.rules.push(p),this.logger.warn(`rule ${T} is not defined`))}function B(N){let{metaSchema:p}=N;p!==void 0&&(N.$data&&this.opts.$data&&(p=z(p)),N.validateSchema=this.compile(p,!0))}const k={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function z(N){return{anyOf:[N,k]}}})(Jl);var Io={},Ao={},Co={};Object.defineProperty(Co,"__esModule",{value:!0});const hy={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Co.default=hy;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.callRef=Nr.getValidate=void 0;const my=Mn,nc=ce,Ze=oe,Dr=kt,sc=et,Jn=he,py={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:i,opts:u,self:c}=n,{root:l}=a;if((r==="#"||r==="#/")&&s===l.baseId)return h();const d=sc.resolveRef.call(c,l,s,r);if(d===void 0)throw new my.default(n.opts.uriResolver,s,r);if(d instanceof sc.SchemaEnv)return R(d);return g(d);function h(){if(a===l)return ls(e,i,a,a.$async);const y=t.scopeValue("root",{ref:l});return ls(e,(0,Ze._)`${y}.validate`,l,l.$async)}function R(y){const S=_u(e,y);ls(e,S,y,y.$async)}function g(y){const S=t.scopeValue("schema",u.code.source===!0?{ref:y,code:(0,Ze.stringify)(y)}:{ref:y}),$=t.name("valid"),m=e.subschema({schema:y,dataTypes:[],schemaPath:Ze.nil,topSchemaRef:S,errSchemaPath:r},$);e.mergeEvaluated(m),e.ok($)}}};function _u(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ze._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Nr.getValidate=_u;function ls(e,t,r,n){const{gen:s,it:a}=e,{allErrors:i,schemaEnv:u,opts:c}=a,l=c.passContext?Dr.default.this:Ze.nil;n?d():h();function d(){if(!u.$async)throw new Error("async schema referenced by sync schema");const y=s.let("valid");s.try(()=>{s.code((0,Ze._)`await ${(0,nc.callValidateCode)(e,t,l)}`),g(t),i||s.assign(y,!0)},S=>{s.if((0,Ze._)`!(${S} instanceof ${a.ValidationError})`,()=>s.throw(S)),R(S),i||s.assign(y,!1)}),e.ok(y)}function h(){e.result((0,nc.callValidateCode)(e,t,l),()=>g(t),()=>R(t))}function R(y){const S=(0,Ze._)`${y}.errors`;s.assign(Dr.default.vErrors,(0,Ze._)`${Dr.default.vErrors} === null ? ${S} : ${Dr.default.vErrors}.concat(${S})`),s.assign(Dr.default.errors,(0,Ze._)`${Dr.default.vErrors}.length`)}function g(y){var S;if(!a.opts.unevaluated)return;const $=(S=r==null?void 0:r.validate)===null||S===void 0?void 0:S.evaluated;if(a.props!==!0)if($&&!$.dynamicProps)$.props!==void 0&&(a.props=Jn.mergeEvaluated.props(s,$.props,a.props));else{const m=s.var("props",(0,Ze._)`${y}.evaluated.props`);a.props=Jn.mergeEvaluated.props(s,m,a.props,Ze.Name)}if(a.items!==!0)if($&&!$.dynamicItems)$.items!==void 0&&(a.items=Jn.mergeEvaluated.items(s,$.items,a.items));else{const m=s.var("items",(0,Ze._)`${y}.evaluated.items`);a.items=Jn.mergeEvaluated.items(s,m,a.items,Ze.Name)}}}Nr.callRef=ls;Nr.default=py;Object.defineProperty(Ao,"__esModule",{value:!0});const $y=Co,yy=Nr,vy=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",$y.default,yy.default];Ao.default=vy;var jo={},Do={};Object.defineProperty(Do,"__esModule",{value:!0});const gs=oe,er=gs.operators,_s={maximum:{okStr:"<=",ok:er.LTE,fail:er.GT},minimum:{okStr:">=",ok:er.GTE,fail:er.LT},exclusiveMaximum:{okStr:"<",ok:er.LT,fail:er.GTE},exclusiveMinimum:{okStr:">",ok:er.GT,fail:er.LTE}},gy={message:({keyword:e,schemaCode:t})=>(0,gs.str)`must be ${_s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,gs._)`{comparison: ${_s[e].okStr}, limit: ${t}}`},_y={keyword:Object.keys(_s),type:"number",schemaType:"number",$data:!0,error:gy,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,gs._)`${r} ${_s[t].fail} ${n} || isNaN(${r})`)}};Do.default=_y;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});const En=oe,Ey={message:({schemaCode:e})=>(0,En.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,En._)`{multipleOf: ${e}}`},wy={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Ey,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,i=t.let("res"),u=a?(0,En._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,En._)`${i} !== parseInt(${i})`;e.fail$data((0,En._)`(${n} === 0 || (${i} = ${r}/${n}, ${u}))`)}};ko.default=wy;var Mo={},Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});function Eu(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Lo.default=Eu;Eu.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Mo,"__esModule",{value:!0});const gr=oe,Sy=he,by=Lo,Py={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,gr.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,gr._)`{limit: ${e}}`},Ny={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Py,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?gr.operators.GT:gr.operators.LT,i=s.opts.unicode===!1?(0,gr._)`${r}.length`:(0,gr._)`${(0,Sy.useFunc)(e.gen,by.default)}(${r})`;e.fail$data((0,gr._)`${i} ${a} ${n}`)}};Mo.default=Ny;var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});const Oy=ce,Es=oe,Ry={message:({schemaCode:e})=>(0,Es.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Es._)`{pattern: ${e}}`},Ty={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Ry,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,i=a.opts.unicodeRegExp?"u":"",u=r?(0,Es._)`(new RegExp(${s}, ${i}))`:(0,Oy.usePattern)(e,n);e.fail$data((0,Es._)`!${u}.test(${t})`)}};Fo.default=Ty;var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});const wn=oe,Iy={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,wn.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,wn._)`{limit: ${e}}`},Ay={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Iy,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?wn.operators.GT:wn.operators.LT;e.fail$data((0,wn._)`Object.keys(${r}).length ${s} ${n}`)}};Vo.default=Ay;var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});const ln=ce,Sn=oe,Cy=he,jy={message:({params:{missingProperty:e}})=>(0,Sn.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Sn._)`{missingProperty: ${e}}`},Dy={keyword:"required",type:"object",schemaType:"array",$data:!0,error:jy,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:i}=e,{opts:u}=i;if(!a&&r.length===0)return;const c=r.length>=u.loopRequired;if(i.allErrors?l():d(),u.strictRequired){const g=e.parentSchema.properties,{definedProperties:y}=e.it;for(const S of r)if((g==null?void 0:g[S])===void 0&&!y.has(S)){const $=i.schemaEnv.baseId+i.errSchemaPath,m=`required property "${S}" is not defined at "${$}" (strictRequired)`;(0,Cy.checkStrictMode)(i,m,i.opts.strictRequired)}}function l(){if(c||a)e.block$data(Sn.nil,h);else for(const g of r)(0,ln.checkReportMissingProp)(e,g)}function d(){const g=t.let("missing");if(c||a){const y=t.let("valid",!0);e.block$data(y,()=>R(g,y)),e.ok(y)}else t.if((0,ln.checkMissingProp)(e,r,g)),(0,ln.reportMissingProp)(e,g),t.else()}function h(){t.forOf("prop",n,g=>{e.setParams({missingProperty:g}),t.if((0,ln.noPropertyInData)(t,s,g,u.ownProperties),()=>e.error())})}function R(g,y){e.setParams({missingProperty:g}),t.forOf(g,n,()=>{t.assign(y,(0,ln.propertyInData)(t,s,g,u.ownProperties)),t.if((0,Sn.not)(y),()=>{e.error(),t.break()})},Sn.nil)}}};Uo.default=Dy;var zo={};Object.defineProperty(zo,"__esModule",{value:!0});const bn=oe,ky={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,bn.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,bn._)`{limit: ${e}}`},My={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:ky,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?bn.operators.GT:bn.operators.LT;e.fail$data((0,bn._)`${r}.length ${s} ${n}`)}};zo.default=My;var qo={},Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});const wu=Os;wu.code='require("ajv/dist/runtime/equal").default';Ln.default=wu;Object.defineProperty(qo,"__esModule",{value:!0});const Ys=Dn,Le=oe,Ly=he,Fy=Ln,Vy={message:({params:{i:e,j:t}})=>(0,Le.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Le._)`{i: ${e}, j: ${t}}`},Uy={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Vy,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:i,it:u}=e;if(!n&&!s)return;const c=t.let("valid"),l=a.items?(0,Ys.getSchemaTypes)(a.items):[];e.block$data(c,d,(0,Le._)`${i} === false`),e.ok(c);function d(){const y=t.let("i",(0,Le._)`${r}.length`),S=t.let("j");e.setParams({i:y,j:S}),t.assign(c,!0),t.if((0,Le._)`${y} > 1`,()=>(h()?R:g)(y,S))}function h(){return l.length>0&&!l.some(y=>y==="object"||y==="array")}function R(y,S){const $=t.name("item"),m=(0,Ys.checkDataTypes)(l,$,u.opts.strictNumbers,Ys.DataType.Wrong),E=t.const("indices",(0,Le._)`{}`);t.for((0,Le._)`;${y}--;`,()=>{t.let($,(0,Le._)`${r}[${y}]`),t.if(m,(0,Le._)`continue`),l.length>1&&t.if((0,Le._)`typeof ${$} == "string"`,(0,Le._)`${$} += "_"`),t.if((0,Le._)`typeof ${E}[${$}] == "number"`,()=>{t.assign(S,(0,Le._)`${E}[${$}]`),e.error(),t.assign(c,!1).break()}).code((0,Le._)`${E}[${$}] = ${y}`)})}function g(y,S){const $=(0,Ly.useFunc)(t,Fy.default),m=t.name("outer");t.label(m).for((0,Le._)`;${y}--;`,()=>t.for((0,Le._)`${S} = ${y}; ${S}--;`,()=>t.if((0,Le._)`${$}(${r}[${y}], ${r}[${S}])`,()=>{e.error(),t.assign(c,!1).break(m)})))}}};qo.default=Uy;var Go={};Object.defineProperty(Go,"__esModule",{value:!0});const ga=oe,zy=he,qy=Ln,Gy={message:"must be equal to constant",params:({schemaCode:e})=>(0,ga._)`{allowedValue: ${e}}`},Ky={keyword:"const",$data:!0,error:Gy,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,ga._)`!${(0,zy.useFunc)(t,qy.default)}(${r}, ${s})`):e.fail((0,ga._)`${a} !== ${r}`)}};Go.default=Ky;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});const mn=oe,Hy=he,By=Ln,Wy={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,mn._)`{allowedValues: ${e}}`},Xy={keyword:"enum",schemaType:"array",$data:!0,error:Wy,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:i}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const u=s.length>=i.opts.loopEnum;let c;const l=()=>c??(c=(0,Hy.useFunc)(t,By.default));let d;if(u||n)d=t.let("valid"),e.block$data(d,h);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const g=t.const("vSchema",a);d=(0,mn.or)(...s.map((y,S)=>R(g,S)))}e.pass(d);function h(){t.assign(d,!1),t.forOf("v",a,g=>t.if((0,mn._)`${l()}(${r}, ${g})`,()=>t.assign(d,!0).break()))}function R(g,y){const S=s[y];return typeof S=="object"&&S!==null?(0,mn._)`${l()}(${r}, ${g}[${y}])`:(0,mn._)`${r} === ${S}`}}};Ko.default=Xy;Object.defineProperty(jo,"__esModule",{value:!0});const Jy=Do,Yy=ko,Qy=Mo,Zy=Fo,xy=Vo,ev=Uo,tv=zo,rv=qo,nv=Go,sv=Ko,av=[Jy.default,Yy.default,Qy.default,Zy.default,xy.default,ev.default,tv.default,rv.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},nv.default,sv.default];jo.default=av;var Ho={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.validateAdditionalItems=void 0;const _r=oe,_a=he,ov={message:({params:{len:e}})=>(0,_r.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,_r._)`{limit: ${e}}`},iv={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:ov,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,_a.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Su(e,n)}};function Su(e,t){const{gen:r,schema:n,data:s,keyword:a,it:i}=e;i.items=!0;const u=r.const("len",(0,_r._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,_r._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,_a.alwaysValidSchema)(i,n)){const l=r.var("valid",(0,_r._)`${u} <= ${t.length}`);r.if((0,_r.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,u,d=>{e.subschema({keyword:a,dataProp:d,dataPropType:_a.Type.Num},l),i.allErrors||r.if((0,_r.not)(l),()=>r.break())})}}xr.validateAdditionalItems=Su;xr.default=iv;var Bo={},en={};Object.defineProperty(en,"__esModule",{value:!0});en.validateTuple=void 0;const ac=oe,us=he,cv=ce,lv={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return bu(e,"additionalItems",t);r.items=!0,!(0,us.alwaysValidSchema)(r,t)&&e.ok((0,cv.validateArray)(e))}};function bu(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:i,it:u}=e;d(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=us.mergeEvaluated.items(n,r.length,u.items));const c=n.name("valid"),l=n.const("len",(0,ac._)`${a}.length`);r.forEach((h,R)=>{(0,us.alwaysValidSchema)(u,h)||(n.if((0,ac._)`${l} > ${R}`,()=>e.subschema({keyword:i,schemaProp:R,dataProp:R},c)),e.ok(c))});function d(h){const{opts:R,errSchemaPath:g}=u,y=r.length,S=y===h.minItems&&(y===h.maxItems||h[t]===!1);if(R.strictTuples&&!S){const $=`"${i}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${g}"`;(0,us.checkStrictMode)(u,$,R.strictTuples)}}}en.validateTuple=bu;en.default=lv;Object.defineProperty(Bo,"__esModule",{value:!0});const uv=en,dv={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,uv.validateTuple)(e,"items")};Bo.default=dv;var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});const oc=oe,fv=he,hv=ce,mv=xr,pv={message:({params:{len:e}})=>(0,oc.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,oc._)`{limit: ${e}}`},$v={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:pv,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,fv.alwaysValidSchema)(n,t)&&(s?(0,mv.validateAdditionalItems)(e,s):e.ok((0,hv.validateArray)(e)))}};Wo.default=$v;var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});const ot=oe,Yn=he,yv={message:({params:{min:e,max:t}})=>t===void 0?(0,ot.str)`must contain at least ${e} valid item(s)`:(0,ot.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ot._)`{minContains: ${e}}`:(0,ot._)`{minContains: ${e}, maxContains: ${t}}`},vv={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:yv,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let i,u;const{minContains:c,maxContains:l}=n;a.opts.next?(i=c===void 0?1:c,u=l):i=1;const d=t.const("len",(0,ot._)`${s}.length`);if(e.setParams({min:i,max:u}),u===void 0&&i===0){(0,Yn.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&i>u){(0,Yn.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Yn.alwaysValidSchema)(a,r)){let S=(0,ot._)`${d} >= ${i}`;u!==void 0&&(S=(0,ot._)`${S} && ${d} <= ${u}`),e.pass(S);return}a.items=!0;const h=t.name("valid");u===void 0&&i===1?g(h,()=>t.if(h,()=>t.break())):i===0?(t.let(h,!0),u!==void 0&&t.if((0,ot._)`${s}.length > 0`,R)):(t.let(h,!1),R()),e.result(h,()=>e.reset());function R(){const S=t.name("_valid"),$=t.let("count",0);g(S,()=>t.if(S,()=>y($)))}function g(S,$){t.forRange("i",0,d,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:Yn.Type.Num,compositeRule:!0},S),$()})}function y(S){t.code((0,ot._)`${S}++`),u===void 0?t.if((0,ot._)`${S} >= ${i}`,()=>t.assign(h,!0).break()):(t.if((0,ot._)`${S} > ${u}`,()=>t.assign(h,!1).break()),i===1?t.assign(h,!0):t.if((0,ot._)`${S} >= ${i}`,()=>t.assign(h,!0)))}}};Xo.default=vv;var Pu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=oe,r=he,n=ce;e.error={message:({params:{property:c,depsCount:l,deps:d}})=>{const h=l===1?"property":"properties";return(0,t.str)`must have ${h} ${d} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:d,missingProperty:h}})=>(0,t._)`{property: ${c},
    missingProperty: ${h},
    depsCount: ${l},
    deps: ${d}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,d]=a(c);i(c,l),u(c,d)}};function a({schema:c}){const l={},d={};for(const h in c){if(h==="__proto__")continue;const R=Array.isArray(c[h])?l:d;R[h]=c[h]}return[l,d]}function i(c,l=c.schema){const{gen:d,data:h,it:R}=c;if(Object.keys(l).length===0)return;const g=d.let("missing");for(const y in l){const S=l[y];if(S.length===0)continue;const $=(0,n.propertyInData)(d,h,y,R.opts.ownProperties);c.setParams({property:y,depsCount:S.length,deps:S.join(", ")}),R.allErrors?d.if($,()=>{for(const m of S)(0,n.checkReportMissingProp)(c,m)}):(d.if((0,t._)`${$} && (${(0,n.checkMissingProp)(c,S,g)})`),(0,n.reportMissingProp)(c,g),d.else())}}e.validatePropertyDeps=i;function u(c,l=c.schema){const{gen:d,data:h,keyword:R,it:g}=c,y=d.name("valid");for(const S in l)(0,r.alwaysValidSchema)(g,l[S])||(d.if((0,n.propertyInData)(d,h,S,g.opts.ownProperties),()=>{const $=c.subschema({keyword:R,schemaProp:S},y);c.mergeValidEvaluated($,y)},()=>d.var(y,!0)),c.ok(y))}e.validateSchemaDeps=u,e.default=s})(Pu);var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});const Nu=oe,gv=he,_v={message:"property name must be valid",params:({params:e})=>(0,Nu._)`{propertyName: ${e.propertyName}}`},Ev={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:_v,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,gv.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),t.if((0,Nu.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};Jo.default=Ev;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const Qn=ce,ut=oe,wv=kt,Zn=he,Sv={message:"must NOT have additional properties",params:({params:e})=>(0,ut._)`{additionalProperty: ${e.additionalProperty}}`},bv={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Sv,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:i}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,Zn.alwaysValidSchema)(i,r))return;const l=(0,Qn.allSchemaProperties)(n.properties),d=(0,Qn.allSchemaProperties)(n.patternProperties);h(),e.ok((0,ut._)`${a} === ${wv.default.errors}`);function h(){t.forIn("key",s,$=>{!l.length&&!d.length?y($):t.if(R($),()=>y($))})}function R($){let m;if(l.length>8){const E=(0,Zn.schemaRefOrVal)(i,n.properties,"properties");m=(0,Qn.isOwnProperty)(t,E,$)}else l.length?m=(0,ut.or)(...l.map(E=>(0,ut._)`${$} === ${E}`)):m=ut.nil;return d.length&&(m=(0,ut.or)(m,...d.map(E=>(0,ut._)`${(0,Qn.usePattern)(e,E)}.test(${$})`))),(0,ut.not)(m)}function g($){t.code((0,ut._)`delete ${s}[${$}]`)}function y($){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){g($);return}if(r===!1){e.setParams({additionalProperty:$}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,Zn.alwaysValidSchema)(i,r)){const m=t.name("valid");c.removeAdditional==="failing"?(S($,m,!1),t.if((0,ut.not)(m),()=>{e.reset(),g($)})):(S($,m),u||t.if((0,ut.not)(m),()=>t.break()))}}function S($,m,E){const w={keyword:"additionalProperties",dataProp:$,dataPropType:Zn.Type.Str};E===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(w,m)}}};Ds.default=bv;var Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});const Pv=pt,ic=ce,Qs=he,cc=Ds,Nv={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&cc.default.code(new Pv.KeywordCxt(a,cc.default,"additionalProperties"));const i=(0,ic.allSchemaProperties)(r);for(const h of i)a.definedProperties.add(h);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=Qs.mergeEvaluated.props(t,(0,Qs.toHash)(i),a.props));const u=i.filter(h=>!(0,Qs.alwaysValidSchema)(a,r[h]));if(u.length===0)return;const c=t.name("valid");for(const h of u)l(h)?d(h):(t.if((0,ic.propertyInData)(t,s,h,a.opts.ownProperties)),d(h),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(c);function l(h){return a.opts.useDefaults&&!a.compositeRule&&r[h].default!==void 0}function d(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},c)}}};Yo.default=Nv;var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});const lc=ce,xn=oe,uc=he,dc=he,Ov={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:i}=a,u=(0,lc.allSchemaProperties)(r),c=u.filter(S=>(0,uc.alwaysValidSchema)(a,r[S]));if(u.length===0||c.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;const l=i.strictSchema&&!i.allowMatchingProperties&&s.properties,d=t.name("valid");a.props!==!0&&!(a.props instanceof xn.Name)&&(a.props=(0,dc.evaluatedPropsToName)(t,a.props));const{props:h}=a;R();function R(){for(const S of u)l&&g(S),a.allErrors?y(S):(t.var(d,!0),y(S),t.if(d))}function g(S){for(const $ in l)new RegExp(S).test($)&&(0,uc.checkStrictMode)(a,`property ${$} matches pattern ${S} (use allowMatchingProperties)`)}function y(S){t.forIn("key",n,$=>{t.if((0,xn._)`${(0,lc.usePattern)(e,S)}.test(${$})`,()=>{const m=c.includes(S);m||e.subschema({keyword:"patternProperties",schemaProp:S,dataProp:$,dataPropType:dc.Type.Str},d),a.opts.unevaluated&&h!==!0?t.assign((0,xn._)`${h}[${$}]`,!0):!m&&!a.allErrors&&t.if((0,xn.not)(d),()=>t.break())})})}}};Qo.default=Ov;var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});const Rv=he,Tv={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Rv.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Zo.default=Tv;var xo={};Object.defineProperty(xo,"__esModule",{value:!0});const Iv=ce,Av={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Iv.validateUnion,error:{message:"must match a schema in anyOf"}};xo.default=Av;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});const ds=oe,Cv=he,jv={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ds._)`{passingSchemas: ${e.passing}}`},Dv={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:jv,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,i=t.let("valid",!1),u=t.let("passing",null),c=t.name("_valid");e.setParams({passing:u}),t.block(l),e.result(i,()=>e.reset(),()=>e.error(!0));function l(){a.forEach((d,h)=>{let R;(0,Cv.alwaysValidSchema)(s,d)?t.var(c,!0):R=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},c),h>0&&t.if((0,ds._)`${c} && ${i}`).assign(i,!1).assign(u,(0,ds._)`[${u}, ${h}]`).else(),t.if(c,()=>{t.assign(i,!0),t.assign(u,h),R&&e.mergeEvaluated(R,ds.Name)})})}}};ei.default=Dv;var ti={};Object.defineProperty(ti,"__esModule",{value:!0});const kv=he,Mv={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,i)=>{if((0,kv.alwaysValidSchema)(n,a))return;const u=e.subschema({keyword:"allOf",schemaProp:i},s);e.ok(s),e.mergeEvaluated(u)})}};ti.default=Mv;var ri={};Object.defineProperty(ri,"__esModule",{value:!0});const ws=oe,Ou=he,Lv={message:({params:e})=>(0,ws.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ws._)`{failingKeyword: ${e.ifClause}}`},Fv={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Lv,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Ou.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=fc(n,"then"),a=fc(n,"else");if(!s&&!a)return;const i=t.let("valid",!0),u=t.name("_valid");if(c(),e.reset(),s&&a){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(u,l("then",d),l("else",d))}else s?t.if(u,l("then")):t.if((0,ws.not)(u),l("else"));e.pass(i,()=>e.error(!0));function c(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(d)}function l(d,h){return()=>{const R=e.subschema({keyword:d},u);t.assign(i,u),e.mergeValidEvaluated(R,i),h?t.assign(h,(0,ws._)`${d}`):e.setParams({ifClause:d})}}}};function fc(e,t){const r=e.schema[t];return r!==void 0&&!(0,Ou.alwaysValidSchema)(e,r)}ri.default=Fv;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});const Vv=he,Uv={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Vv.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};ni.default=Uv;Object.defineProperty(Ho,"__esModule",{value:!0});const zv=xr,qv=Bo,Gv=en,Kv=Wo,Hv=Xo,Bv=Pu,Wv=Jo,Xv=Ds,Jv=Yo,Yv=Qo,Qv=Zo,Zv=xo,xv=ei,eg=ti,tg=ri,rg=ni;function ng(e=!1){const t=[Qv.default,Zv.default,xv.default,eg.default,tg.default,rg.default,Wv.default,Xv.default,Bv.default,Jv.default,Yv.default];return e?t.push(qv.default,Kv.default):t.push(zv.default,Gv.default),t.push(Hv.default),t}Ho.default=ng;var si={},ai={};Object.defineProperty(ai,"__esModule",{value:!0});const Te=oe,sg={message:({schemaCode:e})=>(0,Te.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Te._)`{format: ${e}}`},ag={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:sg,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:i,it:u}=e,{opts:c,errSchemaPath:l,schemaEnv:d,self:h}=u;if(!c.validateFormats)return;s?R():g();function R(){const y=r.scopeValue("formats",{ref:h.formats,code:c.code.formats}),S=r.const("fDef",(0,Te._)`${y}[${i}]`),$=r.let("fType"),m=r.let("format");r.if((0,Te._)`typeof ${S} == "object" && !(${S} instanceof RegExp)`,()=>r.assign($,(0,Te._)`${S}.type || "string"`).assign(m,(0,Te._)`${S}.validate`),()=>r.assign($,(0,Te._)`"string"`).assign(m,S)),e.fail$data((0,Te.or)(E(),w()));function E(){return c.strictSchema===!1?Te.nil:(0,Te._)`${i} && !${m}`}function w(){const I=d.$async?(0,Te._)`(${S}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,Te._)`${m}(${n})`,D=(0,Te._)`(typeof ${m} == "function" ? ${I} : ${m}.test(${n}))`;return(0,Te._)`${m} && ${m} !== true && ${$} === ${t} && !${D}`}}function g(){const y=h.formats[a];if(!y){E();return}if(y===!0)return;const[S,$,m]=w(y);S===t&&e.pass(I());function E(){if(c.strictSchema===!1){h.logger.warn(D());return}throw new Error(D());function D(){return`unknown format "${a}" ignored in schema at path "${l}"`}}function w(D){const _=D instanceof RegExp?(0,Te.regexpCode)(D):c.code.formats?(0,Te._)`${c.code.formats}${(0,Te.getProperty)(a)}`:void 0,b=r.scopeValue("formats",{key:a,ref:D,code:_});return typeof D=="object"&&!(D instanceof RegExp)?[D.type||"string",D.validate,(0,Te._)`${b}.validate`]:["string",D,b]}function I(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!d.$async)throw new Error("async format in sync schema");return(0,Te._)`await ${m}(${n})`}return typeof $=="function"?(0,Te._)`${m}(${n})`:(0,Te._)`${m}.test(${n})`}}}};ai.default=ag;Object.defineProperty(si,"__esModule",{value:!0});const og=ai,ig=[og.default];si.default=ig;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.contentVocabulary=Yr.metadataVocabulary=void 0;Yr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Yr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Io,"__esModule",{value:!0});const cg=Ao,lg=jo,ug=Ho,dg=si,hc=Yr,fg=[cg.default,lg.default,(0,ug.default)(),dg.default,hc.metadataVocabulary,hc.contentVocabulary];Io.default=fg;var oi={},Ru={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Ru);Object.defineProperty(oi,"__esModule",{value:!0});const Fr=oe,Ea=Ru,mc=et,hg=he,mg={message:({params:{discrError:e,tagName:t}})=>e===Ea.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Fr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},pg={keyword:"discriminator",type:"object",schemaType:"object",error:mg,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:i}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),l=t.const("tag",(0,Fr._)`${r}${(0,Fr.getProperty)(u)}`);t.if((0,Fr._)`typeof ${l} == "string"`,()=>d(),()=>e.error(!1,{discrError:Ea.DiscrError.Tag,tag:l,tagName:u})),e.ok(c);function d(){const g=R();t.if(!1);for(const y in g)t.elseIf((0,Fr._)`${l} === ${y}`),t.assign(c,h(g[y]));t.else(),e.error(!1,{discrError:Ea.DiscrError.Mapping,tag:l,tagName:u}),t.endIf()}function h(g){const y=t.name("valid"),S=e.subschema({keyword:"oneOf",schemaProp:g},y);return e.mergeEvaluated(S,Fr.Name),y}function R(){var g;const y={},S=m(s);let $=!0;for(let I=0;I<i.length;I++){let D=i[I];D!=null&&D.$ref&&!(0,hg.schemaHasRulesButRef)(D,a.self.RULES)&&(D=mc.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,D==null?void 0:D.$ref),D instanceof mc.SchemaEnv&&(D=D.schema));const _=(g=D==null?void 0:D.properties)===null||g===void 0?void 0:g[u];if(typeof _!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);$=$&&(S||m(D)),E(_,I)}if(!$)throw new Error(`discriminator: "${u}" must be required`);return y;function m({required:I}){return Array.isArray(I)&&I.includes(u)}function E(I,D){if(I.const)w(I.const,D);else if(I.enum)for(const _ of I.enum)w(_,D);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function w(I,D){if(typeof I!="string"||I in y)throw new Error(`discriminator: "${u}" values must be unique strings`);y[I]=D}}}};oi.default=pg;const $g="http://json-schema.org/draft-07/schema#",yg="http://json-schema.org/draft-07/schema#",vg="Core schema meta-schema",gg={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},_g=["object","boolean"],Eg={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},wg={$schema:$g,$id:yg,title:vg,definitions:gg,type:_g,properties:Eg,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Jl,n=Io,s=oi,a=wg,i=["/properties"],u="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema(y,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=pt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var d=oe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=kn;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var R=Mn;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return R.default}})})($a,$a.exports);var Sg=$a.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Sg,r=oe,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:u,schemaCode:c})=>r.str`should be ${s[u].okStr} ${c}`,params:({keyword:u,schemaCode:c})=>r._`{comparison: ${s[u].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(u){const{gen:c,data:l,schemaCode:d,keyword:h,it:R}=u,{opts:g,self:y}=R;if(!g.validateFormats)return;const S=new t.KeywordCxt(R,y.RULES.all.format.definition,"format");S.$data?$():m();function $(){const w=c.scopeValue("formats",{ref:y.formats,code:g.code.formats}),I=c.const("fmt",r._`${w}[${S.schemaCode}]`);u.fail$data(r.or(r._`typeof ${I} != "object"`,r._`${I} instanceof RegExp`,r._`typeof ${I}.compare != "function"`,E(I)))}function m(){const w=S.schema,I=y.formats[w];if(!I||I===!0)return;if(typeof I!="object"||I instanceof RegExp||typeof I.compare!="function")throw new Error(`"${h}": format "${w}" does not define "compare" function`);const D=c.scopeValue("formats",{key:w,ref:I,code:g.code.formats?r._`${g.code.formats}${r.getProperty(w)}`:void 0});u.fail$data(E(D))}function E(w){return r._`${w}.compare(${l}, ${d}) ${s[h].fail} 0`}},dependencies:["format"]};const i=u=>(u.addKeyword(e.formatLimitDefinition),u);e.default=i})(Xl);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Wl,n=Xl,s=oe,a=new s.Name("fullFormats"),i=new s.Name("fastFormats"),u=(l,d={keywords:!0})=>{if(Array.isArray(d))return c(l,d,r.fullFormats,a),l;const[h,R]=d.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,a],g=d.formats||r.formatNames;return c(l,g,h,R),d.keywords&&n.default(l),l};u.get=(l,d="full")=>{const R=(d==="fast"?r.fastFormats:r.fullFormats)[l];if(!R)throw new Error(`Unknown format "${l}"`);return R};function c(l,d,h,R){var g,y;(g=(y=l.opts.code).formats)!==null&&g!==void 0||(y.formats=s._`require("ajv-formats/dist/formats").${R}`);for(const S of d)l.addFormat(S,h[S])}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u})(pa,pa.exports);var bg=pa.exports;const Pg=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!Ng(s,a)&&n||Object.defineProperty(e,r,a)},Ng=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Og=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},Rg=(e,t)=>`/* Wrapped ${e}*/
${t}`,Tg=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Ig=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Ag=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=Rg.bind(null,n,t.toString());Object.defineProperty(s,"name",Ig),Object.defineProperty(e,"toString",{...Tg,value:s})},Cg=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const s of Reflect.ownKeys(t))Pg(e,t,s,r);return Og(e,t),Ag(e,t,n),e};var jg=Cg;const Dg=jg;var kg=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:s=!0}=t;if(!n&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,i;const u=function(...c){const l=this,d=()=>{a=void 0,s&&(i=e.apply(l,c))},h=n&&!a;return clearTimeout(a),a=setTimeout(d,r),h&&(i=e.apply(l,c)),i};return Dg(u,e),u.cancel=()=>{a&&(clearTimeout(a),a=void 0)},u},wa={exports:{}};const Mg="2.0.0",Tu=256,Lg=Number.MAX_SAFE_INTEGER||9007199254740991,Fg=16,Vg=Tu-6,Ug=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ks={MAX_LENGTH:Tu,MAX_SAFE_COMPONENT_LENGTH:Fg,MAX_SAFE_BUILD_LENGTH:Vg,MAX_SAFE_INTEGER:Lg,RELEASE_TYPES:Ug,SEMVER_SPEC_VERSION:Mg,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const zg=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Ms=zg;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=ks,a=Ms;t=e.exports={};const i=t.re=[],u=t.safeRe=[],c=t.src=[],l=t.t={};let d=0;const h="[a-zA-Z0-9-]",R=[["\\s",1],["\\d",s],[h,n]],g=S=>{for(const[$,m]of R)S=S.split(`${$}*`).join(`${$}{0,${m}}`).split(`${$}+`).join(`${$}{1,${m}}`);return S},y=(S,$,m)=>{const E=g($),w=d++;a(S,w,$),l[S]=w,c[w]=$,i[w]=new RegExp($,m?"g":void 0),u[w]=new RegExp(E,m?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),y("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),y("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${h}+`),y("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),y("FULL",`^${c[l.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),y("LOOSE",`^${c[l.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),y("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),y("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),y("COERCERTL",c[l.COERCE],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",y("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",y("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(wa,wa.exports);var Fn=wa.exports;const qg=Object.freeze({loose:!0}),Gg=Object.freeze({}),Kg=e=>e?typeof e!="object"?qg:e:Gg;var ii=Kg;const pc=/^[0-9]+$/,Iu=(e,t)=>{const r=pc.test(e),n=pc.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},Hg=(e,t)=>Iu(t,e);var Au={compareIdentifiers:Iu,rcompareIdentifiers:Hg};const es=Ms,{MAX_LENGTH:$c,MAX_SAFE_INTEGER:ts}=ks,{safeRe:yc,t:vc}=Fn,Bg=ii,{compareIdentifiers:kr}=Au;let Wg=class Ot{constructor(t,r){if(r=Bg(r),t instanceof Ot){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>$c)throw new TypeError(`version is longer than ${$c} characters`);es("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?yc[vc.LOOSE]:yc[vc.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ts||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ts||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ts||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<ts)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(es("SemVer.compare",this.version,this.options,t),!(t instanceof Ot)){if(typeof t=="string"&&t===this.version)return 0;t=new Ot(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ot||(t=new Ot(t,this.options)),kr(this.major,t.major)||kr(this.minor,t.minor)||kr(this.patch,t.patch)}comparePre(t){if(t instanceof Ot||(t=new Ot(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(es("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return kr(n,s)}while(++r)}compareBuild(t){t instanceof Ot||(t=new Ot(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(es("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return kr(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];n===!1&&(a=[r]),kr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Xe=Wg;const gc=Xe,Xg=(e,t,r=!1)=>{if(e instanceof gc)return e;try{return new gc(e,t)}catch(n){if(!r)return null;throw n}};var tn=Xg;const Jg=tn,Yg=(e,t)=>{const r=Jg(e,t);return r?r.version:null};var Qg=Yg;const Zg=tn,xg=(e,t)=>{const r=Zg(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var e_=xg;const _c=Xe,t_=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new _c(e instanceof _c?e.version:e,r).inc(t,n,s).version}catch{return null}};var r_=t_;const Ec=tn,n_=(e,t)=>{const r=Ec(e,null,!0),n=Ec(t,null,!0),s=r.compare(n);if(s===0)return null;const a=s>0,i=a?r:n,u=a?n:r,c=!!i.prerelease.length;if(!!u.prerelease.length&&!c)return!u.patch&&!u.minor?"major":i.patch?"patch":i.minor?"minor":"major";const d=c?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"};var s_=n_;const a_=Xe,o_=(e,t)=>new a_(e,t).major;var i_=o_;const c_=Xe,l_=(e,t)=>new c_(e,t).minor;var u_=l_;const d_=Xe,f_=(e,t)=>new d_(e,t).patch;var h_=f_;const m_=tn,p_=(e,t)=>{const r=m_(e,t);return r&&r.prerelease.length?r.prerelease:null};var $_=p_;const wc=Xe,y_=(e,t,r)=>new wc(e,r).compare(new wc(t,r));var $t=y_;const v_=$t,g_=(e,t,r)=>v_(t,e,r);var __=g_;const E_=$t,w_=(e,t)=>E_(e,t,!0);var S_=w_;const Sc=Xe,b_=(e,t,r)=>{const n=new Sc(e,r),s=new Sc(t,r);return n.compare(s)||n.compareBuild(s)};var ci=b_;const P_=ci,N_=(e,t)=>e.sort((r,n)=>P_(r,n,t));var O_=N_;const R_=ci,T_=(e,t)=>e.sort((r,n)=>R_(n,r,t));var I_=T_;const A_=$t,C_=(e,t,r)=>A_(e,t,r)>0;var Ls=C_;const j_=$t,D_=(e,t,r)=>j_(e,t,r)<0;var li=D_;const k_=$t,M_=(e,t,r)=>k_(e,t,r)===0;var Cu=M_;const L_=$t,F_=(e,t,r)=>L_(e,t,r)!==0;var ju=F_;const V_=$t,U_=(e,t,r)=>V_(e,t,r)>=0;var ui=U_;const z_=$t,q_=(e,t,r)=>z_(e,t,r)<=0;var di=q_;const G_=Cu,K_=ju,H_=Ls,B_=ui,W_=li,X_=di,J_=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return G_(e,r,n);case"!=":return K_(e,r,n);case">":return H_(e,r,n);case">=":return B_(e,r,n);case"<":return W_(e,r,n);case"<=":return X_(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Du=J_;const Y_=Xe,Q_=tn,{safeRe:rs,t:ns}=Fn,Z_=(e,t)=>{if(e instanceof Y_)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(rs[ns.COERCE]);else{let n;for(;(n=rs[ns.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),rs[ns.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;rs[ns.COERCERTL].lastIndex=-1}return r===null?null:Q_(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};var x_=Z_,Zs,bc;function e0(){return bc||(bc=1,Zs=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Zs}var t0=me;me.Node=Or;me.create=me;function me(e){var t=this;if(t instanceof me||(t=new me),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}me.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};me.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};me.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};me.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)n0(this,arguments[e]);return this.length};me.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s0(this,arguments[e]);return this.length};me.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};me.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};me.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};me.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};me.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};me.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};me.prototype.map=function(e,t){t=t||this;for(var r=new me,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};me.prototype.mapReverse=function(e,t){t=t||this;for(var r=new me,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};me.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=e(r,n.value,s),n=n.next;return r};me.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=e(r,n.value,s),n=n.prev;return r};me.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};me.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};me.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new me;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(;s!==null&&n<t;n++,s=s.next)r.push(s.value);return r};me.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new me;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;s!==null&&n>t;n--)s=s.prev;for(;s!==null&&n>e;n--,s=s.prev)r.push(s.value);return r};me.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(var a=[],n=0;s&&n<t;n++)a.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=r0(this,s,r[n]);return a};me.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function r0(e,t,r){var n=t===e.head?new Or(r,null,t,e):new Or(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function n0(e,t){e.tail=new Or(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s0(e,t){e.head=new Or(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Or(e,t,r,n){if(!(this instanceof Or))return new Or(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{e0()(me)}catch{}const a0=t0,Er=Symbol("max"),Ht=Symbol("length"),Mr=Symbol("lengthCalculator"),Pn=Symbol("allowStale"),wr=Symbol("maxAge"),Kt=Symbol("dispose"),Pc=Symbol("noDisposeOnSet"),je=Symbol("lruList"),dt=Symbol("cache"),ku=Symbol("updateAgeOnGet"),xs=()=>1;class o0{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Er]=t.max||1/0;const r=t.length||xs;if(this[Mr]=typeof r!="function"?xs:r,this[Pn]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[wr]=t.maxAge||0,this[Kt]=t.dispose,this[Pc]=t.noDisposeOnSet||!1,this[ku]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Er]=t||1/0,un(this)}get max(){return this[Er]}set allowStale(t){this[Pn]=!!t}get allowStale(){return this[Pn]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[wr]=t,un(this)}get maxAge(){return this[wr]}set lengthCalculator(t){typeof t!="function"&&(t=xs),t!==this[Mr]&&(this[Mr]=t,this[Ht]=0,this[je].forEach(r=>{r.length=this[Mr](r.value,r.key),this[Ht]+=r.length})),un(this)}get lengthCalculator(){return this[Mr]}get length(){return this[Ht]}get itemCount(){return this[je].length}rforEach(t,r){r=r||this;for(let n=this[je].tail;n!==null;){const s=n.prev;Nc(this,t,n,r),n=s}}forEach(t,r){r=r||this;for(let n=this[je].head;n!==null;){const s=n.next;Nc(this,t,n,r),n=s}}keys(){return this[je].toArray().map(t=>t.key)}values(){return this[je].toArray().map(t=>t.value)}reset(){this[Kt]&&this[je]&&this[je].length&&this[je].forEach(t=>this[Kt](t.key,t.value)),this[dt]=new Map,this[je]=new a0,this[Ht]=0}dump(){return this[je].map(t=>Ss(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[je]}set(t,r,n){if(n=n||this[wr],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const s=n?Date.now():0,a=this[Mr](r,t);if(this[dt].has(t)){if(a>this[Er])return Gr(this,this[dt].get(t)),!1;const c=this[dt].get(t).value;return this[Kt]&&(this[Pc]||this[Kt](t,c.value)),c.now=s,c.maxAge=n,c.value=r,this[Ht]+=a-c.length,c.length=a,this.get(t),un(this),!0}const i=new i0(t,r,a,s,n);return i.length>this[Er]?(this[Kt]&&this[Kt](t,r),!1):(this[Ht]+=i.length,this[je].unshift(i),this[dt].set(t,this[je].head),un(this),!0)}has(t){if(!this[dt].has(t))return!1;const r=this[dt].get(t).value;return!Ss(this,r)}get(t){return ea(this,t,!0)}peek(t){return ea(this,t,!1)}pop(){const t=this[je].tail;return t?(Gr(this,t),t.value):null}del(t){Gr(this,this[dt].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const s=t[n],a=s.e||0;if(a===0)this.set(s.k,s.v);else{const i=a-r;i>0&&this.set(s.k,s.v,i)}}}prune(){this[dt].forEach((t,r)=>ea(this,r,!1))}}const ea=(e,t,r)=>{const n=e[dt].get(t);if(n){const s=n.value;if(Ss(e,s)){if(Gr(e,n),!e[Pn])return}else r&&(e[ku]&&(n.value.now=Date.now()),e[je].unshiftNode(n));return s.value}},Ss=(e,t)=>{if(!t||!t.maxAge&&!e[wr])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[wr]&&r>e[wr]},un=e=>{if(e[Ht]>e[Er])for(let t=e[je].tail;e[Ht]>e[Er]&&t!==null;){const r=t.prev;Gr(e,t),t=r}},Gr=(e,t)=>{if(t){const r=t.value;e[Kt]&&e[Kt](r.key,r.value),e[Ht]-=r.length,e[dt].delete(r.key),e[je].removeNode(t)}};class i0{constructor(t,r,n,s,a){this.key=t,this.value=r,this.length=n,this.now=s,this.maxAge=a||0}}const Nc=(e,t,r,n)=>{let s=r.value;Ss(e,s)&&(Gr(e,r),e[Pn]||(s=void 0)),s&&t.call(n,s.value,s.key,e)};var c0=o0,ta,Oc;function yt(){if(Oc)return ta;Oc=1;class e{constructor(q,W){if(W=n(W),q instanceof e)return q.loose===!!W.loose&&q.includePrerelease===!!W.includePrerelease?q:new e(q.raw,W);if(q instanceof s)return this.raw=q.value,this.set=[[q]],this.format(),this;if(this.options=W,this.loose=!!W.loose,this.includePrerelease=!!W.includePrerelease,this.raw=q.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(Y=>this.parseRange(Y.trim())).filter(Y=>Y.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Y=this.set[0];if(this.set=this.set.filter(B=>!y(B[0])),this.set.length===0)this.set=[Y];else if(this.set.length>1){for(const B of this.set)if(B.length===1&&S(B[0])){this.set=[B];break}}}this.format()}format(){return this.range=this.set.map(q=>q.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(q){const Y=((this.options.includePrerelease&&R)|(this.options.loose&&g))+":"+q,B=r.get(Y);if(B)return B;const k=this.options.loose,z=k?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];q=q.replace(z,Q(this.options.includePrerelease)),a("hyphen replace",q),q=q.replace(u[c.COMPARATORTRIM],l),a("comparator trim",q),q=q.replace(u[c.TILDETRIM],d),a("tilde trim",q),q=q.replace(u[c.CARETTRIM],h),a("caret trim",q);let N=q.split(" ").map(o=>m(o,this.options)).join(" ").split(/\s+/).map(o=>G(o,this.options));k&&(N=N.filter(o=>(a("loose invalid filter",o,this.options),!!o.match(u[c.COMPARATORLOOSE])))),a("range list",N);const p=new Map,T=N.map(o=>new s(o,this.options));for(const o of T){if(y(o))return[o];p.set(o.value,o)}p.size>1&&p.has("")&&p.delete("");const v=[...p.values()];return r.set(Y,v),v}intersects(q,W){if(!(q instanceof e))throw new TypeError("a Range is required");return this.set.some(Y=>$(Y,W)&&q.set.some(B=>$(B,W)&&Y.every(k=>B.every(z=>k.intersects(z,W)))))}test(q){if(!q)return!1;if(typeof q=="string")try{q=new i(q,this.options)}catch{return!1}for(let W=0;W<this.set.length;W++)if(H(this.set[W],q,this.options))return!0;return!1}}ta=e;const t=c0,r=new t({max:1e3}),n=ii,s=Fs(),a=Ms,i=Xe,{safeRe:u,t:c,comparatorTrimReplace:l,tildeTrimReplace:d,caretTrimReplace:h}=Fn,{FLAG_INCLUDE_PRERELEASE:R,FLAG_LOOSE:g}=ks,y=K=>K.value==="<0.0.0-0",S=K=>K.value==="",$=(K,q)=>{let W=!0;const Y=K.slice();let B=Y.pop();for(;W&&Y.length;)W=Y.every(k=>B.intersects(k,q)),B=Y.pop();return W},m=(K,q)=>(a("comp",K,q),K=D(K,q),a("caret",K),K=w(K,q),a("tildes",K),K=b(K,q),a("xrange",K),K=F(K,q),a("stars",K),K),E=K=>!K||K.toLowerCase()==="x"||K==="*",w=(K,q)=>K.trim().split(/\s+/).map(W=>I(W,q)).join(" "),I=(K,q)=>{const W=q.loose?u[c.TILDELOOSE]:u[c.TILDE];return K.replace(W,(Y,B,k,z,N)=>{a("tilde",K,Y,B,k,z,N);let p;return E(B)?p="":E(k)?p=`>=${B}.0.0 <${+B+1}.0.0-0`:E(z)?p=`>=${B}.${k}.0 <${B}.${+k+1}.0-0`:N?(a("replaceTilde pr",N),p=`>=${B}.${k}.${z}-${N} <${B}.${+k+1}.0-0`):p=`>=${B}.${k}.${z} <${B}.${+k+1}.0-0`,a("tilde return",p),p})},D=(K,q)=>K.trim().split(/\s+/).map(W=>_(W,q)).join(" "),_=(K,q)=>{a("caret",K,q);const W=q.loose?u[c.CARETLOOSE]:u[c.CARET],Y=q.includePrerelease?"-0":"";return K.replace(W,(B,k,z,N,p)=>{a("caret",K,B,k,z,N,p);let T;return E(k)?T="":E(z)?T=`>=${k}.0.0${Y} <${+k+1}.0.0-0`:E(N)?k==="0"?T=`>=${k}.${z}.0${Y} <${k}.${+z+1}.0-0`:T=`>=${k}.${z}.0${Y} <${+k+1}.0.0-0`:p?(a("replaceCaret pr",p),k==="0"?z==="0"?T=`>=${k}.${z}.${N}-${p} <${k}.${z}.${+N+1}-0`:T=`>=${k}.${z}.${N}-${p} <${k}.${+z+1}.0-0`:T=`>=${k}.${z}.${N}-${p} <${+k+1}.0.0-0`):(a("no pr"),k==="0"?z==="0"?T=`>=${k}.${z}.${N}${Y} <${k}.${z}.${+N+1}-0`:T=`>=${k}.${z}.${N}${Y} <${k}.${+z+1}.0-0`:T=`>=${k}.${z}.${N} <${+k+1}.0.0-0`),a("caret return",T),T})},b=(K,q)=>(a("replaceXRanges",K,q),K.split(/\s+/).map(W=>j(W,q)).join(" ")),j=(K,q)=>{K=K.trim();const W=q.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return K.replace(W,(Y,B,k,z,N,p)=>{a("xRange",K,Y,B,k,z,N,p);const T=E(k),v=T||E(z),o=v||E(N),f=o;return B==="="&&f&&(B=""),p=q.includePrerelease?"-0":"",T?B===">"||B==="<"?Y="<0.0.0-0":Y="*":B&&f?(v&&(z=0),N=0,B===">"?(B=">=",v?(k=+k+1,z=0,N=0):(z=+z+1,N=0)):B==="<="&&(B="<",v?k=+k+1:z=+z+1),B==="<"&&(p="-0"),Y=`${B+k}.${z}.${N}${p}`):v?Y=`>=${k}.0.0${p} <${+k+1}.0.0-0`:o&&(Y=`>=${k}.${z}.0${p} <${k}.${+z+1}.0-0`),a("xRange return",Y),Y})},F=(K,q)=>(a("replaceStars",K,q),K.trim().replace(u[c.STAR],"")),G=(K,q)=>(a("replaceGTE0",K,q),K.trim().replace(u[q.includePrerelease?c.GTE0PRE:c.GTE0],"")),Q=K=>(q,W,Y,B,k,z,N,p,T,v,o,f,O)=>(E(Y)?W="":E(B)?W=`>=${Y}.0.0${K?"-0":""}`:E(k)?W=`>=${Y}.${B}.0${K?"-0":""}`:z?W=`>=${W}`:W=`>=${W}${K?"-0":""}`,E(T)?p="":E(v)?p=`<${+T+1}.0.0-0`:E(o)?p=`<${T}.${+v+1}.0-0`:f?p=`<=${T}.${v}.${o}-${f}`:K?p=`<${T}.${v}.${+o+1}-0`:p=`<=${p}`,`${W} ${p}`.trim()),H=(K,q,W)=>{for(let Y=0;Y<K.length;Y++)if(!K[Y].test(q))return!1;if(q.prerelease.length&&!W.includePrerelease){for(let Y=0;Y<K.length;Y++)if(a(K[Y].semver),K[Y].semver!==s.ANY&&K[Y].semver.prerelease.length>0){const B=K[Y].semver;if(B.major===q.major&&B.minor===q.minor&&B.patch===q.patch)return!0}return!1}return!0};return ta}var ra,Rc;function Fs(){if(Rc)return ra;Rc=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(d,h){if(h=r(h),d instanceof t){if(d.loose===!!h.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),i("comparator",d,h),this.options=h,this.loose=!!h.loose,this.parse(d),this.semver===e?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(d){const h=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],R=d.match(h);if(!R)throw new TypeError(`Invalid comparator: ${d}`);this.operator=R[1]!==void 0?R[1]:"",this.operator==="="&&(this.operator=""),R[2]?this.semver=new u(R[2],this.options.loose):this.semver=e}toString(){return this.value}test(d){if(i("Comparator.test",d,this.options.loose),this.semver===e||d===e)return!0;if(typeof d=="string")try{d=new u(d,this.options)}catch{return!1}return a(d,this.operator,this.semver,this.options)}intersects(d,h){if(!(d instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(d.value,h).test(this.value):d.operator===""?d.value===""?!0:new c(this.value,h).test(d.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||a(this.semver,"<",d.semver,h)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||a(this.semver,">",d.semver,h)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}ra=t;const r=ii,{safeRe:n,t:s}=Fn,a=Du,i=Ms,u=Xe,c=yt();return ra}const l0=yt(),u0=(e,t,r)=>{try{t=new l0(t,r)}catch{return!1}return t.test(e)};var Vs=u0;const d0=yt(),f0=(e,t)=>new d0(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var h0=f0;const m0=Xe,p0=yt(),$0=(e,t,r)=>{let n=null,s=null,a=null;try{a=new p0(t,r)}catch{return null}return e.forEach(i=>{a.test(i)&&(!n||s.compare(i)===-1)&&(n=i,s=new m0(n,r))}),n};var y0=$0;const v0=Xe,g0=yt(),_0=(e,t,r)=>{let n=null,s=null,a=null;try{a=new g0(t,r)}catch{return null}return e.forEach(i=>{a.test(i)&&(!n||s.compare(i)===1)&&(n=i,s=new v0(n,r))}),n};var E0=_0;const na=Xe,w0=yt(),Tc=Ls,S0=(e,t)=>{e=new w0(e,t);let r=new na("0.0.0");if(e.test(r)||(r=new na("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let a=null;s.forEach(i=>{const u=new na(i.semver.version);switch(i.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!a||Tc(u,a))&&(a=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),a&&(!r||Tc(r,a))&&(r=a)}return r&&e.test(r)?r:null};var b0=S0;const P0=yt(),N0=(e,t)=>{try{return new P0(e,t).range||"*"}catch{return null}};var O0=N0;const R0=Xe,Mu=Fs(),{ANY:T0}=Mu,I0=yt(),A0=Vs,Ic=Ls,Ac=li,C0=di,j0=ui,D0=(e,t,r,n)=>{e=new R0(e,n),t=new I0(t,n);let s,a,i,u,c;switch(r){case">":s=Ic,a=C0,i=Ac,u=">",c=">=";break;case"<":s=Ac,a=j0,i=Ic,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(A0(e,t,n))return!1;for(let l=0;l<t.set.length;++l){const d=t.set[l];let h=null,R=null;if(d.forEach(g=>{g.semver===T0&&(g=new Mu(">=0.0.0")),h=h||g,R=R||g,s(g.semver,h.semver,n)?h=g:i(g.semver,R.semver,n)&&(R=g)}),h.operator===u||h.operator===c||(!R.operator||R.operator===u)&&a(e,R.semver))return!1;if(R.operator===c&&i(e,R.semver))return!1}return!0};var fi=D0;const k0=fi,M0=(e,t,r)=>k0(e,t,">",r);var L0=M0;const F0=fi,V0=(e,t,r)=>F0(e,t,"<",r);var U0=V0;const Cc=yt(),z0=(e,t,r)=>(e=new Cc(e,r),t=new Cc(t,r),e.intersects(t,r));var q0=z0;const G0=Vs,K0=$t;var H0=(e,t,r)=>{const n=[];let s=null,a=null;const i=e.sort((d,h)=>K0(d,h,r));for(const d of i)G0(d,t,r)?(a=d,s||(s=d)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const u=[];for(const[d,h]of n)d===h?u.push(d):!h&&d===i[0]?u.push("*"):h?d===i[0]?u.push(`<=${h}`):u.push(`${d} - ${h}`):u.push(`>=${d}`);const c=u.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t};const jc=yt(),hi=Fs(),{ANY:sa}=hi,dn=Vs,mi=$t,B0=(e,t,r={})=>{if(e===t)return!0;e=new jc(e,r),t=new jc(t,r);let n=!1;e:for(const s of e.set){for(const a of t.set){const i=X0(s,a,r);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},W0=[new hi(">=0.0.0-0")],Dc=[new hi(">=0.0.0")],X0=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===sa){if(t.length===1&&t[0].semver===sa)return!0;r.includePrerelease?e=W0:e=Dc}if(t.length===1&&t[0].semver===sa){if(r.includePrerelease)return!0;t=Dc}const n=new Set;let s,a;for(const g of e)g.operator===">"||g.operator===">="?s=kc(s,g,r):g.operator==="<"||g.operator==="<="?a=Mc(a,g,r):n.add(g.semver);if(n.size>1)return null;let i;if(s&&a){if(i=mi(s.semver,a.semver,r),i>0)return null;if(i===0&&(s.operator!==">="||a.operator!=="<="))return null}for(const g of n){if(s&&!dn(g,String(s),r)||a&&!dn(g,String(a),r))return null;for(const y of t)if(!dn(g,String(y),r))return!1;return!0}let u,c,l,d,h=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,R=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;h&&h.prerelease.length===1&&a.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const g of t){if(d=d||g.operator===">"||g.operator===">=",l=l||g.operator==="<"||g.operator==="<=",s){if(R&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===R.major&&g.semver.minor===R.minor&&g.semver.patch===R.patch&&(R=!1),g.operator===">"||g.operator===">="){if(u=kc(s,g,r),u===g&&u!==s)return!1}else if(s.operator===">="&&!dn(s.semver,String(g),r))return!1}if(a){if(h&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===h.major&&g.semver.minor===h.minor&&g.semver.patch===h.patch&&(h=!1),g.operator==="<"||g.operator==="<="){if(c=Mc(a,g,r),c===g&&c!==a)return!1}else if(a.operator==="<="&&!dn(a.semver,String(g),r))return!1}if(!g.operator&&(a||s)&&i!==0)return!1}return!(s&&l&&!a&&i!==0||a&&d&&!s&&i!==0||R||h)},kc=(e,t,r)=>{if(!e)return t;const n=mi(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Mc=(e,t,r)=>{if(!e)return t;const n=mi(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var J0=B0;const aa=Fn,Lc=ks,Y0=Xe,Fc=Au,Q0=tn,Z0=Qg,x0=e_,eE=r_,tE=s_,rE=i_,nE=u_,sE=h_,aE=$_,oE=$t,iE=__,cE=S_,lE=ci,uE=O_,dE=I_,fE=Ls,hE=li,mE=Cu,pE=ju,$E=ui,yE=di,vE=Du,gE=x_,_E=Fs(),EE=yt(),wE=Vs,SE=h0,bE=y0,PE=E0,NE=b0,OE=O0,RE=fi,TE=L0,IE=U0,AE=q0,CE=H0,jE=J0;var DE={parse:Q0,valid:Z0,clean:x0,inc:eE,diff:tE,major:rE,minor:nE,patch:sE,prerelease:aE,compare:oE,rcompare:iE,compareLoose:cE,compareBuild:lE,sort:uE,rsort:dE,gt:fE,lt:hE,eq:mE,neq:pE,gte:$E,lte:yE,cmp:vE,coerce:gE,Comparator:_E,Range:EE,satisfies:wE,toComparators:SE,maxSatisfying:bE,minSatisfying:PE,minVersion:NE,validRange:OE,outside:RE,gtr:TE,ltr:IE,intersects:AE,simplifyRange:CE,subset:jE,SemVer:Y0,re:aa.re,src:aa.src,tokens:aa.t,SEMVER_SPEC_VERSION:Lc.SEMVER_SPEC_VERSION,RELEASE_TYPES:Lc.RELEASE_TYPES,compareIdentifiers:Fc.compareIdentifiers,rcompareIdentifiers:Fc.rcompareIdentifiers},Us={exports:{}},pi={exports:{}};const Lu=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};pi.exports=Lu;pi.exports.default=Lu;var kE=pi.exports;const ME=kE,bs=new WeakMap,Fu=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const s=e.displayName||e.name||"<anonymous>",a=function(...i){if(bs.set(a,++n),n===1)r=e.apply(this,i),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return ME(a,e),bs.set(a,n),a};Us.exports=Fu;Us.exports.default=Fu;Us.exports.callCount=e=>{if(!bs.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return bs.get(e)};var LE=Us.exports;(function(e,t){var r=fn&&fn.__classPrivateFieldSet||function(B,k,z,N,p){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!p)throw new TypeError("Private accessor was defined without a setter");if(typeof k=="function"?B!==k||!p:!k.has(B))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?p.call(B,z):p?p.value=z:k.set(B,z),z},n=fn&&fn.__classPrivateFieldGet||function(B,k,z,N){if(z==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof k=="function"?B!==k||!N:!k.has(B))throw new TypeError("Cannot read private member from an object whose class did not declare it");return z==="m"?N:z==="a"?N.call(B):N?N.value:k.get(B)},s,a,i,u,c,l;Object.defineProperty(t,"__esModule",{value:!0});const d=Hc,h=ba,R=Rr,g=Yu,y=Qu,S=Zu,$=sd,m=pd,E=gd,w=It,I=jp,D=bg,_=kg,b=DE,j=LE,F="aes-256-cbc",G=()=>Object.create(null),Q=B=>B!=null;let H="";try{delete require.cache[__filename],H=R.dirname((a=(s=e.parent)===null||s===void 0?void 0:s.filename)!==null&&a!==void 0?a:".")}catch{}const K=(B,k)=>{const z=new Set(["undefined","symbol","function"]),N=typeof k;if(z.has(N))throw new TypeError(`Setting a value of type \`${N}\` for key \`${B}\` is not allowed as it's not supported by JSON`)},q="__internal__",W=`${q}.migrations.version`;class Y{constructor(k={}){var z;i.set(this,void 0),u.set(this,void 0),c.set(this,void 0),l.set(this,{}),this._deserialize=f=>JSON.parse(f),this._serialize=f=>JSON.stringify(f,void 0,"	");const N={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...k},p=j(()=>{const f=m.sync({cwd:H}),O=f&&JSON.parse(h.readFileSync(f,"utf8"));return O??{}});if(!N.cwd){if(N.projectName||(N.projectName=p().name),!N.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");N.cwd=E(N.projectName,{suffix:N.projectSuffix}).config}if(r(this,c,N,"f"),N.schema){if(typeof N.schema!="object")throw new TypeError("The `schema` option must be an object.");const f=new I.default({allErrors:!0,useDefaults:!0});(0,D.default)(f);const O={type:"object",properties:N.schema};r(this,i,f.compile(O),"f");for(const[V,U]of Object.entries(N.schema))U!=null&&U.default&&(n(this,l,"f")[V]=U.default)}N.defaults&&r(this,l,{...n(this,l,"f"),...N.defaults},"f"),N.serialize&&(this._serialize=N.serialize),N.deserialize&&(this._deserialize=N.deserialize),this.events=new S.EventEmitter,r(this,u,N.encryptionKey,"f");const T=N.fileExtension?`.${N.fileExtension}`:"";this.path=R.resolve(N.cwd,`${(z=N.configName)!==null&&z!==void 0?z:"config"}${T}`);const v=this.store,o=Object.assign(G(),N.defaults,v);this._validate(o);try{y.deepEqual(v,o)}catch{this.store=o}if(N.watch&&this._watch(),N.migrations){if(N.projectVersion||(N.projectVersion=p().version),!N.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(N.migrations,N.projectVersion,N.beforeEachMigration)}}get(k,z){if(n(this,c,"f").accessPropertiesByDotNotation)return this._get(k,z);const{store:N}=this;return k in N?N[k]:z}set(k,z){if(typeof k!="string"&&typeof k!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof k}`);if(typeof k!="object"&&z===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(k))throw new TypeError(`Please don't use the ${q} key, as it's used to manage this module internal operations.`);const{store:N}=this,p=(T,v)=>{K(T,v),n(this,c,"f").accessPropertiesByDotNotation?$.set(N,T,v):N[T]=v};if(typeof k=="object"){const T=k;for(const[v,o]of Object.entries(T))p(v,o)}else p(k,z);this.store=N}has(k){return n(this,c,"f").accessPropertiesByDotNotation?$.has(this.store,k):k in this.store}reset(...k){for(const z of k)Q(n(this,l,"f")[z])&&this.set(z,n(this,l,"f")[z])}delete(k){const{store:z}=this;n(this,c,"f").accessPropertiesByDotNotation?$.delete(z,k):delete z[k],this.store=z}clear(){this.store=G();for(const k of Object.keys(n(this,l,"f")))this.reset(k)}onDidChange(k,z){if(typeof k!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof k}`);if(typeof z!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof z}`);return this._handleChange(()=>this.get(k),z)}onDidAnyChange(k){if(typeof k!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof k}`);return this._handleChange(()=>this.store,k)}get size(){return Object.keys(this.store).length}get store(){try{const k=h.readFileSync(this.path,n(this,u,"f")?null:"utf8"),z=this._encryptData(k),N=this._deserialize(z);return this._validate(N),Object.assign(G(),N)}catch(k){if((k==null?void 0:k.code)==="ENOENT")return this._ensureDirectory(),G();if(n(this,c,"f").clearInvalidConfig&&k.name==="SyntaxError")return G();throw k}}set store(k){this._ensureDirectory(),this._validate(k),this._write(k),this.events.emit("change")}*[(i=new WeakMap,u=new WeakMap,c=new WeakMap,l=new WeakMap,Symbol.iterator)](){for(const[k,z]of Object.entries(this.store))yield[k,z]}_encryptData(k){if(!n(this,u,"f"))return k.toString();try{if(n(this,u,"f"))try{if(k.slice(16,17).toString()===":"){const z=k.slice(0,16),N=g.pbkdf2Sync(n(this,u,"f"),z.toString(),1e4,32,"sha512"),p=g.createDecipheriv(F,N,z);k=Buffer.concat([p.update(Buffer.from(k.slice(17))),p.final()]).toString("utf8")}else{const z=g.createDecipher(F,n(this,u,"f"));k=Buffer.concat([z.update(Buffer.from(k)),z.final()]).toString("utf8")}}catch{}}catch{}return k.toString()}_handleChange(k,z){let N=k();const p=()=>{const T=N,v=k();(0,d.isDeepStrictEqual)(v,T)||(N=v,z.call(this,v,T))};return this.events.on("change",p),()=>this.events.removeListener("change",p)}_validate(k){if(!n(this,i,"f")||n(this,i,"f").call(this,k)||!n(this,i,"f").errors)return;const N=n(this,i,"f").errors.map(({instancePath:p,message:T=""})=>`\`${p.slice(1)}\` ${T}`);throw new Error("Config schema violation: "+N.join("; "))}_ensureDirectory(){h.mkdirSync(R.dirname(this.path),{recursive:!0})}_write(k){let z=this._serialize(k);if(n(this,u,"f")){const N=g.randomBytes(16),p=g.pbkdf2Sync(n(this,u,"f"),N.toString(),1e4,32,"sha512"),T=g.createCipheriv(F,p,N);z=Buffer.concat([N,Buffer.from(":"),T.update(Buffer.from(z)),T.final()])}if(process.env.SNAP)h.writeFileSync(this.path,z,{mode:n(this,c,"f").configFileMode});else try{w.writeFileSync(this.path,z,{mode:n(this,c,"f").configFileMode})}catch(N){if((N==null?void 0:N.code)==="EXDEV"){h.writeFileSync(this.path,z,{mode:n(this,c,"f").configFileMode});return}throw N}}_watch(){this._ensureDirectory(),h.existsSync(this.path)||this._write(G()),process.platform==="win32"?h.watch(this.path,{persistent:!1},_(()=>{this.events.emit("change")},{wait:100})):h.watchFile(this.path,{persistent:!1},_(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(k,z,N){let p=this._get(W,"0.0.0");const T=Object.keys(k).filter(o=>this._shouldPerformMigration(o,p,z));let v={...this.store};for(const o of T)try{N&&N(this,{fromVersion:p,toVersion:o,finalVersion:z,versions:T});const f=k[o];f(this),this._set(W,o),p=o,v={...this.store}}catch(f){throw this.store=v,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${f}`)}(this._isVersionInRangeFormat(p)||!b.eq(p,z))&&this._set(W,z)}_containsReservedKey(k){return typeof k=="object"&&Object.keys(k)[0]===q?!0:typeof k!="string"?!1:n(this,c,"f").accessPropertiesByDotNotation?!!k.startsWith(`${q}.`):!1}_isVersionInRangeFormat(k){return b.clean(k)===null}_shouldPerformMigration(k,z,N){return this._isVersionInRangeFormat(k)?z!=="0.0.0"&&b.satisfies(z,k)?!1:b.satisfies(N,k):!(b.lte(k,z)||b.gt(k,N))}_get(k,z){return $.get(this.store,k,z)}_set(k,z){const{store:N}=this;$.set(N,k,z),this.store=N}}t.default=Y,e.exports=Y,e.exports.default=Y})(oa,oa.exports);var FE=oa.exports;const Vc=Rr,{app:fs,ipcMain:Sa,ipcRenderer:Uc,shell:VE}=jt,UE=FE;let zc=!1;const qc=()=>{if(!Sa||!fs)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:fs.getPath("userData"),appVersion:fs.getVersion()};return zc||(Sa.on("electron-store-get-data",t=>{t.returnValue=e}),zc=!0),e};class zE extends UE{constructor(t){let r,n;if(Uc){const s=Uc.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else Sa&&fs&&({defaultCwd:r,appVersion:n}=qc());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=Vc.isAbsolute(t.cwd)?t.cwd:Vc.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){qc()}openInEditor(){VE.openPath(this.path)}}var qE=zE;const GE=ed(qE);function KE(){return Bc.platform()==="win32"}let Kr="trilogy-studio-engine",HE=5678;KE()&&(Kr=`${Kr}.exe`);function BE(e){return e=e.trim(),e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")?e.slice(1,-1):e}function WE(){return new Promise((e,t)=>{const r={hostname:"127.0.0.1",port:HE,path:"/terminate",method:"GET"},n=xu.request(r,s=>{let a="";s.on("data",i=>{a+=i}),s.on("end",()=>{e(a)})});n.on("error",s=>{t(s)}),n.end()})}function XE(e){return new Promise((t,r)=>{const n=process.platform;let s;if(n==="win32")s=`tasklist /FI "IMAGENAME eq ${e}" /FO CSV /NH`;else if(n==="darwin"||n==="linux")s=`ps -C ${e} -o pid=`;else{r(new Error(`Unsupported platform: ${n}`));return}Wc.exec(s,(a,i)=>{if(a)if((n==="darwin"||n==="linux")&&a.code===1&&!a.killed)t([]);else{r(a);return}const u=i.trim();if(u)if(n==="win32"&&u.includes("No tasks are running which match the specified criteria."))t([]);else if(n==="win32"){const c=u.split(`
`),l=[];for(const d of c)if(d.trim()!==""){const h=d.split(",")[1].trim();l.push({pid:BE(h),name:e})}t(l)}else{const c=u.split(`
`)[0].trim();t([{pid:c,name:e}])}else t([])})})}const JE=()=>{const e=Ur.join(process.env.PUBLIC,Kr);console.log(`spawning background service at ${e}`);const t=Wc.execFile(e,[],{windowsHide:!0},(n,s,a)=>{if(n)throw n;console.log(s),console.log(a)});console.log(`Background process started with pid ${t.pid}`),t.on("close",n=>{console.log(`Background python process exited with code ${n}`)}),t.stdout&&t.stdout.on("data",n=>{console.log(`Child background python stdout: ${n}`)}),t.stderr&&t.stderr.on("data",n=>{console.log(`Child background python stderr: ${n}`)}),t.on("error",n=>{console.error(`Error occurred in background python process: ${n}, ${n.message}`)}),t.on("exit",n=>{console.log(`Background process ${t.pid} exited with code ${n}`)});let r=!1;return jt.app.on("before-quit",async n=>{r||(n.preventDefault(),await WE().then(()=>{r=!0,console.log(`Background service ${t.pid} shut down, quitting`),jt.app.quit()}).catch(s=>{console.log(`Background service ${t.pid} failed to shut down ${s}`)}))}),t};async function YE(){await XE(Kr).then(e=>{e.length>0?e.map(t=>{console.log(t),console.log(`Background ${Kr} is already running ${t.pid}!`),console.log(`Killing ${t.pid} and restarting`),process.kill(t.pid)}):console.log(`Background ${Kr} is not running, starting it!`),JE()})}GE.initRenderer();process.env.DIST=Ur.join(__dirname,"../dist");process.env.PUBLIC=jt.app.isPackaged?process.env.DIST:Ur.join(process.env.DIST,"../public");let mr;const Gc=process.env.VITE_DEV_SERVER_URL;function Kc(){mr=new jt.BrowserWindow({icon:Ur.join(process.env.PUBLIC,"electron-vite.svg"),webPreferences:{contextIsolation:!1,nodeIntegration:!0,preload:Ur.join(__dirname,"preload.js")}}),mr.webContents.on("did-finish-load",()=>{mr==null||mr.webContents.send("main-process-message",new Date().toLocaleString())}),Gc?mr.loadURL(Gc):mr.loadFile(Ur.join(process.env.DIST,"index.html"))}jt.app.on("window-all-closed",()=>{process.platform!=="darwin"&&jt.app.quit()});jt.app.isPackaged?jt.app.whenReady().then(YE).then(Kc):jt.app.whenReady().then(Kc);
